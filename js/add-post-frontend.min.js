jQuery(document).ready(function(f){var a=f("body"),e=f(".add-post-frontend .add-post-form"),b={};function c(h){return h.split(/,\s*/)}function g(h){return c(h).pop()}function d(h){h.on("keydown",function(i){if(i.keyCode===f.ui.keyCode.TAB&&f(this).autocomplete("instance").menu.active){i.preventDefault()}}).autocomplete({source:function(k,i){var j=g(k.term);if(j in b){i(b[j]);return}f.getJSON(hocwpTheme.homeUrl+"?return=name&get_terms="+h.data("taxonomy")+"&_wpnonce="+hocwpTheme.nonce,{term:j},function(l){b[j]=l;i(l)})},search:function(){var i=g(this.value);if(i.length<2){return false}},focus:function(){return false},select:function(j,k){var i=c(this.value);i.pop();i.push(k.item.value);i.push("");this.value=i.join(", ");return false},minLength:2,open:function(){f(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){f(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})}(function(){e.on("change","select[name='add_post_type']",function(l){l.preventDefault();var i=this,h=f(i),k=h.val(),j=e.find(".add-post-wizard.right-label");f.ajax({type:"POST",dataType:"json",url:hocwpTheme.ajaxUrl,data:{action:"hte_add_post_frontend_change_post_type",post_type:k,right_label:j.length},success:function(m){if(m.success){e.find(".hierarchical-taxs").html(m.data.hierarchical);e.find(".none-hierarchical-taxs").html(m.data.none_hierarchical)}else{h.val(f.data(i,"current"));return false}a.trigger("HTEAddPostFrontend:PostTypeChange",[m])}})});a.on("HTEAddPostFrontend:PostTypeChange",function(i,h){if("object"==typeof h&&h.success){b={};e.find("select[data-combobox='1']").combobox();e.find("input.nonhierarchical-taxonomy").each(function(){var k=this,j=f(k);j.val("");d(j)})}})})();(function(){f("input.nonhierarchical-taxonomy").each(function(){var i=this,h=f(i);d(h)})})();(function(){e.on("click",".image-button",function(){var j=f(this),h=j.parent(),i=h.find("input[type='file']").first();if(!i.prop("multiple")){i.get(0).click()}});e.on("change",".image-button input[type='file']",function(){var q=this,o=f(q),h=o.val(),r=h.split(".").pop(),k=q.files,l=o.closest(".image-button"),s=l.next(".wrap-image");if(o.prop("multiple")){for(var m=0;m<k.length;m++){h=k[m].name;r=h.split(".").pop();if("png"!==r&&"jpg"!==r&&"jpeg"!==r){o.val("");alert(hteAddPostFrontend.l10n.invalidImageMessage);if(s.length){s.html("")}a.trigger("HTEAddPostFrontend:FileChange",[o]);return false}}}else{if("png"!==r&&"jpg"!==r&&"jpeg"!==r){o.val("");alert(hteAddPostFrontend.l10n.invalidImageMessage);if(s.length){s.html("")}a.trigger("HTEAddPostFrontend:FileChange",[o]);return false}}if(s.length){s.html("");if(k){for(var n=0;n<k.length;n++){var p=new FileReader();p.onload=function(j){var i='<img src="'+j.target.result+'" alt="">';s.append(i)};p.readAsDataURL(k[n])}}}a.trigger("HTEAddPostFrontend:FileChange",[o])})})()});