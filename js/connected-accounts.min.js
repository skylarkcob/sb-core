jQuery(document).ready(function(b){var a=b("body");(function(){function d(i,j){j=(typeof j==="number")?j:1;if(1===j){i.prop("disabled",true);i.addClass("disabled")}else{i.prop("disabled",false);i.removeClass("disabled")}}function e(l,j,i){var m={action:"hocwp_theme_connect_social"};var k=Object.assign({},m,j);b.ajax({type:"POST",dataType:"json",url:hocwpTheme.ajaxUrl,data:k,success:function(n){i(n,l)},complete:function(){d(l,0)}})}function g(l,j,i){var m={type:"facebook",social_data:"",disconnect:0,id:"",login:""};var k=Object.assign({},m,j);FB.login(function(n){if(n.authResponse){FB.api("/me",{fields:"id,name,first_name,last_name,gender,picture,verified,email,birthday"},function(o){k.social_data=o;k.id=o.id;e(l,k,i)})}},{scope:"email,public_profile"})}function f(i){if(i.success){if(b.trim(i.data.redirect_to)){window.location.href=i.data.redirect_to}else{var j=b("input[name='redirect_to']");if(j.length&&b.trim(j.val())){window.location.href=j.val()}else{window.location.reload()}}}else{if(b.trim(i.data.message)){alert(i.data.message)}}}function h(j,k){if(j.success){var i=k.parent();k.text(k.attr("data-disconnect-text"));k.attr("data-connect",1);if(j.data.html){k=k.detach();i.html(j.data.html);i.append(k)}}else{k.text(k.attr("data-text"))}}function c(j,k){if(j.success){var i=k.parent();var l=k.clone();k=b(l);k.text(k.attr("data-text"));k.attr("data-connect",0);d(k,0);i.html(k)}}a.on("click","button.connect-facebook",function(m){m.preventDefault();var l=b(this),j=parseInt(l.attr("data-login")),i=parseInt(l.attr("data-connect"));d(l);if(1===j){g(l,{login:j},f)}else{if(0===i){l.text(l.attr("data-loading-text"));g(l,null,h)}else{var k={type:"facebook",social_data:"",disconnect:1,id:"",login:""};e(l,k,c)}}})})()});