webpackJsonpjwplayer([3,13],{8:function(b,d,a){var f,c;f=[a(1),a(11),a(2),a(13),a(12)],c=function(U,aj,af,ab,X){function an(m){if(this._currentTextTrackIndex=-1,m){if(this._textTracks?(this._textTracks=U.reject(this._textTracks,function(e){if(this.renderNatively&&"nativecaptions"===e._id){return delete this._tracksById[e._id],!0}},this),delete this._tracksById.nativemetadata):this._initTextTracks(),m.length){var t=0,g=m.length;for(t;t<g;t++){var l=m[t];if(!l._id){if("captions"===l.kind||"metadata"===l.kind){if(l._id="native"+l.kind,!l.label&&"captions"===l.kind){var p=X.createLabel(l,this._unknownCount);l.name=p.label,this._unknownCount=p.unknownCount}}else{l._id=X.createId(l,this._textTracks.length)}if(this._tracksById[l._id]){continue}l.inuse=!0}if(l.inuse&&!this._tracksById[l._id]){if("metadata"===l.kind){l.mode="hidden",l.oncuechange=B.bind(this),this._tracksById[l._id]=l}else{if(q(l.kind)){var i,k=l.mode;if(l.mode="hidden",!l.cues.length&&l.embedded){continue}if(l.mode=k,this._cuesByTrackId[l._id]&&!this._cuesByTrackId[l._id].loaded){for(var r=this._cuesByTrackId[l._id].cues;i=r.shift();){Q(this.renderNatively,l,i)}l.mode=k,this._cuesByTrackId[l._id].loaded=!0}H.call(this,l)}}}}}this.renderNatively&&(this.textTrackChangeHandler=this.textTrackChangeHandler||am.bind(this),this.addTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),(af.isEdge()||af.isFF()||af.isSafari())&&(this.addTrackHandler=this.addTrackHandler||G.bind(this),this.addTracksListener(this.video.textTracks,"addtrack",this.addTrackHandler))),this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks})}}function V(g){if(this.renderNatively){var h=g===this._itemTracks;h||ab.cancelXhr(this._itemTracks),this._itemTracks=g,g&&(h||(this.disableTextTrack(),ao.call(this),this.addTextTracks(g)))}}function aa(){return this._currentTextTrackIndex}function O(g){return this.renderNatively?void (this._textTracks&&(0===g&&U.each(this._textTracks,function(e){e.mode=e.embedded?"hidden":"disabled"}),this._currentTextTrackIndex!==g-1&&(this.disableTextTrack(),this._currentTextTrackIndex=g-1,this._textTracks[this._currentTextTrackIndex]&&(this._textTracks[this._currentTextTrackIndex].mode="showing"),this.trigger("subtitlesTrackChanged",{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})))):void (this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(g-1))}function ag(k){if(k.text&&k.begin&&k.end){var n=k.trackid.toString(),h=this._tracksById&&this._tracksById[n];h||(h={kind:"captions",_id:n,data:[]},this.addTextTracks([h]),this.trigger("subtitlesTracks",{tracks:this._textTracks}));var m;k.useDTS&&(h.source||(h.source=k.source||"mpegts")),m=k.begin+"_"+k.text;var g=this._metaCuesByTextTime[m];if(!g){g={begin:k.begin,end:k.end,text:k.text},this._metaCuesByTextTime[m]=g;var l=ab.convertToVTTCues([g])[0];h.data.push(l)}}}function al(k){this._tracksById||this._initTextTracks();var m=k.track?k.track:"native"+k.type,h=this._tracksById[m],o="captions"===k.type?"Unknown CC":"ID3 Metadata",l=k.cue;if(!h){var g={kind:k.type,_id:m,label:o,embedded:!0};h=Y.call(this,g),this.renderNatively||"metadata"===h.kind?this.setTextTracks(this.video.textTracks):j.call(this,[h])}W.call(this,h,l)&&(this.renderNatively||"metadata"===h.kind?Q(this.renderNatively,h,l):h.data.push(l))}function ak(w){var n=this._tracksById[w.name];if(n){n.source=w.source;for(var l=w.captions||[],g=[],p=!1,x=0;x<l.length;x++){var k=l[x],v=w.name+"_"+k.begin+"_"+k.end;this._metaCuesByTextTime[v]||(this._metaCuesByTextTime[v]=k,g.push(k),p=!0)}p&&g.sort(function(h,i){return h.begin-i.begin});var m=ab.convertToVTTCues(g);Array.prototype.push.apply(n.data,m)}}function ad(h,k,g){h&&(ai(h,k,g),this.instreamMode||(h.addEventListener?h.addEventListener(k,g):h["on"+k]=g))}function ai(h,k,g){h&&(h.removeEventListener?h.removeEventListener(k,g):h["on"+k]=null)}function Z(){ab.cancelXhr(this._itemTracks);var e=this._tracksById&&this._tracksById.nativemetadata;(this.renderNatively||e)&&(ae(this.renderNatively,this.video.textTracks),e&&(e.oncuechange=null)),this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._activeCuePosition=null,this.renderNatively&&(this.removeTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),ae(this.renderNatively,this.video.textTracks))}function ac(e){this._cachedVTTCues[e]&&(this._cachedVTTCues[e]={},this._tracksById[e].data=[])}function M(){if(this._textTracks){var e=this._textTracks[this._currentTextTrackIndex];e&&(e.mode="disabled",(e.embedded||"nativecaptions"===e._id)&&(e.mode="hidden"))}}function ah(){if(this._textTracks){var e=this._textTracks[this._currentTextTrackIndex];e&&(e.mode="showing")}}function am(){var k=this.video.textTracks,g=U.filter(k,function(e){return(e.inuse||!e._id)&&q(e.kind)});if(!this._textTracks||D.call(this,g)){return void this.setTextTracks(k)}for(var l=-1,h=0;h<this._textTracks.length;h++){if("showing"===this._textTracks[h].mode){l=h;break}}l!==this._currentTextTrackIndex&&this.setSubtitlesTrack(l+1)}function G(){this.setTextTracks(this.video.textTracks)}function j(h){if(h){this._textTracks||this._initTextTracks();for(var l=0;l<h.length;l++){var g=h[l];if(!g.kind||q(g.kind)){var k=Y.call(this,g);H.call(this,k),g.file&&(g.data=[],ab.loadFile(g,this.addVTTCuesToTrack.bind(this,k),z))}}this._textTracks&&this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks})}}function K(h,k){if(this.renderNatively){var g=this._tracksById[h._id];if(!g){return this._cuesByTrackId||(this._cuesByTrackId={}),void (this._cuesByTrackId[h._id]={cues:k,loaded:!1})}if(!this._cuesByTrackId[h._id]||!this._cuesByTrackId[h._id].loaded){var l;for(this._cuesByTrackId[h._id]={cues:k,loaded:!0};l=k.shift();){Q(this.renderNatively,g,l)}}}}function Q(g,i,k){if(!af.isIE()||!g||!window.TextTrackCue){return void i.addCue(k)}var h=new window.TextTrackCue(k.startTime,k.endTime,k.text);i.addCue(h)}function ae(g,h){h&&h.length&&U.each(h,function(e){if(!(af.isIE()&&g&&/^(native|subtitle|cc)/.test(e._id))){e.mode="disabled",e.mode="hidden";for(var i=e.cues.length;i--;){e.removeCue(e.cues[i])}e.embedded||(e.mode="disabled"),e.inuse=!1}})}function q(e){return"subtitles"===e||"captions"===e}function J(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._unknownCount=0}function Y(l){var h,m=X.createLabel(l,this._unknownCount),g=m.label;if(this._unknownCount=m.unknownCount,this.renderNatively||"metadata"===l.kind){var k=this.video.textTracks;h=U.findWhere(k,{label:g}),h?(h.kind=l.kind,h.language=l.language||""):h=this.video.addTextTrack(l.kind,g,l.language||""),h["default"]=l["default"],h.mode="disabled",h.inuse=!0}else{h=l,h.data=h.data||[]}return h._id||(h._id=X.createId(l,this._textTracks.length)),h}function H(e){this._textTracks.push(e),this._tracksById[e._id]=e}function ao(){if(this._textTracks){var g=U.filter(this._textTracks,function(e){return e.embedded||"subs"===e.groupid});this._initTextTracks(),U.each(g,function(e){this._tracksById[e._id]=e}),this._textTracks=g}}function B(g){var l=g.currentTarget.activeCues;if(l&&l.length){var k=l[l.length-1].startTime;if(this._activeCuePosition!==k){var e=[];if(U.each(l,function(i){i.startTime<k||(i.data||i.value?e.push(i):i.text&&this.trigger("meta",{metadataTime:k,metadata:JSON.parse(i.text)}))},this),e.length){var h=aj.parseID3(e);this.trigger("meta",{metadataTime:k,metadata:h})}this._activeCuePosition=k}}}function W(w,m){var l=w.kind;this._cachedVTTCues[w._id]||(this._cachedVTTCues[w._id]={});var k,g=this._cachedVTTCues[w._id];switch(l){case"captions":case"subtitles":k=Math.floor(20*m.startTime);var p="_"+m.line,x=Math.floor(20*m.endTime),h=g[k+p]||g[k+1+p]||g[k-1+p];return !(h&&Math.abs(h-x)<=1)&&(g[k+p]=x,!0);case"metadata":var v=m.data?new Uint8Array(m.data).join(""):m.text;return k=m.startTime+v,!g[k]&&(g[k]=m.endTime,!0);default:return !1}}function D(h){if(h.length>this._textTracks.length){return !0}for(var k=0;k<h.length;k++){var g=h[k];if(!g._id||!this._tracksById[g._id]){return !0}}return !1}function z(e){af.log("CAPTIONS("+e+")")}var F={_itemTracks:null,_textTracks:null,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_currentTextTrackIndex:-1,_unknownCount:0,_activeCuePosition:null,_initTextTracks:J,addTracksListener:ad,clearTracks:Z,clearCueData:ac,disableTextTrack:M,enableTextTrack:ah,getSubtitlesTrack:aa,removeTracksListener:ai,addTextTracks:j,setTextTracks:an,setupSideloadedTracks:V,setSubtitlesTrack:O,textTrackChangeHandler:null,addTrackHandler:null,addCuesToTrack:ak,addCaptionsCue:ag,addVTTCue:al,addVTTCuesToTrack:K,renderNatively:!1};return F}.apply(d,f),!(void 0!==c&&(b.exports=c))},9:function(b,c){function a(d){return{bitrate:d.bitrate,label:d.label,width:d.width,height:d.height}}Object.defineProperty(c,"__esModule",{value:!0}),c.qualityLevel=a},17:function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLAYER=1,b.SETUP=2,b.MEDIA=3,b.NETWORK=4,b.AD=5},18:function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.BAD_HTTP_STATUS=4001,b.CROSSDOMAIN_ERROR=4002,b.BLOCKED_MIXED_CONTENT=4003},19:function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.RECOVERABLE=1,b.FATAL=2},24:function(b,d,a){var f,c;f=[],c=function(){function e(g){return g&&g.length?g.end(g.length-1):0}return{endOfRange:e}}.apply(d,f),!(void 0!==c&&(b.exports=c))},25:function(b,d,a){var f,c;f=[a(36)],c=function(w){function J(){return{decode:function(e){if(!e){return""}if("string"!=typeof e){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(e))}}}function F(h){function l(o,p,m,r){return 3600*(0|o)+60*(0|p)+(0|m)+(0|r)/1000}var g=h.match(x);return g?g[3]?l(g[1],g[2],g[3].replace(":",""),g[4]):g[1]>59?l(g[1],g[2],0,g[4]):l(0,g[1],g[2],g[4]):null}function C(){this.values=Object.create(null)}function z(O,p,m,l){for(var g=l?O.split(l):[O],v=0;v<=g.length;v+=1){if("string"==typeof g[v]){var P=g[v].split(m);if(2===P.length){var h=P[0],y=P[1];p(h,y)}}}}function N(l,p,g){function n(){var h=F(l);if(null===h){throw new Error("Malformed timestamp: "+m)}return l=l.replace(L,""),h}function r(u,y){var h=new C;z(u,function(o,R){switch(o){case"region":for(var S=g.length-1;S>=0;S--){if(g[S].id===R){h.set(o,g[S].region);break}}break;case"vertical":h.alt(o,R,["rl","lr"]);break;case"line":var Q=R.split(","),P=Q[0];h.integer(o,P),h.percent(o,P)&&h.set("snapToLines",!1),h.alt(o,P,["auto"]),2===Q.length&&h.alt("lineAlign",Q[1],["start",j,"end"]);break;case"position":Q=R.split(","),h.percent(o,Q[0]),2===Q.length&&h.alt("positionAlign",Q[1],["start",j,"end","line-left","line-right","auto"]);break;case"size":h.percent(o,R);break;case"align":h.alt(o,R,["start",j,"end","left","right"])}},K,E),y.region=h.get("region",null),y.vertical=h.get("vertical","");var v=h.get("line","auto");"auto"===v&&M.line===-1&&(v=-1),y.line=v,y.lineAlign=h.get("lineAlign","start"),y.snapToLines=h.get("snapToLines",!0),y.size=h.get("size",100),y.align=h.get("align",j);var O=h.get("position","auto");"auto"===O&&50===M.position&&(O="start"===y.align||"left"===y.align?0:"end"===y.align||"right"===y.align?100:50),y.position=O}function i(){l=l.replace(I,"")}var m=l;if(i(),p.startTime=n(),i(),"-->"!==l.substr(0,3)){throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+m)}l=l.substr(3),i(),p.endTime=n(),i(),r(l,p)}var x=/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/,B=/^-?\d+$/,q=/\r\n|\n/,G=/^NOTE($|[ \t])/,L=/^[^\sa-zA-Z-]+/,K=/:/,E=/\s/,I=/^\s+/,A=/-->/,D=/^WEBVTT([ \t].*)?$/,k=window.requestAnimationFrame||function(e){return window.setTimeout(e,17)},H=function(g,e){this.window=g,this.state="INITIAL",this.buffer="",this.decoder=e||new J,this.regionList=[],this.maxCueBatch=1000};C.prototype={set:function(g,h){this.get(g)||""===h||(this.values[g]=h)},get:function(h,l,g){return g?this.has(h)?this.values[h]:l[g]:this.has(h)?this.values[h]:l},has:function(e){return e in this.values},alt:function(h,l,g){for(var m=0;m<g.length;++m){if(l===g[m]){this.set(h,l);break}}},integer:function(g,h){B.test(h)&&this.set(g,parseInt(h,10))},percent:function(g,h){return h=parseFloat(h),h>=0&&h<=100&&(this.set(g,h),!0)}};var M=new w(0,0,0),j="middle"===M.align?"middle":"center";return H.prototype={parse:function(O,t){function m(){for(var l=p.buffer,n=0;n<l.length&&"\r"!==l[n]&&"\n"!==l[n];){++n}var g=l.substr(0,n);return"\r"===l[n]&&++n,"\n"===l[n]&&++n,p.buffer=l.substr(n),g}function S(e){z(e,function(g,i){switch(g){case"Region":console.log("parse region",i)}},K)}function h(){"CUETEXT"===p.state&&p.cue&&p.oncue&&p.oncue(p.cue),p.cue=null,p.state="INITIAL"===p.state?"BADWEBVTT":"BADCUE"}function P(){try{for(;p.buffer&&r<=p.maxCueBatch;){if(!q.test(p.buffer)){return p.flush(),this}switch(Q?Q=!1:v=m(),p.state){case"HEADER":K.test(v)?S(v):v||(p.state="ID");break;case"NOTE":v||(p.state="ID");break;case"ID":if(G.test(v)){p.state="NOTE";break}if(!v){break}if(p.cue=new w(0,0,""),p.state="CUE",!A.test(v)){p.cue.id=v;break}case"CUE":try{N(v,p.cue,p.regionList)}catch(i){p.cue=null,p.state="BADCUE";break}p.state="CUETEXT";break;case"CUETEXT":var g=A.test(v);if(!v||g&&(Q=!0)){p.oncue&&(r+=1,p.oncue(p.cue)),p.cue=null,p.state="ID";break}p.cue.text&&(p.cue.text+="\n"),p.cue.text+=v;break;case"BADCUE":v||(p.state="ID")}}if(r=0,p.buffer){k(P)}else{if(!t){return p.flush(),this}}}catch(i){return h(i),this}}var p=this;O&&(p.buffer+=p.decoder.decode(O,{stream:!0}));try{var v;if("INITIAL"===p.state){if(!q.test(p.buffer)){return this}v=m();var u=v.match(D);if(!u||!u[0]){throw new Error("Malformed WebVTT signature.")}p.state="HEADER"}}catch(R){return h(),this}var Q=!1,r=0;P()},flush:function(){var g=this;try{if(g.buffer+=g.decoder.decode(),(g.cue||"HEADER"===g.state)&&(g.buffer+="\n\n",g.parse(void 0,!0)),"INITIAL"===g.state){throw new Error("Malformed WebVTT signature.")}}catch(h){throw h}return g.onflush&&g.onflush(),this}},H}.apply(d,f),!(void 0!==c&&(b.exports=c))},30:function(q,k,g){function f(c){if(c&&c.__esModule){return c}var h={};if(null!=c){for(var a in c){Object.prototype.hasOwnProperty.call(c,a)&&(h[a]=c[a])}}return h["default"]=c,h}Object.defineProperty(k,"__esModule",{value:!0}),k.Severity=k.Code=k.Category=k.NetworkError=void 0;var b=g(32);Object.defineProperty(k,"NetworkError",{enumerable:!0,get:function(){return b.NetworkError}});var m=g(17),v=f(m),d=g(18),p=f(d),j=g(19),l=f(j);k.Category=v,k.Code=p,k.Severity=l},31:function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.JWError=function(d,f,c,g){return{category:d,code:f,severity:c,message:g}}},32:function(A,v,m){function j(c){if(c&&c.__esModule){return c}var d={};if(null!=c){for(var a in c){Object.prototype.hasOwnProperty.call(c,a)&&(d[a]=c[a])}}return d["default"]=c,d}Object.defineProperty(v,"__esModule",{value:!0}),v.badStatusMessage=v.networkErrorMessage=v.networkErrorCode=v.NetworkError=void 0;var b=m(17),y=j(b),B=m(18),g=j(B),z=m(19),p=j(z),x=m(31),w=(v.NetworkError=function(c,d){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",f=w(c,d);return(0,x.JWError)(y.NETWORK,f,p.FATAL,k(f,c,a))},v.networkErrorCode=function(c,d){var a=void 0;return a=c>0?g.BAD_HTTP_STATUS:d&&"http:"===d.substring(0,5)&&"https:"===document.location.protocol?g.BLOCKED_MIXED_CONTENT:g.CROSSDOMAIN_ERROR}),k=v.networkErrorMessage=function(c,d,a){var f="";switch(c){case g.BAD_HTTP_STATUS:f=q(d,a);break;case g.CROSSDOMAIN_ERROR:f="Crossdomain access denied";break;case g.BLOCKED_MIXED_CONTENT:f="Unable to fetch HTTP resource over HTTPS";break;default:f="Unknown Network Error"}return f},q=v.badStatusMessage=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";switch(c){case 403:a="You do not have permission to access this content";break;case 404:a="404 Not Found";break;default:a=c+" "+d}return a}},46:function(b,d,a){var f,c;f=[a(2)],c=function(e){return{container:null,volume:function(g){g=e.between(g/100,0,1),this.video.volume=g},mute:function(g){this.video.muted=!!g,this.video.muted||this.video.removeAttribute("muted")},resize:function(l,h,m){if(!(l&&h&&this.video.videoWidth&&this.video.videoHeight)){return !1}if("uniform"===m){var k=l/h,g=this.video.videoWidth/this.video.videoHeight,j=null;Math.abs(k-g)<0.09&&(j="fill"),e.style(this.video,{objectFit:j})}return !1},getContainer:function(){return this.container},setContainer:function(g){this.container=g,g.insertBefore(this.video,g.firstChild)},remove:function(){this.stop(),this.destroy(),this.container===this.video.parentNode&&this.container.removeChild(this.video)},getVideo:function(j,g){var k=g||document.getElementById(j),h=k?k.querySelector("video"):null;return h||(h=document.createElement("video"),e.isMobile()&&h.setAttribute("jw-gesture-required","")),h.className="jw-video jw-reset",this.video=h,h}}}.apply(d,f),!(void 0!==c&&(b.exports=c))},47:function(b,d,a){var f,c;f=[a(3),a(10),a(5),a(1),a(24)],c=function(j,l,h,m,k){var g=256;return{stallCheckTimeout_:-1,lastStalledTime_:NaN,trigger:function(o,n){return j.trigger.call(this,o,n)},setState:function(e){return l.setState.call(this,e)},attachMedia:function(){this.eventsOn_()},detachMedia:function(){return this.stopStallCheck(),this.eventsOff_(),this.video},stopStallCheck:function(){clearTimeout(this.stallCheckTimeout_)},startStallCheck:function(){this.stopStallCheck(),this.stallCheckTimeout_=setTimeout(this.stalledHandler.bind(this,this.video.currentTime),g)},stalledHandler:function(e){e===this.video.currentTime&&(this.video.paused||this.video.ended||this.state!==h.LOADING&&this.state!==h.ERROR&&(this.seeking||(this.atEdgeOfLiveStream()&&this.setPlaybackRate(1),this.setState(h.STALLED))))},atEdgeOfLiveStream:function(){if(!this.isLive()){return !1}var e=2;return k.endOfRange(this.video.buffered)-this.video.currentTime<=e},setAutoplayAttributes:function(){this.video.setAttribute("autoplay",""),this.video.setAttribute("muted","")},removeAutoplayAttributes:function(){this.video.removeAttribute("autoplay"),this.video.removeAttribute("muted")}}}.apply(d,f),!(void 0!==c&&(b.exports=c))},48:function(b,d,a){var f,c;f=[a(2),a(5)],c=function(g,h){return{seeking:!1,loadedmetadata:function(){var i={duration:this.getDuration(),height:this.video.videoHeight,width:this.video.videoWidth},j=this.drmUsed;j&&(i.drm=j),this.trigger("meta",i)},timeupdate:function(){this.stopStallCheck();var j=this.video.videoHeight;j!==this._helperLastVideoHeight&&this.adaptation&&this.adaptation({size:{width:this.video.videoWidth,height:j}}),this._helperLastVideoHeight=j,this.state!==h.STALLED&&this.state!==h.LOADING||this.setState(h.PLAYING),this.startStallCheck();var e=this.getCurrentTime(),l={position:e,duration:this.getDuration()};if(this.getPtsOffset){var k=this.getPtsOffset();k>=0&&(l.metadata={mpegts:k+e})}(this.state===h.PLAYING||this.seeking)&&this.trigger("time",l)},click:function(e){this.trigger("click",e)},volumechange:function(){var e=this.video;this.trigger("volume",{volume:Math.round(100*e.volume)}),this.trigger("mute",{mute:e.muted})},seeked:function(){this.seeking&&(this.seeking=!1,this.trigger("seeked"))},playing:function(){this.setState(h.PLAYING),this.video.hasAttribute("jw-gesture-required")&&this.video.removeAttribute("jw-gesture-required"),this.trigger("providerFirstFrame")},pause:function(){this.state!==h.COMPLETE&&(this.video.ended||this.video.currentTime!==this.video.duration&&this.setState(h.PAUSED))},progress:function(){var k=this.getDuration();if(!(k<=0||k===1/0)){var j=this.video.buffered;if(j&&0!==j.length){var l=g.between(j.end(j.length-1)/k,0,1);this.trigger("bufferChange",{bufferPercent:100*l,position:this.getCurrentTime(),duration:k})}}},ratechange:function(){this.trigger("ratechange",{playbackRate:this.video.playbackRate})},ended:function(){this.stopStallCheck(),this._helperLastVideoHeight=0,this.state!==h.IDLE&&this.state!==h.COMPLETE&&this.trigger("complete")},loadeddata:function(){this.renderNatively&&this.setTextTracks(this.video.textTracks),this.video.setAttribute("jw-loaded","data")},error:function(){var i=this.video.error&&this.video.error.code||-1,j={1:"Unknown operation aborted",2:"Unknown network error",3:"Unknown decode error",4:"Source not supported"}[i]||"Unknown";this.trigger("mediaError",{code:i,message:"Error playing file: "+j})}}}.apply(d,f),!(void 0!==c&&(b.exports=c))},78:function(m,j,f){function d(a){return a&&a.__esModule?a:{"default":a}}var b,k,p=f(9),c=f(172),l=d(c),g=f(30);b=[f(1),f(23),f(116),f(2),f(5),f(4),f(3),f(48),f(46),f(47),f(8),f(29),f(183)],k=function(F,z,w,q,h,D,B,A,u,y,o,s,E){function x(aP,aX){function aM(){aD.addEventListener("error",ap),aD.addEventListener("trackschanged",aW),aD.addEventListener("buffering",aT),F.each(ao,function(G,H){al.video.addEventListener(H,G,!1)}),c.CueDispatcher.on("cues",ar)}function v(G,H){return q.generateLabel(G,aX.qualityLabels,H)}function aO(I,K){for(var H=0,L=Math.abs(K),J=1;J<al.jwLevels.length;J++){var G=Math.abs(K-al.jwLevels[J].bitrate);G<L&&al.jwLevels[J].height===I&&(L=G,H=J)}return H}function ax(){aD.removeEventListener("error",ap),aD.removeEventListener("trackschanged",aW),aD.removeEventListener("buffering",aT),F.each(ao,function(G,H){al.video.removeEventListener(H,G)}),c.CueDispatcher.off("cues",ar)}function aU(){var G=al.video;ax(),aD.destroy(),al.video=al.video=G,window.VTTCue=C}function ab(I,K){for(var H=[].concat(I.headers||[]).concat(I.licenseRequestHeaders||[]),L=I.customData,J=0;J<H.length;J++){var G=H[J];K.headers[G.name]=G.value}L&&(K.headers.customData=L)}function ap(H){var J=H.detail?H.detail.category:H.category,G=H.detail?H.detail.code:H.code;if(J===E.util.Error.Category.NETWORK){var K=aJ(G,H.data);return void al.trigger(D.JWPLAYER_MEDIA_ERROR,{message:"Error loading media: "+K})}if(G===E.util.Error.Code.MP4_SIDX_WRONG_BOX_TYPE){var I=aY();return aR(I,al.jwLevels)&&aS(I),void console.error("The MP4 SIDX parser found the wrong box type.")}a(),al.trigger(D.JWPLAYER_MEDIA_ERROR,{message:"Error playing file: Unknown playback error"})}function aC(){return F.map(al.jwLevels,function(G){return(0,p.qualityLevel)(G)})}function aN(){return al.currentQuality}function aZ(G){return al._helperLastVideoHeight=0,E.polyfill.installAll(),new E.Player(G)}function af(G){aD||(aD=aZ(al.video)),al.currentAudioIndex=-1,(q.isAndroid()||G.preload&&"none"!==G.preload)&&(ax(),aM(),ak(G))}function aA(G){ax(),aM(),al.setState(h.LOADING),al.loadedItem!==G?(al.clearTracks(),al.drmUsed=null,ak(G)):(ai(G.tracks),al.video.currentTime=0,ac())}function ai(G){al.video.textTracks&&(G&&G.length&&al.setupSideloadedTracks(G),al.setTextTracks(al.video.textTracks))}function ac(){var G=al.video.play();G&&G["catch"]?G["catch"](function(H){console.warn(H),"NotAllowedError"===H.name&&al.video.hasAttribute("jw-gesture-required")&&al.trigger("autoplayFailed")}):al.video.hasAttribute("jw-gesture-required")&&al.trigger("autoplayFailed")}function ak(H){aG=!0,ad=H.sources[0].drm||{},al.loadedItem=H,al.setupSideloadedTracks(H.tracks),al.on(D.JWPLAYER_PLAYER_STATE,function(){var I=al.video;al.state===h.STALLED&&I&&I.buffered&&I.buffered.length>0&&I.currentTime<I.buffered.start(0)&&al.seek(I.buffered.start(0))}),(H.withCredentials||ag.withCredentials)&&aD.getNetworkingEngine().registerRequestFilter(function(I,J){J.allowCrossSiteCredentials=!0});var G=ad.widevine?ad.widevine.serverCertificateUrl:void 0;G?q.ajax({url:G,responseType:"arraybuffer"},F.partial(aj,H),ap):aj(H)}function aj(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sources:[]},J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},K=void 0;J.response&&(K=new Uint8Array(J.response)),aD.configure({drm:av(K),preferredTextLanguage:ag.selectedCaptionCode||w.getCode(ag.captionLabel),abr:{enabled:al.abr}});var I=H.sources[0].file,G=H.starttime||0;aD.load(I,G).then(ay,ap)}function ay(){al.trigger(D.JWPLAYER_MEDIA_BUFFER_FULL)}function ah(K){var H=0===K;if(aR(K,al.jwLevels)){var L=al.jwLevels[K].shakaId,J=F.findWhere(al.shakaLevels,{id:L});if(J){var G=J.bandwidth>az,I=J.language!==aQ;az=J.bandwidth,aD.selectVariantTrack(J,G||I)}al.abr=H,aD.configure({abr:{enabled:al.abr}}),t()}}function t(H){var I=al.audioTracks[H||au()];if(I){var G=al.shakaAudioTracks[I.shakaIndex];G&&(aQ=G.language,aD.selectAudioLanguage(aQ))}}function aW(){var I=aD.getTextTracks();al._tracksById&&I.length===Object.keys(al._tracksById).length||(I=I.reduce(function(L,M){if("Shaka Player TextTrack"===M.label||M.mimeType.indexOf("vtt")===-1){return L}var N=M;return N.kind+="s",N.embedded=!0,N.label=w.getLabel(N.language),L.push(N),L},[]),I.length&&al.addTextTracks(I));var K=aD.getVariantTracks(),H=F.findWhere(K,{active:!0}),G=F.groupBy(K,"language"),J="video";al.tracksByLang=G,F.size(G)&&(aB(G,H.language),t(al.currentAudioIndex),H&&(aq(G[H.language]),ah(al.currentQuality),al.trigger(D.JWPLAYER_MEDIA_LEVELS,{levels:al.jwLevels,currentQuality:al.currentQuality})),H.mimeType.indexOf("audio")>-1&&(J="audio")),al.trigger(D.JWPLAYER_MEDIA_TYPE,{mediaType:J})}function aB(I,G){var J=F.find(I[G],function(K){return K.active}),H=[];F.forEach(F.keys(I),function(K){K===G?H.push(J):H.push(I[K][0])}),F.isArray(H)&&n(H),al.trigger(D.JWPLAYER_AUDIO_TRACKS,{tracks:al.audioTracks,currentTrack:al.currentAudioIndex})}function av(I){var K,H,L={},J="";if(s.isSupported("clearkey")&&ad.clearkey){return H=ad.clearkey,H.keyId=H.keyId?H.keyId.replace(/-/g,""):null,L.clearKeys={},L.clearKeys[H.keyId]=H.key,L}if(s.isSupported("widevine")){al.drmUsed="widevine",K="com.widevine.alpha",J="http://widevine-proxy.appspot.com/proxy"}else{if(!s.isSupported("playready")){return L}al.drmUsed="playready",K="com.microsoft.playready",J="http://microsoft-proxy.appspot.com/proxy"}if(H=ad[al.drmUsed],!H){return L}if(I&&(L.advanced={},L.advanced[K]={serverCertificate:I}),L.servers=L.servers||{},L.servers[K]=H.url||J,H){var G=H.licenseRequestFilter;aD.getNetworkingEngine().registerRequestFilter(function(M,N){if(M===E.net.NetworkingEngine.RequestType.LICENSE){if("function"==typeof G){var O=aD.drmInfo();G(N,O)}ab(H,N)}})}return L}function aq(H){al.currentQuality=0,al.shakaLevels=H,al.shakaLevels.sort(function(I,J){return I.height<J.height||I.bandwidth<J.bandwidth?1:-1});var G=q.hasRedundantLevels(al.shakaLevels);al.jwLevels=F.reduce(al.shakaLevels,function(I,J){return I.push({shakaId:J.id,bitrate:J.bandwidth,label:v(J,G),height:J.height,width:J.width}),I},[]),al.shakaLevels.length>1&&al.jwLevels.unshift({label:"Auto",shakaId:"auto"})}function r(G){return F.map(G,function(K,H){var J=K.language,L=F.where(G,{language:J}).length>1,I=w.getLabel(J);return"und"===J?I="Unknown":"dv"===J&&(I="Audio Description"),L&&(I+=" ("+q.toKbps(K.bandwidth)+" kbps)"),{autoselect:!1,defaulttrack:!!K.active,groupid:"default",language:K.language,name:I,shakaIndex:H,shakaId:K.id}})}function am(){var G;return aR(al.currentAudioIndex,al.audioTracks)?al.currentAudioIndex:(G=F.find(al.audioTracks,function(H){return H.defaulttrack&&"dv"!==H.language}),G||(G=F.find(al.audioTracks,function(H){return"dv"!==H.language})),G?G.shakaIndex:0)}function aR(H,G){return F.isNumber(H)&&!F.isNaN(H)&&H>=0&&H<F.size(G)}function au(){return aR(al.currentAudioIndex,al.audioTracks)?al.currentAudioIndex:-1}function i(){return F.isArray(al.audioTracks)?al.audioTracks:[]}function e(G){al.currentAudioIndex=G,aR(al.currentQuality,al.jwLevels)&&aS(al.currentQuality)}function n(G){F.isArray(G)&&(al.shakaAudioTracks=G,al.audioTracks=r(G),al.currentAudioIndex=am())}function aL(){al.video.pause(),al.setState(h.PAUSED)}function aK(){return al.seeking?(al.setState(h.LOADING),void al.once(D.JWPLAYER_MEDIA_SEEKED,al.play)):(ac(),void al.setVisibility(al))}function an(H){if("LIVE"!==aw){var I=aD.seekRange(),G=H,J=H;H<0&&(G=I.end-I.start+H,J=I.end+H),al.trigger(D.JWPLAYER_MEDIA_SEEK,{position:al.getCurrentTime(),offset:G}),al.seeking=!0,al.video.currentTime=J}}function ae(G){G=!!G,G?z.style(this.container,{visibility:"visible",opacity:1}):z.style(this.container,{visibility:"",opacity:0})}function a(){ax(),al.video.pause(),al.setState(h.IDLE)}function aY(){var H=F.findWhere(al.shakaLevels,{active:!0});if(H){for(var G=0;G<al.jwLevels.length;G+=1){if(H.id===al.jwLevels[G].shakaId){return G}}}return null}function aS(G){aq(al.tracksByLang[al.audioTracks[al.currentAudioIndex].language]),ah(G),al.currentQuality=G}function aF(G){al.video.playbackRate=al.video.defaultPlaybackRate=G,aD&&aD.trickPlay(G)}function aV(){return aD?aD.getPlaybackRate():al.video.playbackRate}function aI(){return !!aD&&aD.isLive()}function aa(G){aD=G}function ar(K){var H=aD.getTextTracks(),M=al.getSubtitlesTrack();if(M<0){var J=F.findWhere(H,{active:!0});M=F.indexOf(H,J)}var G=H[M];if(G){var I=void 0,L=F.findWhere(al._tracksById,{language:G.language});I=L?L._id:G.kind+"s"+M,al.renderNatively||al.clearCueData(I),K.forEach(function(N){al.renderNatively&&(N.align="center"),al.addVTTCue({type:G.kind+"s",cue:N,track:I})})}return[]}function aH(G){return q.isChrome()&&G}function aJ(H,I){var G=void 0,J=E.util.Error.Code;switch(H){case J.BAD_HTTP_STATUS:G=(0,g.NetworkError)(I[1],I[0],I[2]).message;break;default:G="File could not be played"}return G}function aT(G){al.video.paused||al.video.ended||(!F.isUndefined(al.state)&&G.buffering?al.setState(h.LOADING):al.setState(h.PLAYING))}var aD,ad,aG,aE=this,ao={},al=this,aw="VOD",ag=aX,aQ=void 0,az=void 0;this.video=u.getVideo.call(al,aP),this.loadedItem=null,this.drmUsed=null,this.position=0,this.levels=[],this.currentQuality=-1,this.abr=!0,this.supportsPlaybackRate=!0,F.each(A,function(G,H){"function"==typeof G?ao[H]=G.bind(al):al[H]=G}),al.adaptation=function(H){al.shakaLevels||aW();var I=aD.getStats(),G=aO(H.size.height,I.streamBandwidth),J={level:{index:G,label:al.jwLevels[G].label,bitrate:I.streamBandwidth,width:H.size.width,height:H.size.height},bandwidth:I.estimatedBandwidth,type:"visualQuality"};aG?(J.reason="initial choice",J.mode="auto",aG=!1):0===al.currentQuality?J.reason=J.mode="auto":(J.reason="api",J.mode="manual"),al.trigger("visualQuality",J)},F.extend(al,B,u,y,o,{eventsOn_:function(){aD=aZ(al.video),aM()},eventsOff_:function(){ad&&q.isFF()?(al.remove(),al.video=al.getVideo(aP,al.container),al.setContainer(al.container)):aU()},init:af,load:aA,pause:aL,getQualityLevels:aC,getCurrentQuality:aN,getAudioTracks:i,getCurrentAudioTrack:au,play:aK,seek:an,setCurrentQuality:function(G){aR(G,al.jwLevels)&&G!==al.currentQuality&&(aS(G),al.trigger(D.JWPLAYER_MEDIA_LEVEL_CHANGED,{currentQuality:G,levels:al.jwLevels}))},setAudioTracks:function(G){F.isArray(G)&&(n(G),al.trigger(D.JWPLAYER_AUDIO_TRACKS,{tracks:al.audioTracks,currentTrack:al.currentAudioIndex}))},setCurrentAudioTrack:function(G){aR(G,al.audioTracks)&&(e(G),al.trigger(D.JWPLAYER_AUDIO_TRACKS,{tracks:al.audioTracks,currentTrack:G}),al.trigger(D.JWPLAYER_AUDIO_TRACK_CHANGED,{tracks:al.audioTracks,currentTrack:G}))},setPlaybackRate:aF,getPlaybackRate:aV,isLive:aI,setVisibility:ae,stop:a,getCurrentTime:function(){var G=al.video.currentTime;return aD.isLive()&&"DVR"===aw&&(G=-(aD.seekRange().end-G)),G},getDuration:function(){var H=al.loadedItem.minDvrWindow,I=al.video.duration;if(aD.isLive()){var G=aD.seekRange();I=-(G.end-G.start),I=q.isDvr(I,H)?I:1/0}return aw=q.streamType(I,H),I},setShakaPlayer:aa,supportsFullscreen:F.constant(!0),getName:F.constant({name:"shaka"}),destroy:aU,renderNatively:aH(ag.renderCaptionsNatively),setSubtitlesTrack:function(H){o.setSubtitlesTrack.call(aE,H);var I=aD.getTextTracks(),G=I[H-1];al.renderNatively||(al._currentTextTrackIndex=H-1),G&&(aD.selectTextLanguage(G.language),ag.selectedCaptionCode=G.language)}}),ao.loadeddata=function(){if(al.video.textTracks&&"Shaka Player TextTrack"===al.video.textTracks[0].label){var G=al.video.textTracks[0];G._id="shakaTextTrack",G.inuse=!1,G.mode="hidden",G.embedded=!0}A.loadeddata.call(al)},ao.playing=function(){aD.isBuffering()||A.playing.call(al)},ao.timeupdate=function(){aD.isBuffering()||A.timeupdate.call(al)}}var C=window.VTTCue;return E.media.TextEngine.registerParser("text/vtt",l["default"]),E.media.TextEngine.registerParser('text/vtt; codecs="vtt"',l["default"]),x.getName=F.constant({name:"shaka"}),x}.apply(j,b),!(void 0!==k&&(m.exports=k))},116:function(d,g,c){var h,f,b=c(1);h=[],f=function(){function j(e){if(e){return 3===e.length?e:a[e.slice(0,2)]||e}}function k(e){return l[e]||""}var a={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek"},l=b.invert(a);return{getLabel:j,getCode:k}}.apply(g,h),!(void 0!==f&&(d.exports=f))},171:function(b,d,a){var f,c;f=[a(25)],c=function(g){var h=this;return h.parser=new g(window),h.arrayBufferToString=function(k){var m,j="";if(!k){return""}m=new Uint8Array(k),239===m[0]&&187===m[1]&&191===m[2]&&(m=m.subarray(3));for(var o=65535,l=0;l<m.length;l+=o){j+=String.fromCharCode.apply(null,m.subarray(l,l+o))}return window.decodeURIComponent(window.escape(j))},h.parseCuesFromText=function(j){var e=[];return h.parser.oncue=function(i){e.push(i)},h.parser.parse(j),e},h}.apply(d,f),!(void 0!==c&&(b.exports=c))},172:function(d,h,c){function j(){}Object.defineProperty(h,"__esModule",{value:!0}),h["default"]=j;var g=c(171),b=c(3),f=h.CueDispatcher=Object.create(b);j.prototype.parseInit=function(){},j.prototype.parseMedia=function(k){var l=g.arrayBufferToString(k),a=void 0;return l=l.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),a=g.parseCuesFromText(l),f.trigger("cues",a),[]}},183:function(b,c,a){var d;!function(){var e={};(function(gf){function gH(g,j){var f=g.split("."),k=eP;f[0] in k||!k.execScript||k.execScript("var "+f[0]);for(var h;f.length&&(h=f.shift());){f.length||void 0===j?k=k[h]?k[h]:k[h]={}:k[h]=j}}function gB(g){function h(){}var f=cK;h.prototype=f.prototype,g.Ce=f.prototype,g.prototype=new h,g.prototype.constructor=g,g.ze=function(i,j,k){return f.prototype[j].apply(i,Array.prototype.slice.call(arguments,2))}}function gp(f){this.c=Math.exp(Math.log(0.5)/f),this.b=this.a=0}function gj(g,h,f){var j=Math.pow(g.c,h);f=f*(1-j)+j*g.a,isNaN(f)||(g.a=f,g.b+=h)}function gN(f){return f.a/(1-Math.pow(f.c,f.b))}function gg(){this.c=new gp(2),this.f=new gp(5),this.a=0,this.b=500000}function gm(){}function gb(g,h,f,j){this.severity=g,this.category=h,this.code=f,this.data=Array.prototype.slice.call(arguments,3)}function gC(f){var g;f instanceof gC?(gJ(this,f.aa),this.Ca=f.Ca,this.ca=f.ca,gI(this,f.Ka),this.W=f.W,gw(this,gD(f.a)),this.ua=f.ua):f&&(g=String(f).match(gd))?(gJ(this,g[1]||"",!0),this.Ca=gF(g[2]||""),this.ca=gF(g[3]||"",!0),gI(this,g[4]),this.W=gF(g[5]||"",!0),gw(this,g[6]||"",!0),this.ua=gF(g[7]||"")):this.a=new f9(null)}function gJ(g,h,f){g.aa=f?gF(h,!0):h,g.aa&&(g.aa=g.aa.replace(/:$/,""))}function gI(f,g){if(g){if(g=Number(g),isNaN(g)||0>g){throw Error("Bad port number "+g)}f.Ka=g}else{f.Ka=null}}function gw(g,h,f){h instanceof f9?g.a=h:(f||(h=gl(h,cC)),g.a=new f9(h))}function gF(f,g){return f?g?decodeURI(f):decodeURIComponent(f):""}function gl(g,h,f){return"string"==typeof g?(g=encodeURI(g).replace(h,gq),f&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gq(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(15&f).toString(16)}function f9(f){this.b=f||null}function gD(g){var h=new f9;if(h.b=g.b,g.a){var f,j={};for(f in g.a){j[f]=g.a[f].concat()}h.a=j,h.c=g.c}return h}function gL(f,g){return f.reduce(function(j,k,h){return k["catch"](j.bind(null,h))}.bind(null,g),Promise.reject())}function f6(f,g){return f.concat(g)}function g0(){}function f8(f){return null!=f}function hu(f){return function(g){return g!=f}}function gy(g,h,f){return f.indexOf(g)==h}function g1(g,h){if(!h.length){return g}var f=h.map(function(i){return new gC(i)});return g.map(function(i){return new gC(i)}).map(function(i){return f.map(i.resolve.bind(i))}).reduce(f6,[]).map(function(i){return i.toString()})}function hj(f,g){return{keySystem:f,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:g||[],keyIds:[]}}function hA(v,m,k,j,f){var p,w=f in j;for(p in m){var g=f+"."+p,q=w?j[f]:k[p],l=!!{".abr.manager":!0}[g]||!!{serverCertificate:!0}[p];(w||p in v)&&(void 0===m[p]?void 0===q||w?delete v[p]:v[p]=q:l?v[p]=m[p]:"object"==typeof v[p]&&"object"==typeof m[p]?hA(v[p],m[p],q,j,g):typeof m[p]==typeof q&&(v[p]=m[p]))}}function f7(f){return JSON.parse(JSON.stringify(f))}function gO(){var g,h,f=new Promise(function(j,k){g=j,h=k});return f.resolve=g,f.reject=h,f}function g4(f){this.f=!1,this.a=[],this.b=[],this.c=[],this.h=f||null}function hx(){return{maxAttempts:2,baseDelay:1000,backoffFactor:2,fuzzFactor:0.5,timeout:0}}function g7(f,g){return{uris:f,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:g}}function g2(h,k){for(var g=[],l=0;l<h.length;++l){for(var j=!1,f=0;f<g.length&&!(j=k?k(h[l],g[f]):h[l]===g[f]);++f){}j||g.push(h[l])}return g}function hd(g,h,f){for(var j=0;j<g.length;++j){if(f(g[j],h)){return j}}return -1}function hb(){this.a={}}function hv(){this.a=new hb}function g6(g,h,f,j){g.a&&(h=new hz(h,f,j),g.a.push(f,h))}function gY(g,h,f,j){g6(g,h,f,function(i){this.ha(h,f),j(i)}.bind(g))}function gz(g){if(g.a){var h,f=g.a,j=[];for(h in f.a){j.push.apply(j,f.a[h])}for(f=0;f<j.length;++f){j[f].ha()}g.a.a={}}}function hz(g,h,f){this.target=g,this.type=h,this.a=f,this.target.addEventListener(h,f,!1)}function hq(f){return !f||!Object.keys(f).length}function hk(f){return Object.keys(f).map(function(g){return f[g]})}function gV(f,g){return Object.keys(f).reduce(function(h,j){return h[j]=g(f[j],j),h},{})}function hf(f,g){return Object.keys(f).every(function(h){return g(h,f[h])})}function gk(f,g){Object.keys(f).forEach(function(h){g(h,f[h])})}function hm(f){if(!f){return""}f=new Uint8Array(f),239==f[0]&&187==f[1]&&191==f[2]&&(f=f.subarray(3)),f=escape(f4(f));try{return decodeURIComponent(f)}catch(g){throw new gb(2,2,2004)}}function gT(g,j,f){if(!g){return""}if(!f&&g.byteLength%2){throw new gb(2,2,2004)}if(g instanceof ArrayBuffer){var k=g}else{f=new Uint8Array(g.byteLength),f.set(new Uint8Array(g)),k=f.buffer}g=Math.floor(g.byteLength/2),f=new Uint16Array(g),k=new DataView(k);for(var h=0;h<g;h++){f[h]=k.getUint16(2*h,j)}return f4(f)}function gS(g){var h=new Uint8Array(g);if(239==h[0]&&187==h[1]&&191==h[2]){return hm(h)}if(254==h[0]&&255==h[1]){return gT(h.subarray(2),!1)}if(255==h[0]&&254==h[1]){return gT(h.subarray(2),!0)}var f=function(i,j){return i.byteLength<=j||32<=i[j]&&126>=i[j]}.bind(null,h);if(!h[0]&&!h[2]){return gT(g,!1)}if(!h[1]&&!h[3]){return gT(g,!0)}if(f(0)&&f(1)&&f(2)&&f(3)){return hm(g)}throw new gb(2,2,2003)}function gU(g){g=unescape(encodeURIComponent(g));for(var h=new Uint8Array(g.length),f=0;f<g.length;++f){h[f]=g.charCodeAt(f)}return h.buffer}function f4(g){for(var h="",f=0;f<g.length;f+=16000){h+=String.fromCharCode.apply(null,g.subarray(f,f+16000))}return h}function hW(f){this.a=null,this.b=function(){this.a=null,f()}.bind(this)}function hh(f){f.cancel(),f.a=setTimeout(f.b,500)}function g3(h,f){var j=void 0==f||f,g=gf.btoa(String.fromCharCode.apply(null,h)).replace(/\+/g,"-").replace(/\//g,"_");return j?g:g.replace(/=*$/,"")}function gR(g){g=gf.atob(g.replace(/-/g,"+").replace(/_/g,"/"));for(var f=new Uint8Array(g.length),h=0;h<g.length;++h){f[h]=g.charCodeAt(h)}return f}function bl(g){for(var f=new Uint8Array(g.length/2),h=0;h<g.length;h+=2){f[h/2]=gf.parseInt(g.substr(h,2),16)}return f}function fC(g){for(var h="",f=0;f<g.length;++f){var j=g[f].toString(16);1==j.length&&(j="0"+j),h+=j}return h}function eA(g,h){if(!g&&!h){return !0}if(!g||!h||g.length!=h.length){return !1}for(var f=0;f<g.length;++f){if(g[f]!=h[f]){return !1}}return !0}function c8(g,h,f,j){this.l=this.j=this.v=null,this.J=!1,this.b=null,this.f=new hv,this.a=[],this.o=[],this.i=new gO,this.la=g,this.h=null,this.g=function(i){this.i.reject(i),h(i)}.bind(this),this.A={},this.Da=f,this.ma=j,this.B=new hW(this.Kd.bind(this)),this.ka=this.c=!1,this.G=[],this.ja=!1,this.O=setInterval(this.Jd.bind(this),1000),this.i["catch"](function(){})}function b0(g,h){if(!g.j){return gY(g.f,h,"encrypted",function(){this.g(new gb(2,6,6010))}.bind(g)),Promise.resolve()}g.l=h,gY(g.f,g.l,"play",g.qd.bind(g));var f=g.l.setMediaKeys(g.j),f=f["catch"](function(i){return Promise.reject(new gb(2,6,6003,i.message))}),j=null;return g.b.serverCertificate&&(j=g.j.setServerCertificate(g.b.serverCertificate).then(function(){})["catch"](function(i){return Promise.reject(new gb(2,6,6004,i.message))})),Promise.all([f,j]).then(function(){return this.c?Promise.reject():(bE(this),void (this.b.initData.length||this.o.length||g6(this.f,this.l,"encrypted",this.fd.bind(this))))}.bind(g))["catch"](function(i){return this.c?Promise.resolve():Promise.reject(i)}.bind(g))}function hH(f,g){return Promise.all(g.map(function(h){return cB(this,h).then(function(k){if(k){for(var l=new gO,j=0;j<this.a.length;j++){if(this.a[j].ba==k){this.a[j].ia=l;break}}return Promise.all([k.remove(),l])}}.bind(this))}.bind(f)))}function bE(f){var g=f.b?f.b.initData:[];return g.forEach(function(h){dy(this,h.initDataType,h.initData)}.bind(f)),f.o.forEach(function(h){cB(this,h)}.bind(f)),g.length||f.o.length||f.i.resolve(),f.i}function cP(f){return f.a.map(function(g){return g.ba.sessionId})}function a3(k,g,l,j,f){var h=fR(k);g.periods.forEach(function(i){i.variants.forEach(function(m){h&&(m.drmInfos=[h]),m.drmInfos.forEach(function(n){gc(this,n),gf.cast&&gf.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready");var p=j[n.keySystem];p||(p={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:l?"required":"optional",sessionTypes:[l?"persistent-license":"temporary"],label:n.keySystem,drmInfos:[]},j[n.keySystem]=p,f.push(n.keySystem)),p.drmInfos.push(n),n.distinctiveIdentifierRequired&&(p.distinctiveIdentifier="required"),n.persistentStateRequired&&(p.persistentState="required");var q=[];m.video&&q.push(m.video),m.audio&&q.push(m.audio),q.forEach(function(o){var u="video"==o.type?p.videoCapabilities:p.audioCapabilities,v=("video"==o.type?n.videoRobustness:n.audioRobustness)||"",s=o.mimeType;o.codecs&&(s+='; codecs="'+o.codecs+'"'),u.push({robustness:v,contentType:s})}.bind(this))}.bind(this))}.bind(this))}.bind(k))}function eO(g,j,f){if(1==f.length&&""==f[0]){return Promise.reject(new gb(2,6,6000))}var k=new gO,h=k;return[!0,!1].forEach(function(i){f.forEach(function(l){var m=j[l];m.drmInfos.some(function(n){return !!n.licenseServerUri})==i&&(m.audioCapabilities.length||delete m.audioCapabilities,m.videoCapabilities.length||delete m.videoCapabilities,h=h["catch"](function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(l,[m])}.bind(this)))}.bind(this))}.bind(g)),h=h["catch"](function(){return Promise.reject(new gb(2,6,6001))}),h=h.then(function(m){if(this.c){return Promise.reject()}var l=0<=navigator.userAgent.indexOf("Edge/"),o=m.getConfiguration();return this.v=(o.audioCapabilities||[]).concat(o.videoCapabilities||[]).map(function(i){return i.contentType}),l&&(this.v=null),l=j[m.keySystem],dM(this,m.keySystem,l,l.drmInfos),this.b.licenseServerUri?m.createMediaKeys():Promise.reject(new gb(2,6,6012))}.bind(g)).then(function(i){return this.c?Promise.reject():(this.j=i,void (this.J=!0))}.bind(g))["catch"](function(i){return this.c?Promise.resolve():(this.v=this.b=null,i instanceof gb?Promise.reject(i):Promise.reject(new gb(2,6,6002,i.message)))}.bind(g)),k.reject(),h}function gc(g,h){var f=h.keySystem;if(f){if(!h.licenseServerUri){var j=g.h.servers[f];j&&(h.licenseServerUri=j)}h.keyIds||(h.keyIds=[]),(f=g.h.advanced[f])&&(h.distinctiveIdentifierRequired||(h.distinctiveIdentifierRequired=f.distinctiveIdentifierRequired),h.persistentStateRequired||(h.persistentStateRequired=f.persistentStateRequired),h.videoRobustness||(h.videoRobustness=f.videoRobustness),h.audioRobustness||(h.audioRobustness=f.audioRobustness),h.serverCertificate||(h.serverCertificate=f.serverCertificate))}}function fR(k){if(hq(k.h.clearKeys)){return null}var g,l=[],j=[];for(g in k.h.clearKeys){var f=k.h.clearKeys[g],h=bl(g),f=bl(f),h={kty:"oct",kid:g3(h,!1),k:g3(f,!1)};l.push(h),j.push(h.kid)}return k=JSON.stringify({keys:l}),j=JSON.stringify({kids:j}),j=[{initData:new Uint8Array(gU(j)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+gf.btoa(k),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:j,keyIds:[]}}function dM(h,l,g,p){var k=[],f=[],j=[],m=[];fk(p,k,f,j,m),h.b={keySystem:l,licenseServerUri:k[0],distinctiveIdentifierRequired:"required"==g.distinctiveIdentifier,persistentStateRequired:"required"==g.persistentState,audioRobustness:g.audioCapabilities?g.audioCapabilities[0].robustness:"",videoRobustness:g.videoCapabilities?g.videoCapabilities[0].robustness:"",serverCertificate:f[0],initData:j,keyIds:m}}function fk(h,k,g,l,j){function f(i,m){return !(!i.keyId||i.keyId!=m.keyId)||i.initDataType==m.initDataType&&eA(i.initData,m.initData)}h.forEach(function(i){if(-1==k.indexOf(i.licenseServerUri)&&k.push(i.licenseServerUri),i.serverCertificate&&-1==hd(g,i.serverCertificate,eA)&&g.push(i.serverCertificate),i.initData&&i.initData.forEach(function(n){-1==hd(l,n,f)&&l.push(n)}),i.keyIds){for(var m=0;m<i.keyIds.length;++m){-1==j.indexOf(i.keyIds[m])&&j.push(i.keyIds[m])}}})}function cB(h,k){try{var g=h.j.createSession("persistent-license")}catch(l){var j=new gb(2,6,6005,l.message);return h.g(j),Promise.reject(j)}g6(h.f,g,"message",h.kc.bind(h)),g6(h.f,g,"keystatuseschange",h.ec.bind(h));var f={initData:null,ba:g,loaded:!1,zb:1/0,ia:null};return h.a.push(f),g.load(k).then(function(i){if(!this.c){if(i){return f.loaded=!0,this.a.every(function(m){return m.loaded})&&this.i.resolve(),g}this.a.splice(this.a.indexOf(f),1),this.g(new gb(2,6,6013))}}.bind(h),function(i){this.c||(this.a.splice(this.a.indexOf(f),1),this.g(new gb(2,6,6005,i.message)))}.bind(h))}function dy(g,j,f){try{var k=g.ka?g.j.createSession("persistent-license"):g.j.createSession()}catch(h){return void g.g(new gb(2,6,6005,h.message))}g6(g.f,k,"message",g.kc.bind(g)),g6(g.f,k,"keystatuseschange",g.ec.bind(g)),g.a.push({initData:f,ba:k,loaded:!1,zb:1/0,ia:null}),k.generateRequest(j,f.buffer)["catch"](function(i){if(!this.c){for(var l=0;l<this.a.length;++l){if(this.a[l].ba==k){this.a.splice(l,1);break}}this.g(new gb(2,6,6006,i.message))}}.bind(g))}function aP(g,j){for(var f,k=j.target,h=0;h<g.a.length;h++){if(g.a[h].ba==k){f=g.a[h];break}}h=g7([g.b.licenseServerUri],g.h.retryParameters),h.body=j.message,h.method="POST","com.microsoft.playready"!=g.b.keySystem&&"com.chromecast.playready"!=g.b.keySystem||e3(h),g.la.request(2,h).then(function(i){return this.c?Promise.reject():k.update(i.data).then(function(){f&&(f.ia&&f.ia.resolve(),setTimeout(function(){f.loaded=!0,this.a.every(function(l){return l.loaded})&&this.i.resolve()}.bind(this),5000))}.bind(this))}.bind(g),function(i){return this.c?Promise.resolve():(i=new gb(2,6,6007,i),this.g(i),void (f&&f.ia&&f.ia.reject(i)))}.bind(g))["catch"](function(i){return this.c?Promise.resolve():(i=new gb(2,6,6008,i.message),this.g(i),void (f&&f.ia&&f.ia.reject(i)))}.bind(g))}function e3(g){var h=gT(g.body,!0,!0);if(-1==h.indexOf("PlayReadyKeyMessage")){g.headers["Content-Type"]="text/xml; charset=utf-8"}else{for(var h=(new DOMParser).parseFromString(h,"application/xml"),f=h.getElementsByTagName("HttpHeader"),j=0;j<f.length;++j){g.headers[f[j].querySelector("name").textContent]=f[j].querySelector("value").textContent}g.body=gR(h.querySelector("Challenge").textContent).buffer}}function gW(){var g=[],h=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],f=[{videoCapabilities:h,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:h}],j={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(k){var i=navigator.requestMediaKeySystemAccess(k,f).then(function(m){var l=m.getConfiguration().sessionTypes,l=!!l&&0<=l.indexOf("persistent-license");return 0<=navigator.userAgent.indexOf("Tizen 3")&&(l=!1),j[k]={persistentState:l},m.createMediaKeys()})["catch"](function(){j[k]=null});g.push(i)}),Promise.all(g).then(function(){return j})}function hZ(g,h){var f=g.keySystem();return !h.drmInfos.length||h.drmInfos.some(function(i){return i.keySystem==f})}function dC(h,l){if(!h.length){return l}if(!l.length){return h}for(var g=[],p=0;p<h.length;p++){for(var k=0;k<l.length;k++){if(h[p].keySystem==l[k].keySystem){var f=h[p],k=l[k],j=[],j=j.concat(f.initData||[]),j=j.concat(k.initData||[]),m=[],m=m.concat(f.keyIds),m=m.concat(k.keyIds);g.push({keySystem:f.keySystem,licenseServerUri:f.licenseServerUri||k.licenseServerUri,distinctiveIdentifierRequired:f.distinctiveIdentifierRequired||k.distinctiveIdentifierRequired,persistentStateRequired:f.persistentStateRequired||k.persistentStateRequired,videoRobustness:f.videoRobustness||k.videoRobustness,audioRobustness:f.audioRobustness||k.audioRobustness,serverCertificate:f.serverCertificate||k.serverCertificate,initData:j,keyIds:m});break}}}return g}function aB(f){this.f=null,this.c=f,this.h=0,this.g=1/0,this.a=this.b=null}function aI(f,g){gX[f]=g.length?bQ.bind(null,g):g}function d0(g,h,f){return g>=h?null:new VTTCue(g,h,f)}function dQ(g,h,f,j){return Promise.resolve().then(function(){if(this.c){if(null==f||null==j){this.f.parseInit(h)}else{for(var i=this.f.parseMedia(h,{periodStart:this.h,segmentStart:f,segmentEnd:j}),k=0;k<i.length&&!(i[k].startTime>=this.g);++k){this.c.addCue(i[k])}null==this.b&&(this.b=f),this.a=Math.min(j,this.g)}}}.bind(g))}function g8(g,j){for(var f=g.c.cues,k=[],h=0;h<f.length;++h){j(f[h])&&k.push(f[h])}for(h=0;h<k.length;++h){g.c.removeCue(k[h])}}function bQ(f){this.Oa=f}function ig(f){return !f||1==f.length&&0.000001>f.end(0)-f.start(0)?null:f.length?f.end(f.length-1):null}function af(f,g){return !(!f||!f.length||1==f.length&&0.000001>f.end(0)-f.start(0))&&(g>=f.start(0)&&g<=f.end(f.length-1))}function eE(g,h){if(!g||!g.length||1==g.length&&0.000001>g.end(0)-g.start(0)){return 0}for(var f=0,j=g.length-1;0<=j&&g.end(j)>h;--j){f+=g.end(j)-Math.max(g.start(j),h)}return f}function bc(g,h,f){this.f=g,this.N=h,this.i=f,this.c={},this.a=null,this.b={},this.g=new hv,this.h=!1}function e7(){var f={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hvc1.1.6.L93.90",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="av1",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",video/mp2t; codecs="mp4a.40.2",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(h){f[h]=!!gX[h]||MediaSource.isTypeSupported(h);var g=h.split(";")[0];f[g]=f[g]||f[h]}),f}function d4(f,g){f.a||(f.a=new aB(f.i)),f.a.f=new gX[g]}function fH(g,h){if("text"==h){var f=g.a.b}else{f=fp(g,h),f=!f||1==f.length&&0.000001>f.end(0)-f.start(0)?null:1==f.length&&0>f.start(0)?0:f.length?f.start(0):null}return f}function fp(g,h){try{return g.c[h].buffered}catch(f){return null}}function aW(g,j,f,k,h){return"text"==j?dQ(g.a,f,k,h):eg(g,j,g.je.bind(g,j,f))}function eT(f,g){return"text"==g?f.a.remove(0,1/0):eg(f,g,f.qc.bind(f,g,0,f.N.duration))}function dh(g,h,f,j){return"text"==h?(g.a.h=f,null!=j&&(g.a.g=j),Promise.resolve()):(null==j&&(j=1/0),Promise.all([eg(g,h,g.Ec.bind(g,h)),eg(g,h,g.$d.bind(g,h,f)),eg(g,h,g.Yd.bind(g,h,j))]))}function eg(g,h,f){if(g.h){return Promise.reject()}if(f={start:f,p:new gO},g.b[h].push(f),1==g.b[h].length){try{f.start()}catch(j){"QuotaExceededError"==j.name?f.p.reject(new gb(2,3,3017,h)):f.p.reject(new gb(2,3,3015,j)),am(g,h)}}return f.p}function bx(h,k){if(h.h){return Promise.reject()}var g,l=[];for(g in h.c){var j=new gO,f={start:function(i){i.resolve()}.bind(null,j),p:j};h.b[g].push(f),l.push(j),1==h.b[g].length&&f.start()}return Promise.all(l).then(function(){var o;try{k()}catch(m){var p=Promise.reject(new gb(2,3,3015,m))}for(o in this.c){am(this,o)}return p}.bind(h),function(){return Promise.reject()}.bind(h))}function am(g,h){g.b[h].shift();var f=g.b[h][0];if(f){try{f.start()}catch(j){f.p.reject(new gb(2,3,3015,j)),am(g,h)}}}function hO(g,h,f){return f==h||g>=h0&&f==h.split("-")[0]||g>=dD&&f.split("-")[0]==h.split("-")[0]}function cU(f){f=f.toLowerCase().split("-");var g=aC[f[0]];return g&&(f[0]=g),f.join("-")}function fV(g,h,f){var j=g.video;return !(j&&(j.width<h.minWidth||j.width>h.maxWidth||j.width>f.width||j.height<h.minHeight||j.height>h.maxHeight||j.height>f.height||j.width*j.height<h.minPixels||j.width*j.height>h.maxPixels)||g.bandwidth<h.minBandwidth||g.bandwidth>h.maxBandwidth)}function cj(g,h,f){var j=!1;return g.variants.forEach(function(i){var k=i.allowedByApplication;i.allowedByApplication=fV(i,h,f),k!=i.allowedByApplication&&(j=!0)}),j}function h6(p,k,j){var h=k.video,f=k.audio;for(k=0;k<j.variants.length;++k){var l=j.variants[k],q=p,g=f,m=h;(q&&q.J&&!hZ(q,l)?0:co(l.audio,q,g)&&co(l.video,q,m))||(j.variants.splice(k,1),--k)}for(k=0;k<j.textStreams.length;++k){p=j.textStreams[k],gX[eJ(p.mimeType,p.codecs)]||(j.textStreams.splice(k,1),--k)}}function co(g,h,f){if(!g){return !0}var j=null;return h&&h.J&&(j=h.v),h=eJ(g.mimeType,g.codecs),!(!gX[h]&&!MediaSource.isTypeSupported(h)||j&&g.encrypted&&0>j.indexOf(h)||f&&(g.mimeType!=f.mimeType||g.codecs.split(".")[0]!=f.codecs.split(".")[0]))}function b6(g,h,f){var j=null;return gu(g.variants).map(function(l){var p;p=l.video&&l.audio?f==l.video.id&&h==l.audio.id:l.video&&f==l.video.id||l.audio&&h==l.audio.id;var i="";l.video&&(i+=l.video.codecs),l.audio&&(""!=i&&(i+=", "),i+=l.audio.codecs,j=l.audio.label);var n=l.audio?l.audio.codecs:null,q=l.video?l.video.codecs:null,k=null;l.video?k=l.video.mimeType:l.audio&&(k=l.audio.mimeType);var m=null;l.audio?m=l.audio.kind:l.video&&(m=l.video.kind);var v=g2((l.audio?l.audio.roles:[]).concat(l.video?l.video.roles:[]));return{id:l.id,active:p,type:"variant",bandwidth:l.bandwidth,language:l.language,label:j,kind:m||null,width:l.video?l.video.width:null,height:l.video?l.video.height:null,frameRate:l.video?l.video.frameRate:void 0,mimeType:k,codecs:i,audioCodec:n,videoCodec:q,primary:l.primary,roles:v,videoId:l.video?l.video.id:null,audioId:l.audio?l.audio.id:null}})}function cF(f,g){return f.textStreams.map(function(h){return{id:h.id,active:g==h.id,type:"text",language:h.language,label:h.label,kind:h.kind,mimeType:h.mimeType,codecs:h.codecs||null,audioCodec:null,videoCodec:null,primary:h.primary,roles:h.roles}})}function hC(g,h){for(var f=0;f<g.variants.length;f++){if(g.variants[f].id==h.id){return g.variants[f]}}return null}function c3(g,h){for(var f=0;f<g.textStreams.length;f++){if(g.textStreams[f].id==h.id){return g.textStreams[f]}}return null}function gu(f){return f.filter(function(g){return g.allowedByApplication&&g.allowedByKeySystem})}function el(h,l,g,p){var k=gu(h.variants),f=k.filter(function(i){return i.language==k[0].language});if(h=k.filter(function(i){return i.primary}),h.length&&(f=h),l){var j=cU(l);[dD,h0,0].forEach(function(i){var n=!1;k.forEach(function(q){j=cU(j);var o=cU(q.language);hO(i,j,o)&&(n?f.push(q):(f=[q],n=!0),g&&(g.audio=!0))})})}var m=p||"";return m&&(l=f.filter(function(i){return i.audio&&-1<i.audio.roles.indexOf(m)||i.video&&-1<i.video.roles.indexOf(m)}),l.length)?l:f}function bK(h,l,g,p){var k=h.textStreams,f=k;if(h=k.filter(function(i){return i.primary}),h.length&&(f=h),l){var j=cU(l);[dD,h0,0].forEach(function(i){var n=!1;k.forEach(function(q){var o=cU(q.language);hO(i,j,o)&&(n?f.push(q):(f=[q],n=!0),g&&(g.text=!0))})})}var m=p||"";return m&&(l=f.filter(function(i){return i&&-1<i.roles.indexOf(m)}),l.length)?l:f}function bw(g,h,f){for(var j=0;j<f.length;j++){if(f[j].audio==g&&f[j].video==h){return f[j]}}return null}function fM(g,j,f){function k(i,l){return null==i?null==l:l.id==i}for(var h=0;h<f.length;h++){if(k(g,f[h].audio)&&k(j,f[h].video)){return f[h]}}return null}function eJ(g,h){var f=g;return h&&(f+='; codecs="'+h+'"'),f}function dq(g,h){for(var f=g.periods.length-1;0<f;--f){if(h+aQ>=g.periods[f].startTime){return f}}return 0}function cc(h,k){for(var g=0;g<h.periods.length;++g){var l=h.periods[g];if("text"==k.type){for(var j=0;j<l.textStreams.length;++j){if(l.textStreams[j]==k){return g}}}else{for(j=0;j<l.variants.length;++j){var f=l.variants[j];if(f.audio==k||f.video==k||f.video&&f.video.trickModeVideo==k){return g}}}}return -1}function hU(){this.f=null,this.b=!1,this.a=new gg,this.h=[],this.g=[],this.j=!1,this.c=null,this.i={minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}function bP(f,g){return g.filter(function(h){return fV(h,f,{width:1/0,height:1/0})}).sort(function(h,i){return h.bandwidth-i.bandwidth})}function cZ(h,f){var j,g=f||{};for(j in g){this[j]=g[j]}this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=gf.performance&&gf.performance.now?gf.performance.now():Date.now(),this.type=h,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function bb(f){return JSON.stringify(f,function(h,k){if("manager"!=h&&"function"!=typeof k){if(k instanceof Event||k instanceof cZ){var g,l={};for(g in k){var j=k[g];j&&"object"==typeof j||g in Event||(l[g]=j)}return l}if(k instanceof TimeRanges){for(l={__type__:"TimeRanges",length:k.length,start:[],end:[]},g=0;g<k.length;++g){l.start.push(k.start(g)),l.end.push(k.end(g))}}else{l="number"==typeof k?isNaN(k)?"NaN":isFinite(k)?k:0>k?"-Infinity":"Infinity":k}return l}})}function eY(f){return JSON.parse(f,function(g,h){return"NaN"==h?NaN:"-Infinity"==h?-(1/0):"Infinity"==h?1/0:h&&"object"==typeof h&&"TimeRanges"==h.__type__?gG(h):h})}function gG(f){return{length:f.length,start:function(g){return f.start[g]},end:function(g){return f.end[g]}}}function f0(g,j,f,k,h){this.J=g,this.l=j,this.B=f,this.G=k,this.v=h,this.c=this.j=this.h=!1,this.A="",this.a=this.i=null,this.b={video:{},player:{}},this.o=0,this.f={},this.g=null}function dV(g){for(var h in g.f){var f=g.f[h];delete g.f[h],f.reject(new gb(1,7,7000))}}function fx(g,h){var f=bb(h);g.a.sendMessage("urn:x-cast:com.google.shaka.v2",f,function(){},gm)}function cK(){this.nb=new hb,this.Ua=this}function dH(g,h,f){cK.call(this),this.c=g,this.b=h,this.h=this.f=this.g=this.i=this.j=null,this.a=new f0(f,this.fe.bind(this),this.ge.bind(this),this.he.bind(this),this.Vb.bind(this)),aV(this)}function aV(f){f.a.init(),f.h=new hv,aJ.forEach(function(h){g6(this.h,this.c,h,this.ue.bind(this))}.bind(f)),bR.forEach(function(h){g6(this.h,this.b,h,this.Id.bind(this))}.bind(f)),f.j={};for(var g in f.c){Object.defineProperty(f.j,g,{configurable:!1,enumerable:!0,get:f.te.bind(f,g),set:f.ve.bind(f,g)})}f.i={};for(g in f.b){Object.defineProperty(f.i,g,{configurable:!1,enumerable:!0,get:f.Hd.bind(f,g)})}f.g=new cK,f.g.Ua=f.j,f.f=new cK,f.f.Ua=f.i}function fd(g,h,f,j){cK.call(this),this.a=g,this.b=h,this.j={video:g,player:h},this.l=f||function(){},this.o=j||function(i){return i},this.i=!1,this.f=!0,this.h=this.g=this.c=null,hp(this)}function hp(g){var f=cast.receiver.CastReceiverManager.getInstance();f.onSenderConnected=g.jc.bind(g),f.onSenderDisconnected=g.jc.bind(g),f.onSystemVolumeChanged=g.Mc.bind(g),g.g=f.getCastMessageBus("urn:x-cast:com.google.cast.media"),g.g.onMessage=g.hd.bind(g),g.c=f.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),g.c.onMessage=g.vd.bind(g),f.start(),aJ.forEach(function(h){this.a.addEventListener(h,this.mc.bind(this,"video"))}.bind(g)),bR.forEach(function(h){this.b.addEventListener(h,this.mc.bind(this,"player"))}.bind(g)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?g.b.Jb(3840,2160):g.b.Jb(1920,1080),g.b.addEventListener("loading",function(){this.f=!1,h5(this)}.bind(g)),g.a.addEventListener("playing",function(){this.f=!1,h5(this)}.bind(g)),g.a.addEventListener("pause",function(){h5(this)}.bind(g)),g.b.addEventListener("unloading",function(){this.f=!0,h5(this)}.bind(g)),g.a.addEventListener("ended",function(){gf.setTimeout(function(){this.a&&this.a.ended&&(this.f=!0,h5(this))}.bind(this),5000)}.bind(g))}function h5(f){Promise.resolve().then(function(){this.dispatchEvent(new cZ("caststatuschanged")),aO(this,0)}.bind(f))}function dK(g,j,f){for(var k in j.player){g.b[k](j.player[k])}g.l(f),f=Promise.resolve();var h=g.a.autoplay;j.manifest&&(g.a.autoplay=!1,f=g.b.load(j.manifest,j.startTime),f["catch"](function(i){this.b.dispatchEvent(new cZ("error",{detail:i}))}.bind(g))),f.then(function(){var m;for(m in j.video){var l=j.video[m];this.a[m]=l}for(m in j.playerAfterLoad){l=j.playerAfterLoad[m],this.b[m](l)}this.a.autoplay=h,j.manifest&&(this.a.play(),aO(this,0))}.bind(g))}function aH(g,h,f,j){g.i&&(g=bb(h),j?f.getCastChannel(j).send(g):f.broadcast(g))}function aO(g,h,f){var j=d5,j={mediaSessionId:0,playbackRate:g.a.playbackRate,playerState:g.f?j.IDLE:g.b.la?j.Ac:g.a.paused?j.Bc:j.Cc,currentTime:g.a.currentTime,supportedMediaCommands:15,volume:{level:g.a.volume,muted:g.a.muted}};f&&(j.media=f),aH(g,{requestId:h,type:"MEDIA_STATUS",status:[j]},g.g)}function d9(g,h){var f=dY(g,h);return 1!=f.length?null:f[0]}function dY(f,g){return Array.prototype.filter.call(f.childNodes,function(h){return h.tagName==g})}function hB(f){var g=f.firstChild;return g&&g.nodeType==Node.TEXT_NODE?f.textContent.trim():null}function bZ(g,j,f,k){var h=null;return g=g.getAttribute(j),null!=g&&(h=f(g)),null==h?void 0!=k?k:null:h}function al(f){return f?(/^\d+\-\d+\-\d+T\d+:\d+:\d+(\.\d+)?$/.test(f)&&(f+="Z"),f=Date.parse(f),isNaN(f)?null:Math.floor(f/1000)):null}function ax(f){return f&&(f=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(f))?(f=31536000*Number(f[1]||null)+2592000*Number(f[2]||null)+86400*Number(f[3]||null)+3600*Number(f[4]||null)+60*Number(f[5]||null)+Number(f[6]||null),isFinite(f)?f:null):null}function eM(f){var g=/([0-9]+)-([0-9]+)/.exec(f);return g?(f=Number(g[1]),isFinite(f)?(g=Number(g[2]),isFinite(g)?{start:f,end:g}:null):null):null}function bk(f){return f=Number(f),f%1?null:f}function fh(f){return f=Number(f),!(f%1)&&0<f?f:null}function ed(f){return f=Number(f),!(f%1)&&0<=f?f:null}function fP(f){var g;return f=(g=f.match(/^(\d+)\/(\d+)$/))?Number(g[1]/g[2]):Number(f),isNaN(f)?null:f}function fA(h,l,g){h=dw(h);var p=null,k=null,f=[],j=[],m=h.map(function(i){return i.keyId}).filter(f8);if(0<m.length&&(k=m[0],m.some(hu(k)))){throw new gb(2,4,4010)}return g||(j=h.filter(function(i){return"urn:mpeg:dash:mp4protection:2011"!=i.sc||(p=i.init||p,!1)}),0<j.length&&(f=e1(p,l,j),f.length||(f=[hj("",p)]))),0<h.length&&(g||!j.length)&&(f=hk(fI).map(function(i){return hj(i,p)})),k&&f.forEach(function(i){i.initData.forEach(function(n){n.keyId=k})}),{Sb:k,Ae:p,drmInfos:f,Ub:!0}}function a2(g,j,f,k){var h=fA(g,j,k);if(f.Ub){g=1==f.drmInfos.length&&!f.drmInfos[0].keySystem,j=!h.drmInfos.length,(!f.drmInfos.length||g&&!j)&&(f.drmInfos=h.drmInfos),f.Ub=!1}else{if(0<h.drmInfos.length&&(f.drmInfos=f.drmInfos.filter(function(i){return h.drmInfos.some(function(l){return l.keySystem==i.keySystem})}),!f.drmInfos.length)){throw new gb(2,4,4008)}}return h.Sb||f.Sb}function e1(g,h,f){return f.map(function(j){var k=fI[j.sc];return k?[hj(k,j.init||g)]:h(j.node)||[]}).reduce(f6,[])}function dw(f){return f.map(function(j){var l=j.getAttribute("schemeIdUri"),h=j.getAttribute("cenc:default_KID"),m=dY(j,"cenc:pssh").map(hB);if(!l){return null}if(l=l.toLowerCase(),h&&(h=h.replace(/-/g,"").toLowerCase(),0<=h.indexOf(" "))){throw new gb(2,4,4009)}var k=[];try{k=m.map(function(i){return{initDataType:"cenc",initData:gR(i),keyId:null}})}catch(g){throw new gb(2,4,4007)}return{node:j,sc:l,keyId:h,init:0<k.length?k:null}}).filter(f8)}function ev(k,g,l,j,f){null!=f&&(f=Math.round(f));var h={RepresentationID:g,Number:l,Bandwidth:j,Time:f};return k.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(p,m,q){if("$$"==p){return"$"}var o=h[m];return null==o?p:("RepresentationID"==m&&q&&(q=void 0),p=o.toString(),q=gf.parseInt(q,10)||1,Array(Math.max(0,q-p.length)+1).join("0")+p)})}function bD(H,B){var y=aA(H,B,"timescale"),q=1;y&&(q=fh(y)||1),y=aA(H,B,"duration"),(y=fh(y||""))&&(y/=q);var g=aA(H,B,"startNumber"),E=aA(H,B,"presentationTimeOffset"),I=ed(g||"");null!=g&&null!=I||(I=1);var k=hY(H,B,"SegmentTimeline"),g=null;if(k){for(var g=q,G=Number(E),z=H.R.duration||1/0,k=dY(k,"S"),D=[],C=0,x=0;x<k.length;++x){var A=k[x],j=bZ(A,"t",ed),w=bZ(A,"d",ed),A=bZ(A,"r",bk);if(null!=j&&(j-=G),!w){break}if(j=null!=j?j:C,A=A||0,0>A){if(x+1<k.length){if(A=bZ(k[x+1],"t",ed),null==A){break}if(j>=A){break}A=Math.ceil((A-j)/w)-1}else{if(1/0==z){break}if(j/g>=z){break}A=Math.ceil((z*g-j)/w)-1}}0<D.length&&j!=C&&(D[D.length-1].end=j/g);for(var F=0;F<=A;++F){C=j+w,D.push({start:j/g,end:C/g,re:j}),j=C}}g=D}return{timescale:q,P:y,Aa:I,presentationTimeOffset:Number(E)/q||0,Pb:Number(E),F:g}}function aA(g,h,f){return[h(g.w),h(g.S),h(g.T)].filter(f8).map(function(i){return i.getAttribute(f)}).reduce(function(i,j){return i||j})}function hY(g,h,f){return[h(g.w),h(g.S),h(g.T)].filter(f8).map(function(i){return d9(i,f)}).reduce(function(i,j){return i||j})}function c2(g,h,f){this.a=g,this.X=h,this.M=f}function f3(h,k,g,l,j,f){this.position=h,this.startTime=k,this.endTime=g,this.a=l,this.X=j,this.M=f}function cw(f,g){this.H=f,this.a=g==fq,this.u=0}function id(){throw new gb(2,3,3000)}function cz(){this.b=[],this.a=[]}function cg(f){for(;f.s.Z();){f.Oa.fb(f.start,f.s)}}function cN(f){for(var g=f.s.D();0<g;--g){f.Oa.fb(f.start,f.s)}}function hN(f){return function(g){f(g.s.La(g.s.H.byteLength-g.s.u))}}function dg(g){for(var h=0,f=0;f<g.length;f++){h=h<<8|g.charCodeAt(f)}return h}function gP(h,k,g,l){var j,f=(new cz).da("sidx",function(i){j=ey(k,l,g,i)});if(h&&f.parse(h),j){return j}throw new gb(2,3,3004)}function ey(v,m,k,j){var f=[];j.s.I(4);var u=j.s.D();if(!u){throw new gb(2,3,3005)}if(j.version){var w=j.s.Qa(),g=j.s.Qa()}else{w=j.s.D(),g=j.s.D()}j.s.I(2);var l=j.s.oc();for(m=w-m,v=v+j.size+g,g=0;g<l;g++){var q=j.s.D();w=(2147483648&q)>>>31;var q=2147483647&q,p=j.s.D();if(j.s.I(4),1==w){throw new gb(2,3,3006)}f.push(new f3(f.length,m/u,(m+p)/u,function(){return k},v,v+q-1)),m+=p,v+=q}return f}function bW(f){this.a=f}function bv(g,h){if(g.a.length){var f=g.a[g.a.length-1];f.startTime>h||(g.a[g.a.length-1]=new f3(f.position,f.startTime,h,f.a,f.X,f.M))}}function fK(f){this.b=f,this.a=new cw(f,0),aX||(aX=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function eH(g){var j=dl(g);if(7<j.length){throw new gb(2,3,3002)}for(var f=0,k=0;k<j.length;k++){f=256*f+j[k]}j=f,f=dl(g);g:{for(k=0;k<aX.length;k++){if(eA(f,aX[k])){k=!0;break g}}k=!1}if(k){f=g.b.byteLength-g.a.u}else{if(8==f.length&&224&f[1]){throw new gb(2,3,3001)}for(var k=f[0]&(1<<8-f.length)-1,h=1;h<f.length;h++){k=256*k+f[h]}f=k}return f=g.a.u+f<=g.b.byteLength?f:g.b.byteLength-g.a.u,k=new DataView(g.b.buffer,g.b.byteOffset+g.a.u,f),g.a.I(f),new b9(j,k)}function dl(g){var h,f=g.a.Eb();for(h=1;8>=h&&!(f&1<<8-h);h++){}if(8<h){throw new gb(2,3,3002)}var j=new Uint8Array(h);for(j[0]=f,f=1;f<h;f++){j[f]=g.a.Eb()}return j}function b9(f,g){this.id=f,this.a=g}function hS(g){if(8<g.a.byteLength){throw new gb(2,3,3002)}if(8==g.a.byteLength&&224&g.a.getUint8(0)){throw new gb(2,3,3001)}for(var h=0,f=0;f<g.a.byteLength;f++){var j=g.a.getUint8(f),h=256*h+j}return h}function bN(){}function cX(x,m,k,j,f,v){function y(){return f}var g=[];x=new fK(x.a);for(var w=-1,l=-1;x.Z();){var q=eH(x);if(187==q.id){var p=a9(q);p&&(q=k*(p.se-v),p=m+p.Nd,0<=w&&g.push(new f3(g.length,w,q,y,l,p-1)),w=q,l=p)}}return 0<=w&&g.push(new f3(g.length,w,j,y,l,null)),g}function a9(g){var h=new fK(g.a);if(g=eH(h),179!=g.id){throw new gb(2,3,3013)}if(g=hS(g),h=eH(h),183!=h.id){throw new gb(2,3,3012)}for(var h=new fK(h.a),f=0;h.Z();){var j=eH(h);if(241==j.id){f=hS(j);break}}return{se:g,Nd:f}}function eW(h,k){var g=hY(h,k,"Initialization");if(!g){return null}var l=h.w.U,j=g.getAttribute("sourceURL");j&&(l=g1(h.w.U,[j]));var j=0,f=null;return(g=bZ(g,"range",eM))&&(j=g.start,f=g.end),new c2(function(){return l},j,f)}function gA(u,m){var k=aA(u,dT,"presentationTimeOffset"),j=eW(u,dT),f=Number(k),q=u.w.contentType,v=u.w.mimeType.split("/")[1];if("text"!=q&&"mp4"!=v&&"webm"!=v){throw new gb(2,4,4006)}if("webm"==v&&!j){throw new gb(2,4,4005)}var q=hY(u,dT,"RepresentationIndex"),g=aA(u,dT,"indexRange"),l=u.w.U,g=eM(g||"");if(q){var p=q.getAttribute("sourceURL");p&&(l=g1(u.w.U,[p])),g=bZ(q,"range",eM,g)}if(!g){throw new gb(2,4,4002)}return f=fY(u,m,j,l,g.start,g.end,v,f),{createSegmentIndex:f.createSegmentIndex,findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,initSegmentReference:j,presentationTimeOffset:Number(k)||0}}function fY(z,q,m,j,f,x,A,g){var y=z.presentationTimeline,p=!z.Ea||!z.R.ub,w=z.R.duration,v=q,k=null;return{createSegmentIndex:function(){var h=[v(j,f,x),"webm"==A?v(m.a(),m.X,m.M):null];return v=null,Promise.all(h).then(function(i){var l=i[0];i=i[1]||null,l="mp4"==A?gP(l,f,j,g):(new bN).parse(l,i,j,g),y.Ia(0,l),k=new bW(l),p&&bv(k,w)})},findSegmentPosition:function(h){return k.find(h)},getSegmentReference:function(h){return k.get(h)}}}function dT(f){return f.Ra}function fv(h,l){var g=eW(h,cI),m=aU(h),k=bD(h,cI),f=k.Aa;f||(f=1);var j=0;if(k.P?j=k.P*(f-1):k.F&&0<k.F.length&&(j=k.F[0].start),m={P:k.P,startTime:j,Aa:f,presentationTimeOffset:k.presentationTimeOffset,F:k.F,Ha:m},!m.P&&!m.F&&1<m.Ha.length){throw new gb(2,4,4002)}if(!m.P&&!h.R.duration&&!m.F&&1==m.Ha.length){throw new gb(2,4,4002)}if(m.F&&!m.F.length){throw new gb(2,4,4002)}return f=k=null,h.T.id&&h.w.id&&(f=h.T.id+","+h.w.id,k=l[f]),j=dF(h.R.duration,m.Aa,h.w.U,m),k?(k.xb(j),k.qb(h.presentationTimeline.na()-h.R.start)):(h.presentationTimeline.Ia(0,j),k=new bW(j),f&&h.Ea&&(l[f]=k)),h.Ea&&h.R.ub||bv(k,h.R.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:k.find.bind(k),getSegmentReference:k.get.bind(k),initSegmentReference:g,presentationTimeOffset:m.presentationTimeOffset}}function cI(f){return f.pa}function dF(w,m,k,j){var f=j.Ha.length;j.F&&j.F.length!=j.Ha.length&&(f=Math.min(j.F.length,j.Ha.length));for(var q=[],x=j.startTime,g=0;g<f;g++){var v=j.Ha[g],l=g1(k,[v.cd]),p=null!=j.P?x+j.P:j.F?j.F[g].end:x+w;q.push(new f3(g+m,x,p,function(h){return h}.bind(null,l),v.start,v.end)),x=p}return q}function aU(f){return[f.w.pa,f.S.pa,f.T.pa].filter(f8).map(function(g){return dY(g,"SegmentURL")}).reduce(function(g,h){return 0<g.length?g:h}).map(function(h){h.getAttribute("indexRange")&&!f.$b&&(f.$b=!0);var g=h.getAttribute("media");return h=bZ(h,"mediaRange",eM,{start:0,end:null}),{cd:g,start:h.start,end:h.end}})}function fb(h,l,g,p){var k=aG(h),f=bD(h,hg),j=aA(h,hg,"media"),m=aA(h,hg,"index");if(f={P:f.P,timescale:f.timescale,Aa:f.Aa,presentationTimeOffset:f.presentationTimeOffset,Pb:f.Pb,F:f.F,wb:j,Na:m},j=0+(f.Na?1:0),j+=f.F?1:0,j+=f.P?1:0,!j){throw new gb(2,4,4002)}if(1!=j&&(f.Na&&(f.F=null),f.P=null),!f.Na&&!f.wb){throw new gb(2,4,4002)}if(f.Na){if(g=h.w.mimeType.split("/")[1],"mp4"!=g&&"webm"!=g){throw new gb(2,4,4006)}if("webm"==g&&!k){throw new gb(2,4,4005)}p=ev(f.Na,h.w.id,null,h.bandwidth||null,null),p=g1(h.w.U,[p]),h=fY(h,l,k,p,0,null,g,f.presentationTimeOffset)}else{f.P?(p||h.presentationTimeline.yb(f.P),h=h4(h,f)):(p=l=null,h.T.id&&h.w.id&&(p=h.T.id+","+h.w.id,l=g[p]),j=dJ(h,f),l?(l.xb(j),l.qb(h.presentationTimeline.na()-h.R.start)):(h.presentationTimeline.Ia(0,j),l=new bW(j),p&&h.Ea&&(g[p]=l)),h.Ea&&h.R.ub||bv(l,h.R.duration),h={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:l.find.bind(l),getSegmentReference:l.get.bind(l)})}return{createSegmentIndex:h.createSegmentIndex,findSegmentPosition:h.findSegmentPosition,getSegmentReference:h.getSegmentReference,initSegmentReference:k,presentationTimeOffset:f.presentationTimeOffset}}function hg(f){return f.Sa}function h4(v,m){var k=v.R.duration,j=m.P,f=m.Aa,p=m.timescale,w=m.wb,g=v.bandwidth||null,q=v.w.id,l=v.w.U;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(h){return 0>h||k&&h>=k?null:Math.floor(h/j)},getSegmentReference:function(h){var i=h*j;return 0>i||k&&i>=k?null:new f3(h,i,i+j,function(){var n=ev(w,q,h+f,g,i*p);return g1(l,[n])},0,null)}}}function dJ(g,j){for(var f=[],k=0;k<j.F.length;k++){var h=k+j.Aa;f.push(new f3(h,j.F[k].start,j.F[k].end,function(o,q,m,s,p,l){return o=ev(o,q,p,m,l),g1(s,[o]).map(function(i){return i.toString()})}.bind(null,j.wb,g.w.id,g.bandwidth||null,g.w.U,h,j.F[k].re+j.Pb),0,null))}return f}function aG(g){var j=aA(g,hg,"initialization");if(!j){return null}var f=g.w.id,k=g.bandwidth||null,h=g.w.U;return new c2(function(){var i=ev(j,f,null,k,null);return g1(h,[i])},0,null)}function aN(){var f,g={};for(f in eU){g[f]=!0}for(f in dj){g[f]=!0}return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(h){g[h]=!!eU[h]}),["mpd","m3u8","ism"].forEach(function(h){g[h]=!!dj[h]}),g}function d7(g,j,f,k){var h=k;return h||(k=new gC(g).W.split("/").pop().split("."),1<k.length&&(k=k.pop().toLowerCase(),h=dj[k])),h?Promise.resolve(h):(f=g7([g],f),f.method="HEAD",j.request(0,f).then(function(i){return(i=i.headers["content-type"])&&(i=i.toLowerCase()),(h=eU[i])?h:Promise.reject(new gb(2,4,4000,g))},function(i){return i.severity=2,Promise.reject(i)}))}function dX(f,g){this.f=f,this.i=g,this.c=this.a=1/0,this.b=1,this.h=0,this.g=!0}function hy(){this.a=this.b=null,this.g=[],this.c=null,this.i=[],this.h=1,this.j={},this.l=0,this.f=null}function bY(f){return f.a.networkingEngine.request(0,g7(f.g,f.b.retryParameters)).then(function(g){if(this.a){return aj(this,g.data,g.uri)}}.bind(f))}function aj(z,v,p){var k=hm(v),g=new DOMParser,y=null;v=null;try{y=g.parseFromString(k,"text/xml")}catch(A){}if(y&&"MPD"==y.documentElement.tagName&&(v=y.documentElement),v&&0<v.getElementsByTagName("parsererror").length&&(v=null),!v){throw new gb(2,4,4001)}p=[p],k=dY(v,"Location").map(hB).filter(f8),0<k.length&&(p=z.g=k),k=dY(v,"BaseURL").map(hB),p=g1(p,k);var j=bZ(v,"minBufferTime",ax);z.l=bZ(v,"minimumUpdatePeriod",ax,-1);var q=bZ(v,"availabilityStartTime",al),k=bZ(v,"timeShiftBufferDepth",ax),x=bZ(v,"suggestedPresentationDelay",ax),g=bZ(v,"maxSegmentDuration",ax),y=v.getAttribute("type")||"static";if(z.c){var w=z.c.presentationTimeline}else{var m=Math.max(10,1.5*j);w=new dX(q,null!=x?x:m)}var q=av(z,{Ea:"static"!=y,presentationTimeline:w,T:null,R:null,S:null,w:null,bandwidth:void 0,$b:!1},p,v),x=q.duration,u=q.periods;return w.yc("static"==y),w.qa(x||1/0),w.xc(null!=k?k:1/0),w.yb(g||1),z.c?Promise.resolve():(v=dY(v,"UTCTiming"),e0(z,p,v,w.$()).then(function(f){this.a&&(w.wc(f),this.c={presentationTimeline:w,periods:u,offlineSessionIds:[],minBufferTime:j||0})}.bind(z)))}function av(x,m,k,j){var f=bZ(j,"mediaPresentationDuration",ax),v=[],y=0;j=dY(j,"Period");for(var g=0;g<j.length;g++){var w=j[g],y=bZ(w,"start",ax,y),l=bZ(w,"duration",ax),q=null;if(g!=j.length-1){var p=bZ(j[g+1],"start",ax);null!=p&&(q=p-y)}else{null!=f&&(q=f-y)}if(null==q&&(q=l),w=eL(x,m,k,{start:y,duration:q,node:w,ub:null==q||g==j.length-1}),v.push(w),l=m.T.id,x.i.every(hu(l))&&(x.a.filterPeriod(w),x.i.push(l),x.c&&x.c.periods.push(w)),null==q){y=null;break}y+=q}return null!=f?{periods:v,duration:f}:{periods:v,duration:y}}function eL(h,l,g,p){l.T=fO(p.node,null,g),l.R=p,l.T.id||(l.T.id="__shaka_period_"+p.start),dY(p.node,"EventStream").forEach(h.Fd.bind(h,p.start,p.duration)),g=dY(p.node,"AdaptationSet").map(h.Dd.bind(h,l)).filter(f8);var k=g.map(function(i){return i.Qd}).reduce(f6,[]),f=k.filter(gy);if(l.Ea&&k.length!=f.length){throw new gb(2,4,4018)}var j=g.filter(function(i){return !i.Ob});if(g.filter(function(i){return i.Ob}).forEach(function(o){var q=o.streams[0],n=o.Ob;j.forEach(function(i){i.id==n&&i.streams.forEach(function(r){r.trickModeVideo=q})})}),k=bj(j,"video"),f=bj(j,"audio"),!k.length&&!f.length){throw new gb(2,4,4004)}for(f.length||(f=[null]),k.length||(k=[null]),l=[],g=0;g<f.length;g++){for(var m=0;m<k.length;m++){fg(h,f[g],k[m],l)}}for(h=bj(j,"text"),k=[],g=0;g<h.length;g++){k.push.apply(k,h[g].streams)}return{startTime:p.start,textStreams:k,variants:l}}function bj(f,g){return f.filter(function(h){return h.contentType==g})}function fg(h,l,g,p){if(l||g){if(l&&g){var k=l.drmInfos,f=g.drmInfos;if(k.length&&f.length?0<dC(k,f).length:1){for(var j=dC(l.drmInfos,g.drmInfos),k=0;k<l.streams.length;k++){for(var m=0;m<g.streams.length;m++){f=g.streams[m].bandwidth+l.streams[k].bandwidth,f={id:h.h++,language:l.language,primary:l.vb||g.vb,audio:l.streams[k],video:g.streams[m],bandwidth:f,drmInfos:j,allowedByApplication:!0,allowedByKeySystem:!0},p.push(f)}}}}else{for(j=l||g,k=0;k<j.streams.length;k++){f=j.streams[k].bandwidth,f={id:h.h++,language:j.language||"und",primary:j.vb,audio:l?j.streams[k]:null,video:g?j.streams[k]:null,bandwidth:f,drmInfos:j.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},p.push(f)}}}}function ec(g,f){0>g.l||(g.f=gf.setTimeout(g.ie.bind(g),1000*Math.max(Math.max(3,g.l)-f,0)))}function fO(p,k,j){k=k||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0},j=j||k.U;var h=dY(p,"BaseURL").map(hB),f=p.getAttribute("contentType")||k.contentType,l=p.getAttribute("mimeType")||k.mimeType,q=p.getAttribute("codecs")||k.codecs,g=bZ(p,"frameRate",fP)||k.frameRate,m=!!dY(p,"InbandEventStream").length;return f||(f=dv(l,q)),{U:g1(j,h),Ra:d9(p,"SegmentBase")||k.Ra,pa:d9(p,"SegmentList")||k.pa,Sa:d9(p,"SegmentTemplate")||k.Sa,width:bZ(p,"width",ed)||k.width,height:bZ(p,"height",ed)||k.height,contentType:f,mimeType:l,codecs:q,frameRate:g,containsEmsgBoxes:m||k.containsEmsgBoxes,id:p.getAttribute("id")}}function fz(f){var g=0+(f.Ra?1:0);return g+=f.pa?1:0,(g+=f.Sa?1:0)?(1!=g&&(f.Ra&&(f.pa=null),f.Sa=null),!0):"text"==f.contentType||"application"==f.contentType}function a1(g,h,f,j){return h=g1(h,[f]),h=g7(h,g.b.retryParameters),h.method=j,g.a.networkingEngine.request(0,h).then(function(i){if("HEAD"==j){if(!i.headers||!i.headers.date){return 0}i=i.headers.date}else{i=hm(i.data)}return i=Date.parse(i),isNaN(i)?0:i-Date.now()})}function e0(g,j,f,k){f=f.map(function(i){return{scheme:i.getAttribute("schemeIdUri"),value:i.getAttribute("value")}});var h=g.b.dash.clockSyncUri;return k&&!f.length&&h&&f.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:h}),gL(f,function(m){var l=m.value;switch(m.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return a1(this,j,l,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return a1(this,j,l,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return m=Date.parse(l),isNaN(m)?0:m-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return Promise.reject();default:return Promise.reject()}}.bind(g))["catch"](function(){return 0})}function dv(f,g){return gX[eJ(f,g)]?"text":f.split("/")[0]}function eq(g,h,f,j){this.uri=g,this.type=h,this.ga=f,this.segments=j||null}function bC(g,h,f,j){this.id=g,this.name=h,this.a=f,this.value=j||null}function az(f,g){this.name=f,this.value=g}function hX(g,h,f){return f=f||null,(g=g.getAttribute(h))?g.value:f}function c1(f,g){this.ga=g,this.uri=f}function f2(f,g){return f.filter(function(h){return h.name==g})}function cu(g,h){var f=f2(g,h);return f.length?f[0]:null}function ic(g,h,f){return g.filter(function(i){var j=i.getAttribute("TYPE");return i=i.getAttribute("GROUP-ID"),j.value==h&&i.value==f})}function cy(f){this.b=f,this.a=0}function cf(g,h){h.lastIndex=g.a;var f=(f=h.exec(g.b))?{position:f.index,length:f[0].length,Td:f}:null;return g.a!=g.b.length&&f&&f.position==g.a?(g.a+=f.length,f.Td):null}function cM(f){return f.a==f.b.length?null:(f=cf(f,/[^ \t\n]*/gm))?f[0]:null}function hK(){this.a=0}function dc(h,l,g){l=hm(l),l=l.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var m=l.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(m[0])){throw new gb(2,4,4015)}l=0;for(var k=[],f=1;f<m.length;){if(/^#(?!EXT)/m.test(m[f])){f+=1}else{var j=m[f];if(j=ex(h.a++,j),0<=eh.indexOf(j.name)){l=1}else{if(0<=by.indexOf(j.name)){if(1!=l){throw new gb(2,4,4017)}return m=m.splice(f,m.length-f),h=gM(h,m),new eq(g,l,k,h)}}k.push(j),f+=1,"EXT-X-STREAM-INF"==j.name&&(j.a.push(new az("URI",m[f])),f+=1)}}return new eq(g,l,k)}function gM(g,h){var f=[],j=[];return h.forEach(function(i){/^(#EXT)/.test(i)?(i=ex(this.a++,i),j.push(i)):/^#(?!EXT)/m.test(i)||(f.push(new c1(i.trim(),j)),j=[])}.bind(g)),f}function ex(h,l){var g=l.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!g){throw new gb(2,4,4016)}var m=g[1],k=g[2],g=[];if(k&&0<=k.indexOf("=")){for(var f,k=new cy(k),j=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;f=cf(k,j);){g.push(new az(f[1],f[2]||f[3]))}}else{if(k){return new bC(h,m,g,k)}}return new bC(h,m,g)}function bU(f){return new Promise(function(h){var g=bU.parse(f);h({uri:f,data:g.data,headers:{"content-type":g.contentType}})})}function bu(){this.b=this.c=null,this.i=1,this.g={},this.f={},this.a=null,this.j="",this.h=new hK}function fG(g,h,f){if(h=dc(g.h,h,f),0!=h.type){throw new gb(2,4,4022)}return g.a=new dX(null,0),df(g,h).then(function(i){return this.c.filterPeriod(i),{presentationTimeline:this.a,periods:[i],offlineSessionIds:[],minBufferTime:0}}.bind(g))}function df(g,h){var f=f2(h.ga,"EXT-X-STREAM-INF").map(function(i){return b5(this,i,h)}.bind(g)),j=f2(h.ga,"EXT-X-MEDIA").filter(function(i){return"SUBTITLES"==aT(i,"TYPE")}.bind(g)).map(function(i){return cT(this,i,h)}.bind(g));return Promise.all(f).then(function(i){return Promise.all(j).then(function(l){var k=i.reduce(f6,[]);return dP(this,k),{startTime:0,variants:k,textStreams:l}}.bind(this))}.bind(g))}function b5(D,y,v){var m=Number(aT(y,"BANDWIDTH")),g=hX(y,"CODECS","avc1.42E01E,mp4a.40.2").split(","),B=y.getAttribute("RESOLUTION"),E=null,k=null,C=hX(y,"FRAME-RATE");if(B){var w=B.value.split("x"),E=w[0],k=w[1]}var A=dB(D,v);v=f2(v.ga,"EXT-X-MEDIA");var z=hX(y,"AUDIO"),q=hX(y,"VIDEO");z?v=ic(v,"AUDIO",z):q&&(v=ic(v,"VIDEO",q)),v=v.map(function(f){return a8(this,f,g,A)}.bind(D));var x=[],j=[];return Promise.all(v).then(function(h){if(z?x=h:q&&(j=h),x.length||j.length){if(x.length){if(aT(y,"URI")==x[0].Od){h="audio";var f=!0}else{h="video"}}else{h="audio"}}else{f=!1,1==g.length?h=B||C?"video":"audio":(h="video",g=[g.join(",")])}if(f){f=Promise.resolve()}else{f=g;var l=aT(y,"URI");f=eS(this,l,f,h,A,"und",!1,null)}return f}.bind(D)).then(function(f){return f&&("audio"==f.stream.type?x=[f]:j=[f]),hM(this,x,j,m,E,k,C)}.bind(D))}function hM(D,y,v,m,g,B,E){v.forEach(function(f){(f=f.stream)&&(f.width=Number(g)||void 0,f.height=Number(B)||void 0,f.frameRate=Number(E)||void 0)}.bind(D)),y.length||(y=[null]),v.length||(v=[null]);for(var k=[],C=0;C<y.length;C++){for(var w=0;w<v.length;w++){var A=y[C]?y[C].stream:null,z=v[w]?v[w].stream:null,q=y[C]?y[C].drmInfos:null,x=v[w]?v[w].drmInfos:null;if(A&&z){if(!(q.length&&x.length?0<dC(q,x).length:1)){continue}var j=dC(q,x)}else{A?j=q:z&&(j=x)}k.push(bJ(D,A,z,m,j))}}return k}function bJ(g,j,f,k,h){return{id:g.i++,language:j?j.language:"und",primary:!!j&&j.primary||!!f&&f.primary,audio:j,video:f,bandwidth:k,drmInfos:h,allowedByApplication:!0,allowedByKeySystem:!0}}function cT(g,h,f){return aT(h,"TYPE"),f=dB(g,f),a8(g,h,[],f).then(function(i){return i.stream})}function a8(v,m,k,j){if(v.g[m.id]){return Promise.resolve().then(function(){return this.g[m.id]}.bind(v))}var f=aT(m,"TYPE").toLowerCase();"subtitles"==f&&(f="text");var p=cU(hX(m,"LANGUAGE","und")),w=hX(m,"NAME"),g=m.getAttribute("DEFAULT"),q=m.getAttribute("AUTOSELECT"),l=aT(m,"URI");return eS(v,l,k,f,j,p,!!g||!!q,w).then(function(h){return this.g[m.id]=h}.bind(v))}function eS(q,m,k,j,f,p,u,g){var l=m;return m=g1([q.j],[m])[0],q.c.networkingEngine.request(0,g7([m],q.b.retryParameters)).then(function(C){if(C=dc(this.h,C.data,C.uri),1!=C.type){throw new gb(2,4,4017)}f=dB(this,C)||f;var s=null;"text"!=j&&(s=go(C));var x=cu(C.ga,"EXT-X-MEDIA-SEQUENCE"),x=fU(this,C,x?Number(x.value):0);this.a.Ia(0,x);var w=x[x.length-1].endTime-x[0].startTime,n=this.a.Y();(1/0==n||n<w)&&this.a.qa(w);var r=fo(j,k),h=void 0;"text"==j&&(h="subtitle");var i=new bW(x),B=[];C.segments.forEach(function(v){v=f2(v.ga,"EXT-X-KEY"),B.push.apply(B,v)});var o=!1,A=[],z=null;if(B.forEach(function(v){if("NONE"!=aT(v,"METHOD")){o=!0;var y=aT(v,"KEYFORMAT");(v=(y=ck[y])?y(v):null)&&(v.keyIds.length&&(z=v.keyIds[0]),A.push(v))}}),o&&!A.length){throw new gb(2,4,4026)}return cE(this,j,x[0].a()[0]).then(function(v){return v={id:this.i++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:s,presentationTimeOffset:f||0,mimeType:v,codecs:r,kind:h,encrypted:o,keyId:z,language:p,label:g||null,type:j,primary:u,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[]},this.f[v.id]=i,{stream:v,Be:i,drmInfos:A,Od:l}}.bind(this))}.bind(q))}function go(g){var h=f2(g.ga,"EXT-X-MAP");if(!h.length){return null}if(1<h.length){throw new gb(2,4,4020)}var h=h[0],f=aT(h,"URI"),j=g1([g.uri],[f])[0];return g=0,f=null,(h=hX(h,"BYTERANGE"))&&(g=h.split("@"),h=Number(g[0]),g=Number(g[1]),f=g+h-1),new c2(function(){return[j]},g,f)}function fU(g,j,f){var k=j.segments,h=[];return k.forEach(function(m){var i,p=m.ga,q=g1([j.uri],[m.uri])[0],l=e6(p).value.split(","),l=Number(l[0]);i=(m=k.indexOf(m))?h[m-1].endTime:0;var l=i+l,n=0,r=null;(p=cu(p,"EXT-X-BYTERANGE"))&&(p=p.value.split("@"),r=Number(p[0]),n=p[1]?Number(p[1]):h[m-1].M,r=n+r-1,m==k.length-1&&(r=null)),h.push(new f3(f+m,i,l,function(){return[q]},n,r))}.bind(g)),h}function dP(f,g){g.forEach(function(j){var k=this.a.Y(),h=j.video;j=j.audio,h&&this.f[h.id]&&bv(this.f[h.id],k),j&&this.f[j.id]&&bv(this.f[j.id],k)}.bind(f))}function fo(g,j){if(1==j.length){return j[0]}if("text"==g){return""}var f=ap;"audio"==g&&(f=hP);for(var k=0;k<f.length;k++){for(var h=0;h<j.length;h++){if(f[k].test(j[h].trim())){return j[h].trim()}}}throw new gb(2,4,4025,j)}function cE(g,j,f){var k=f.split("."),h=k[k.length-1];return"text"==j?Promise.resolve("text/vtt"):(k=cV,"video"==j&&(k=fW),(j=k[h])?Promise.resolve(j):(f=g7([f],g.b.retryParameters),f.method="HEAD",g.c.networkingEngine.request(1,f).then(function(i){if(i=i.headers["content-type"],!i){throw new gb(2,4,4021,h)}return i})))}function dB(g,h){var f=cu(h.ga,"EXT-X-START");return f?Number(aT(f,"TIME-OFFSET")):g.b.hls.defaultTimeOffset}function aT(g,h){var f=g.getAttribute(h);if(!f){throw new gb(2,4,4023,h)}return f.value}function e6(f){if(f=cu(f,"EXTINF"),!f){throw new gb(2,4,4024,"EXTINF")}return f}function g5(){}function h3(g){var j=[];if(!g){return j}for(var f=g.childNodes,k=0;k<f.length;k++){var h="span"==f[k].nodeName&&"p"==g.nodeName;f[k].nodeType!=Node.ELEMENT_NODE||"br"==f[k].nodeName||h||(h=h3(f[k]),j=j.concat(h))}return j.length||j.push(g),j}function dG(g,j){for(var f=g.childNodes,k=0;k<f.length;k++){if("br"==f[k].nodeName&&0<k){f[k-1].textContent+="\n"}else{if(0<f[k].childNodes.length){dG(f[k],j)}else{if(j){var h=f[k].textContent.trim(),h=h.replace(/\s+/g," ");f[k].textContent=h}}}}}function aF(h,l,g,m){for(var k=h3(l),f=0;f<k.length;f++){var j=k[f].getAttribute(m);if(j){return j}}return k=aM,(h=k(l,"style",g)||k(h,"style",g))?h.getAttribute(m):null}function aM(g,j,f){if(!g||1>f.length){return null}var k=null,h=g;for(g=null;h&&!(g=h.getAttribute(j))&&(h=h.parentNode,h instanceof Element);){}if(j=g){for(g=0;g<f.length;g++){if(f[g].getAttribute("xml:id")==j){k=f[g];break}}}return k}function d3(h,l){var g=null;if(h7.test(h)){var g=h7.exec(h),m=Number(g[1]),k=Number(g[2]),f=Number(g[3]),j=Number(g[4]),j=j+(Number(g[5])||0)/l.b,f=f+j/l.frameRate,g=f+60*k+3600*m}else{cp.test(h)?g=dU(cp,h):b7.test(h)?g=dU(b7,h):cG.test(h)?(g=cG.exec(h),g=Number(g[1])/l.frameRate):hD.test(h)?(g=hD.exec(h),g=Number(g[1])/l.a):c4.test(h)&&(g=dU(c4,h))}return g}function dU(g,h){var f=g.exec(h);return f&&""!=f[0]?(Number(f[4])||0)/1000+(Number(f[3])||0)+60*(Number(f[2])||0)+3600*(Number(f[1])||0):null}function hl(g,h,f,j){this.frameRate=Number(g)||30,this.b=Number(h)||1,this.a=Number(j),this.a||(this.a=g?this.frameRate*this.b:1),f&&(g=/^(\d+) (\d+)$/g.exec(f))&&(this.frameRate*=g[1]/g[2])}function bV(){this.a=new g5}function ad(){}function ak(g,h){var f;(f=/^align:(start|middle|center|end|left|right)$/.exec(h))?(g.align=f[1],"center"==f[1]&&"center"!=g.align&&(g.position="auto",g.align="middle")):(f=/^vertical:(lr|rl)$/.exec(h))?g.vertical=f[1]:(f=/^size:(\d{1,2}|100)%$/.exec(h))?g.size=Number(f[1]):(f=/^position:(\d{1,2}|100)%(?:,(line-left|line-right|center|start|end))?$/.exec(h))?(g.position=Number(f[1]),f[2]&&(g.positionAlign=f[2])):(f=/^line:(\d{1,2}|100)%(?:,(start|end|center))?$/.exec(h))?(g.snapToLines=!1,g.line=Number(f[1]),f[2]&&(g.lineAlign=f[2])):(f=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(h))&&(g.snapToLines=!0,g.line=Number(f[1]),f[2]&&(g.lineAlign=f[2]))}function eI(g){if(g=cf(g,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g),!g){return null}var h=Number(g[2]),f=Number(g[3]);return 59<h||59<f?null:Number(g[4])/1000+f+60*h+3600*(Number(g[1])||0)}function bh(){this.a=null}function fc(h,k,g){var l,j,f;return(new cz).C("payl",hN(function(i){l=hm(i)})).C("iden",hN(function(i){j=hm(i)})).C("sttg",hN(function(i){f=hm(i)})).parse(h),l?d8(l,j,f,k,g):null}function d8(g,j,f,k,h){if((g=d0(k,h,g))&&j&&(g.id=j),g&&f){for(j=new cy(f),f=cM(j);f;){ak(g,f),cf(j,/[ \t]+/gm),f=cM(j)}}return g}function fL(h,k,g,l,j,f){this.a=h,this.c=k,this.l=g,this.B=l,this.O=j,this.J=f,this.b=new hv,this.h=!1,this.g=1,this.j=this.f=null,this.G=h.readyState,this.i=!1,this.v=this.A=-1,this.o=!1,0<h.readyState?this.fc():gY(this.b,h,"loadedmetadata",this.fc.bind(this)),k=this.hc.bind(this),g6(this.b,h,"ratechange",this.rd.bind(this)),g6(this.b,h,"waiting",k),this.j=setInterval(k,250)}function fw(f,g){0<f.a.readyState?f.a.currentTime=aw(f,g):f.B=g}function a0(f){return 0<f.a.readyState?aw(f,f.a.currentTime):eX(f)}function eX(f){return f.B?aw(f,f.B):(f=f.c.presentationTimeline,1/0>f.Y()?f.na():f.cb())}function dp(g,f){null!=g.f&&(gf.clearInterval(g.f),g.f=null),g.g=f,g.a.playbackRate=g.h||0>f?0:f,!g.h&&0>f&&(g.f=gf.setInterval(function(){this.a.currentTime+=f/4}.bind(g),250))}function ek(h,l){var g=af.bind(null,h.a.buffered),p=1*Math.max(h.c.minBufferTime||0,h.l.rebufferingGoal),k=h.c.presentationTimeline,f=k.va(),j=k.Fa(p),m=k.Fa(5),p=k.Fa(p+5);return l>f?f:l<k.Fa(0)?g(m)?m:p:l>=j||g(l)?l:p}function bB(g,j,f){g.a.currentTime=f;var k=0,h=function(){!this.a||10<=k++||this.a.currentTime!=j||(this.a.currentTime=f,setTimeout(h,100))}.bind(g);setTimeout(h,100)}function aw(g,h){var f=g.c.presentationTimeline.na();return h<f?f:(f=g.c.presentationTimeline.va(),h>f?f:h)}function hT(h,k,g,l,j,f){this.a=h,this.g=k,this.A=g,this.l=l,this.h=j,this.B=f,this.c=[],this.j=new hv,this.b=!1,this.i=-1,this.f=null,fZ(this)}function cY(f){var g=f7(f);return g.eventElement=f.eventElement,g}function fZ(f){cm(f),f.f=gf.setTimeout(f.G.bind(f),250)}function cm(f){f.f&&(gf.clearTimeout(f.f),f.f=null)}function ib(f,g){this.a=g,this.b=f,this.g=null,this.i=1,this.o=Promise.resolve(),this.h=[],this.j={},this.c={},this.f=this.l=this.v=!1}function cv(f){return f.b.periods[dq(f.b,a0(f.a.Pa))]}function cb(f){return gV(f.c,function(g){return g.oa||g.stream})}function cJ(g,h){var f={};return f.text=h,bO(g,f)}function hG(h,k){var g=h.c.video;if(g){var l=g.stream;if(l){if(k){var j=l.trickModeVideo;if(j){var f=g.oa;f||(c7(h,"video",j,!1),g.oa=l)}}else{(f=g.oa)&&(g.oa=null,c7(h,"video",f,!0))}}}}function c7(h,k,g,l){var j=h.c[k];if(!j&&"text"==k&&h.g.ignoreTextStreamFailures){cJ(h,g)}else{if(j){var f=cc(h.b,g);l&&f!=j.xa?eu(h):(j.oa&&(g.trickModeVideo?(j.oa=g,g=g.trickModeVideo):j.oa=null),(f=h.h[f])&&f.Ma&&(f=h.j[g.id])&&f.Ma&&j.stream!=g&&("text"==k&&d4(h.a.K,eJ(g.mimeType,g.codecs)),j.stream=g,j.eb=!0,l&&(j.ta?j.kb=!0:j.ya?(j.sa=!0,j.kb=!0):(aR(j),cD(h,j,!0)))))}}}function gE(f){var g=a0(f.a.Pa);Object.keys(f.c).every(function(j){var h=this.a.K;return"text"==j?(j=h.a,j=g>=j.b&&g<j.a):(j=fp(h,j),j=af(j,g)),j}.bind(f))||eu(f)}function eu(g){for(var h in g.c){var f=g.c[h];f.ta||f.sa||(f.ya?f.sa=!0:null==fH(g.a.K,h)?null==f.ra&&dA(g,f,0):(aR(f),cD(g,f,!1)))}}function bO(g,j,f){var k=dq(g.b,a0(g.a.Pa)),h=gV(j,function(i){return eJ(i.mimeType,i.codecs)});return g.a.K.init(h),eC(g),h=hk(j),fE(g,h).then(function(){if(!this.f){for(var i in j){var l=j[i];this.c[i]||(this.c[i]={stream:l,type:i,Ga:null,ea:null,oa:null,eb:!0,xa:k,endOfStream:!1,ya:!1,ra:null,sa:!1,kb:!1,ta:!1,Gb:!1,tb:!1,rc:f||0},dA(this,this.c[i],0))}}}.bind(g))}function bo(g,h){var f=g.h[h];if(f){return f.L}f={L:new gO,Ma:!1},g.h[h]=f;var j=g.b.periods[h].variants.map(function(i){var k=[];return i.audio&&k.push(i.audio),i.video&&k.push(i.video),i.video&&i.video.trickModeVideo&&k.push(i.video.trickModeVideo),k}).reduce(f6,[]).filter(gy);return j.push.apply(j,g.b.periods[h].textStreams),g.o=g.o.then(function(){if(!this.f){return fE(this,j)}}.bind(g)).then(function(){this.f||(this.h[h].L.resolve(),this.h[h].Ma=!0)}.bind(g))["catch"](function(i){this.f||(this.h[h].L.reject(),delete this.h[h],this.a.onError(i))}.bind(g)),f.L}function fE(h,k){k.map(function(i){return i.id}).filter(gy);for(var g=[],l=0;l<k.length;++l){var j=k[l],f=h.j[j.id];f?g.push(f.L):(h.j[j.id]={L:new gO,Ma:!1},g.push(j.createSegmentIndex()))}return Promise.all(g).then(function(){if(!this.f){for(var n=0;n<k.length;++n){var m=this.j[k[n].id];m.Ma||(m.L.resolve(),m.Ma=!0)}}}.bind(h))["catch"](function(i){if(!this.f){return this.j[j.id].L.reject(),delete this.j[j.id],Promise.reject(i)}}.bind(h))}function eC(f){var g=f.b.presentationTimeline.Y();1/0>g?f.a.K.qa(g):f.a.K.qa(Math.pow(2,32))}function db(h,l){var g=a0(h.a.Pa),p=l.Ga&&l.ea?h.b.periods[cc(h.b,l.Ga)].startTime+l.ea.endTime:Math.max(g,l.rc),k=cc(h.b,l.stream),f=dq(h.b,p),j=h.a.K,m=l.type;return"text"==m?(j=j.a,j=null==j.a||j.a<g?0:j.a-Math.max(g,j.b)):(j=fp(j,m),j=eE(j,g)),m=Math.max(h.i*Math.max(h.b.minBufferTime||0,h.g.rebufferingGoal),h.i*h.g.bufferingGoal),p>=h.b.presentationTimeline.Y()?(l.endOfStream=!0,null):(l.endOfStream=!1,l.xa=f,f!=k?null:j>=m?0.5:(p=h.a.K,f=l.type,p="text"==f?p.a.a:ig(fp(p,f)),l.ea&&l.stream==l.Ga?(f=l.ea.position+1,p=b2(h,l,k,f)):(f=l.ea?l.stream.findSegmentPosition(Math.max(0,h.b.periods[cc(h.b,l.Ga)].startTime+l.ea.endTime-h.b.periods[k].startTime)):l.stream.findSegmentPosition(Math.max(0,(p||g)-h.b.periods[k].startTime)),null==f?p=null:(j=null,null==p&&(j=b2(h,l,k,Math.max(0,f-1))),p=j||b2(h,l,k,f))),p?(l.rc=0,hJ(h,l,g,k,p),null):1))}function b2(g,h,f,j){return f=g.b.periods[f],(h=h.stream.getSegmentReference(j))?(g=g.b.presentationTimeline,j=g.va(),f.startTime+h.endTime<g.na()||f.startTime+h.startTime>j?null:h):null}function hJ(p,k,j,h,f){var l=p.b.periods[h],q=k.stream,g=p.b.periods[h+1],m=null,m=g?g.startTime:p.b.presentationTimeline.Y();h=cR(p,k,h,m),k.ya=!0,k.eb=!1,g=fm(p,f),Promise.all([h,g]).then(function(i){if(!this.f&&!this.l){return a5(this,k,j,l,q,f,i[1])}}.bind(p)).then(function(){this.f||this.l||(k.ya=!1,k.Gb=!1,k.sa||this.a.Ab(),dA(this,k,0),gh(this,q))}.bind(p))["catch"](function(i){this.f||this.l||(k.ya=!1,this.b.presentationTimeline.$()&&this.g.infiniteRetriesForLiveStreams&&(1001==i.code||1002==i.code||1003==i.code)?"text"==k.type&&this.g.ignoreTextStreamFailures&&1001==i.code?delete this.c.text:(i.severity=1,this.a.onError(i),dA(this,k,4)):3017==i.code?bG(this,k,i):"text"==k.type&&this.g.ignoreTextStreamFailures?delete this.c.text:(k.tb=!0,i.severity=2,this.a.onError(i)))}.bind(p))}function bG(g,h,f){if(!hk(g.c).some(function(i){return i!=h&&i.Gb})){var j=Math.round(100*g.i);if(20<j){g.i-=0.2}else{if(!(4<j)){return h.tb=!0,g.l=!0,void g.a.onError(f)}g.i-=0.04}h.Gb=!0}dA(g,h,4)}function cR(g,h,f,j){return h.eb?(f=dh(g.a.K,h.type,g.b.periods[f].startTime-h.stream.presentationTimeOffset,j),h.stream.initSegmentReference?(g=fm(g,h.stream.initSegmentReference).then(function(i){if(!this.f){return aW(this.a.K,h.type,i,null,null)}}.bind(g))["catch"](function(i){return h.eb=!0,Promise.reject(i)}),Promise.all([f,g])):f):Promise.resolve()}function a5(h,l,g,m,k,f,j){return k.containsEmsgBoxes&&(new cz).da("emsg",h.Ed.bind(h,m,f)).parse(j),eQ(h,l,g).then(function(){if(!this.f){return aW(this.a.K,l.type,j,f.startTime+m.startTime,f.endTime+m.startTime)}}.bind(h)).then(function(){if(!this.f){return l.Ga=k,l.ea=f,Promise.resolve()}}.bind(h))}function eQ(g,h,f){var j=fH(g.a.K,h.type);return null==j?Promise.resolve():(f=f-j-g.g.bufferBehind,0>=f?Promise.resolve():g.a.K.remove(h.type,j,j+f).then(function(){}.bind(g)))}function gh(g,h){if(!g.v&&(g.v=hk(g.c).every(function(i){return"text"==i.type||!i.sa&&!i.ta&&i.ea}),g.v)){var f=cc(g.b,h);for(g.h[f]||bo(g,f).then(function(){this.a.ac()}.bind(g))["catch"](g0),f=0;f<g.b.periods.length;++f){bo(g,f)["catch"](g0)}g.a.wd&&g.a.wd()}}function fT(g,h){if(h.xa!=cc(g.b,h.stream)){var f=h.xa,j=hk(g.c);j.every(function(i){return i.xa==f})&&j.every(dO)&&bo(g,f).then(function(){if(!this.f&&j.every(function(m){var n=cc(this.b,m.stream);return dO(m)&&m.xa==f&&n!=f}.bind(this))){var i,l=this.b.periods[f],k=this.a.bc(l);for(i in this.c){if(!k[i]&&"text"!=i){return void this.a.onError(new gb(2,5,5005))}}for(i in k){if(!this.c[i]){if("text"!=i){return void this.a.onError(new gb(2,5,5005))}bO(this,{text:k.text},l.startTime),delete k[i]}}for(i in this.c){(l=k[i])?(c7(this,i,l,!1),dA(this,this.c[i],0)):delete this.c[i]}this.a.ac()}}.bind(g))["catch"](g0)}}function dO(f){return !f.ya&&null==f.ra&&!f.sa&&!f.ta}function fm(g,h){var f=g7(h.a(),g.g.retryParameters);if(h.X||null!=h.M){var j="bytes="+h.X+"-";null!=h.M&&(j+=h.M),f.headers.Range=j}return g.a.dd.request(1,f).then(function(i){return i.data})}function cD(g,h,f){h.sa=!1,h.kb=!1,h.ta=!0,eT(g.a.K,h.type).then(function(){if(!this.f&&f){var i=this.a.K,j=h.type;return"text"==j?Promise.resolve():eg(i,j,i.Oc.bind(i,j))}}.bind(g)).then(function(){this.f||(h.Ga=null,h.ea=null,h.ta=!1,h.endOfStream=!1,dA(this,h,0))}.bind(g))}function dA(g,f,h){f.ra=gf.setTimeout(g.le.bind(g,f),1000*h)}function aR(f){null!=f.ra&&(gf.clearTimeout(f.ra),f.ra=null)}function e5(f,g){return new Promise(function(j,l){var k=new XMLHttpRequest;k.open(g.method,f,!0),k.responseType="arraybuffer",k.timeout=g.retryParameters.timeout,k.withCredentials=g.allowCrossSiteCredentials,k.onload=function(o){o=o.target;var n=o.getAllResponseHeaders().split("\r\n").reduce(function(q,r){var p=r.split(": ");return q[p[0].toLowerCase()]=p.slice(1).join(": "),q},{});if(200<=o.status&&299>=o.status&&202!=o.status){o.responseURL&&(f=o.responseURL),j({uri:f,data:o.response,headers:n,fromCache:!!n["x-shaka-from-cache"]})}else{var i=null;try{i=gS(o.response)}catch(m){}l(new gb(401==o.status||403==o.status?2:1,1,1001,f,o.status,i,n))}},k.onerror=function(){l(new gb(1,1,1002,f))},k.ontimeout=function(){l(new gb(1,1,1003,f))};for(var h in g.headers){k.setRequestHeader(h,g.headers[h])}k.send(g.body)})}function gZ(){this.a=null,this.b=[],this.c={}}function h1(g,h,f){return aK(g,h,"readwrite",function(i){i.put(f)})}function dE(g,h,f){return aK(g,"segment","readwrite",function(i){for(var j=0;j<h.length;j++){i["delete"](h[j]).onsuccess=f||function(){}}})}function aD(g,h){var f=0;return aK(g,h,"readonly",function(i){i.openCursor(null,"prev").onsuccess=function(j){(j=j.target.result)&&(f=j.key+1)}}).then(function(){return f})}function aK(g,j,f,k){var h={transaction:g.a.transaction([j],f),L:new gO};return h.transaction.oncomplete=function(){this.b.splice(this.b.indexOf(h),1),h.L.resolve()}.bind(g),h.transaction.onabort=function(i){this.b.splice(this.b.indexOf(h),1),dS(h.transaction,h.L,i)}.bind(g),h.transaction.onerror=function(i){i.preventDefault()}.bind(g),j=h.transaction.objectStore(j),k(j),g.b.push(h),h.L}function d2(k,g,l){var j=gf.indexedDB.open("shaka_offline_db",1),f=!1,h=new gO;return j.onupgradeneeded=function(i){f=!0,i=i.target.result;for(var m in g){i.createObjectStore(m,{keyPath:g[m]})}},j.onsuccess=function(i){l&&!f?(i.target.result.close(),setTimeout(function(){d2(this,g,l-1).then(h.resolve,h.reject)}.bind(this),1000)):(this.a=i.target.result,h.resolve())}.bind(k),j.onerror=dS.bind(null,j,h),h}function dS(g,h,f){g.error?h.reject(new gb(2,9,9001,g.error)):h.reject(new gb(2,9,9002)),f.preventDefault()}function hc(g){var h=bS(g.periods[0],[],new dX(null,0)),f=b6(h,null,null),h=cF(h,null);return f.push.apply(f,h),{offlineUri:"offline:"+g.key,originalManifestUri:g.originalManifestUri,duration:g.duration,size:g.size,expiration:void 0==g.expiration?1/0:g.expiration,tracks:f,appMetadata:g.appMetadata}}function bS(h,k,g){var l=h.streams.filter(function(i){return"text"==i.contentType}),j=h.streams.filter(function(i){return"audio"==i.contentType}),f=h.streams.filter(function(i){return"video"==i.contentType});return k=ah(j,f,k),l=l.map(bf),h.streams.forEach(function(i){i=ab(i),g.Ia(0,i)}),{startTime:h.startTime,variants:k,textStreams:l}}function ab(f){return f.segments.map(function(g,h){return new f3(h,g.startTime,g.endTime,function(){return[g.uri]},0,null)})}function ah(v,m,k){var j=[];if(!v.length&&!m.length){return j}v.length?m.length||(m=[null]):v=[null];for(var f=0,p=0;p<v.length;p++){for(var w=0;w<m.length;w++){if(eG(v[p],m[w])){var g=v[p],q=m[w],l=k;g={id:f++,language:g?g.language:"",primary:!!g&&g.primary||!!q&&q.primary,audio:bf(g),video:bf(q),bandwidth:0,drmInfos:l,allowedByApplication:!0,allowedByKeySystem:!0},j.push(g)}}}return j}function eG(g,h){if(!(g&&h&&g.variantIds&&h.variantIds)){return !0}for(var f=0;f<g.variantIds.length;f++){if(h.variantIds.some(function(i){return i==g.variantIds[f]})){return !0}}return !1}function bf(f){if(!f){return null}var g=ab(f),g=new bW(g);return{id:f.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:g.find.bind(g),getSegmentReference:g.get.bind(g),initSegmentReference:f.initSegmentUri?new c2(function(){return[f.initSegmentUri]},0,null):null,presentationTimeOffset:f.presentationTimeOffset,mimeType:f.mimeType,codecs:f.codecs,width:f.width||void 0,height:f.height||void 0,frameRate:f.frameRate||void 0,kind:f.kind,encrypted:f.encrypted,keyId:f.keyId,language:f.language,label:f.label||null,type:f.contentType,primary:f.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]}}function e9(){return gf.indexedDB?new gZ:null}function d6(g,h,f,j){this.b={},this.l=[],this.o=j,this.j=g,this.v=h,this.A=f,this.i=this.a=null,this.f=this.g=this.h=this.c=0}function fJ(g,j,f,k,h){g.b[j]=g.b[j]||[],g.b[j].push({uris:f.a(),X:f.X,M:f.M,Rb:k,Hb:h})}function fu(g,h){g.c=0,g.h=0,g.g=0,g.f=0,hk(g.b).forEach(function(i){i.forEach(function(j){null!=j.M?this.c+=j.M-j.X+1:this.g+=j.Rb}.bind(this))}.bind(g)),g.a=h,g.a.size=g.c;var f=hk(g.b).map(function(k){var l=0,j=function(){if(!this.o){return Promise.reject(new gb(2,9,9002))}if(l>=k.length){return Promise.resolve()}var i=k[l++];return aY(this,i).then(j)}.bind(this);return j()}.bind(g));return g.b={},g.i=Promise.all(f).then(function(){return h1(this.j,"manifest",h)}.bind(g)).then(function(){this.l=[]}.bind(g)),g.i}function aY(g,h){var f=g7(h.uris,g.A);(h.X||null!=h.M)&&(f.headers.Range="bytes="+h.X+"-"+(null==h.M?"":h.M));var j;return g.v.request(1,f).then(function(i){return this.a?(j=i.data.byteLength,this.l.push(h.Hb.key),h.Hb.data=i.data,h1(this.j,"segment",h.Hb)):Promise.reject(new gb(2,9,9002))}.bind(g)).then(function(){if(!this.a){return Promise.reject(new gb(2,9,9002))}null==h.M?(this.a.size+=j,this.f+=h.Rb):this.h+=j;var l=(this.h+this.f)/(this.c+this.g),k=hc(this.a);this.o.progressCallback(k,l)}.bind(g))}function eV(){this.a=-1}function dk(g){var h=new dX(null,0);h.qa(g.duration);var f=g.drmInfo?[g.drmInfo]:[];return{presentationTimeline:h,minBufferTime:10,offlineSessionIds:g.sessionIds,periods:g.periods.map(function(i){return bS(i,f,h)})}}function ej(g){if(/^offline:([0-9]+)$/.exec(g)){var h={uri:g,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Promise.resolve(h)}if(h=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(g)){var f=Number(h[1]),j=e9();return j?j.init(bq).then(function(){return j.get("segment",f)}).then(function(i){return j.m().then(function(){if(!i){throw new gb(2,9,9003,f)}return{uri:g,data:i.data,headers:{}}})}):Promise.reject(new gb(2,9,9000))}return Promise.reject(new gb(2,1,9004,g))}function bz(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(f){this.g=f}.bind(this))}function aq(f){return f.f||(f.a=f.a.then(function(g){return this.c=!0,Promise.resolve(g)}.bind(f),function(g){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(g)}.bind(f))),f.f=!0,f.a}function hQ(g,h){cK.call(this),this.O=!1,this.f=g,this.A=null,this.l=new hv,this.Qb=new hU,this.Za=this.c=this.h=this.a=this.v=this.g=this.Xa=this.ka=this.N=this.j=this.o=null,this.Dc=1000000000,this.Wa=[],this.la=!1,this.$a=!0,this.ma=this.J=null,this.G={},this.Ya=[],this.B={},this.b=c5(this),this.ob={width:1/0,height:1/0},this.i=gx(),this.Va=0,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,this.lb=this.mb="",h&&h(this),this.o=new g4(this.ee.bind(this)),this.Xa=fX(this);for(var f=0;f<this.f.textTracks.length;++f){var j=this.f.textTracks[f];j.mode="disabled","Shaka Player TextTrack"==j.label&&(this.A=j)}this.A||(this.A=this.f.addTextTrack("subtitles","Shaka Player TextTrack")),this.A.mode="hidden",g6(this.l,this.f,"error",this.yd.bind(this))}function cW(g){function j(i){return(i.video?i.video.codecs.split(".")[0]:"")+"-"+(i.audio?i.audio.codecs.split(".")[0]:"")}var f={};g.c.periods.forEach(function(i){i.variants.forEach(function(l){var m=j(l);m in f||(f[m]=[]),f[m].push(l)})});var k=null,h=1/0;gk(f,function(n,p){var m=0,l=0;p.forEach(function(i){m+=i.bandwidth,++l});var o=m/l;o<h&&(k=n,h=o)}),g.c.periods.forEach(function(i){i.variants=i.variants.filter(function(l){return j(l)==k})})}function fX(g){g.N=new MediaSource;var f=new gO;return g6(g.l,g.N,"sourceopen",f.resolve),g.f.src=gf.URL.createObjectURL(g.N),f}function cl(f){if(f.h&&f.h.configure(f.b.manifest),f.j&&f.j.configure(f.b.drm),f.a){f.a.configure(f.b.streaming);try{f.c.periods.forEach(f.gb.bind(f))}catch(g){f.za(g)}eK(f,cv(f.a))}f.b.abr.enabled&&!f.$a?f.b.abr.manager.enable():f.b.abr.manager.disable(),f.b.abr.manager.setDefaultEstimate(f.b.abr.defaultBandwidthEstimate),f.b.abr.manager.setRestrictions(f.b.abr.restrictions)}function h8(g,h,f){g.i.switchHistory.push({timestamp:Date.now()/1000,id:h.id,type:h.type,fromAdaptation:f}),cq(g,h)}function cq(g,h){var f=cc(g.c,h);g.B[f]||(g.B[f]={}),g.B[f][h.type]=h.id}function b8(f){f.l&&(f.l.ha(f.N,"sourceopen"),f.l.ha(f.f,"loadeddata"),f.l.ha(f.f,"playing"),f.l.ha(f.f,"pause"),f.l.ha(f.f,"ended")),f.f&&(f.f.removeAttribute("src"),f.f.load());var g=Promise.all([f.b?f.b.abr.manager.stop():null,f.j?f.j.m():null,f.ka?f.ka.m():null,f.g?f.g.m():null,f.v?f.v.m():null,f.a?f.a.m():null,f.h?f.h.stop():null]);return f.j=null,f.ka=null,f.g=null,f.v=null,f.a=null,f.h=null,f.c=null,f.Za=null,f.Xa=null,f.N=null,f.Ya=[],f.B={},f.G={},f.i=gx(),g}function cH(f){return f.h?b8(f).then(function(){this.O||(this.zc(!1),this.Xa=fX(this))}.bind(f)):Promise.resolve()}function hE(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:null}}}function c5(f){return{drm:{retryParameters:hx(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:hx(),dash:{customScheme:function(g){if(g){return null}},clockSyncUri:"",ignoreDrmInfo:!1},hls:{defaultTimeOffset:0}},streaming:{retryParameters:hx(),infiniteRetriesForLiveStreams:!0,rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:0.5,jumpLargeGaps:!1},abr:{manager:f.Qb,enabled:!0,defaultBandwidthEstimate:500000,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}}function gx(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function ep(h,k,g){for(var l in k){var j=k[l],f=g||!1;"text"==l&&(f=!0),h.$a?h.G[l]={stream:j,Kc:f}:c7(h.a,l,j,f)}}function bM(f){if(f.c){var g=Date.now()/1000;f.la?f.i.bufferingTime+=g-f.Va:f.i.playTime+=g-f.Va,f.Va=g}}function bA(h,k){function g(n,o){if(!n){return null}var m=n.findSegmentPosition(o-j.startTime);return null==m?null:(m=n.getSegmentReference(m))?m.startTime+j.startTime:null}var l=cb(h.a),j=cv(h.a),f=g(l.video,k),l=g(l.audio,k);return null!=f&&null!=l?Math.max(f,l):null!=f?f:null!=l?l:k}function fN(u,m,k,j,f){if(!k||1>k.length){return u.za(new gb(2,4,4012)),{}}u.b.abr.manager.setVariants(k),u.b.abr.manager.setTextStreams(j);var q=[];f&&(q=["video","audio"],m.textStreams.length&&q.push("text")),f=cb(u.a);var v=u.a,g=v.c.video||v.c.audio;if(v=g?v.b.periods[g.xa]:null,m=bw(f.audio,f.video,v?v.variants:m.variants)){m.allowedByApplication&&m.allowedByKeySystem||(q.push("audio"),q.push("video"));for(var l in f){m=f[l],"audio"==m.type&&m.language!=k[0].language?q.push(l):"text"==m.type&&0<j.length&&m.language!=j[0].language&&q.push(l)}}if(q=q.filter(gy),0<q.length){k={};try{k=u.b.abr.manager.chooseStreams(q)}catch(p){u.za(p)}return k}return{}}function eK(h,k){var g,l={audio:!1,text:!1},j=el(k,h.ja,l,h.mb),f=bK(k,h.Da,l,h.lb),j=fN(h,k,j,f);for(g in j){h8(h,j[g],!0)}ep(h,j,!0),du(h),j.text&&j.audio&&l.text&&j.text.language!=j.audio.language&&(h.A.mode="showing",hV(h))}function du(f){Promise.resolve().then(function(){this.O||this.dispatchEvent(new cZ("adaptation"))}.bind(f))}function cd(f){Promise.resolve().then(function(){this.O||this.dispatchEvent(new cZ("trackschanged"))}.bind(f))}function hV(f){f.dispatchEvent(new cZ("texttrackvisibility"))}function bT(f){if(!f||f.constructor!=hQ){throw new gb(2,9,9008)}this.a=e9(),this.f=f,this.i=eZ(this),this.b=null,this.v=!1,this.j=null,this.g=-1,this.l=0,this.c=null,this.h=new d6(this.a,f.o,f.getConfiguration().streaming.retryParameters,this.i)}function c0(){return !!gf.indexedDB}function bg(v,m,k,j){function f(){}var p,w,g,q=v.f.o,l=v.f.getConfiguration();return d7(m,q,l.manifest.retryParameters,j).then(function(h){return cL(this),g=new h,g.configure(l.manifest),g.start(m,{networkingEngine:q,filterPeriod:this.o.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:k})}.bind(v)).then(function(h){return cL(this),p=h,w=new c8(q,k,f,function(){}),w.configure(l.drm),w.init(p,!0)}.bind(v)).then(function(){return cL(this),dW(p)}.bind(v)).then(function(){return cL(this),bE(w)}.bind(v)).then(function(){return cL(this),g.stop()}.bind(v)).then(function(){return cL(this),{manifest:p,Lc:w}}.bind(v))["catch"](function(h){if(g){return g.stop().then(function(){throw h})}throw h})}function eZ(f){return{trackSelectionCallback:f.A.bind(f),progressCallback:function(g,h){if(g||h){return null}}}}function gK(f){return f.a?f.a.a?Promise.resolve():f.a.init(bq):Promise.reject(new gb(2,9,9000))}function f1(f){var g=f.b?f.b.m():Promise.resolve();return f.b=null,f.c=null,f.v=!1,f.j=null,f.g=-1,g}function dW(f){var g=f.periods.map(function(h){return h.variants}).reduce(f6,[]).map(function(h){var i=[];return h.audio&&i.push(h.audio),h.video&&i.push(h.video),i}).reduce(f6,[]).filter(gy);return f=f.periods.map(function(h){return h.textStreams}).reduce(f6,[]),g.push.apply(g,f),Promise.all(g.map(function(h){return h.createSegmentIndex()}))}function fy(v,m,k,j,f){for(var p=[],w=v.c.presentationTimeline.na(),g=w,q=k.findSegmentPosition(w),l=null!=q?k.getSegmentReference(q):null;l;){g=v.a.c.segment++,fJ(v.h,k.type,l,(l.endTime-l.startTime)*j/8,{key:g,data:null,manifestKey:v.g,streamNumber:k.id,segmentNumber:g}),p.push({startTime:l.startTime,endTime:l.endTime,uri:"offline:"+v.g+"/"+k.id+"/"+g}),g=l.endTime+m.startTime,l=k.getSegmentReference(++q)}return v.l=Math.max(v.l,g-w),m=null,k.initSegmentReference&&(g=v.a.c.segment++,m="offline:"+v.g+"/"+k.id+"/"+g,fJ(v.h,k.contentType,k.initSegmentReference,0,{key:g,data:null,manifestKey:v.g,streamNumber:k.id,segmentNumber:-1})),v=[],null!=f&&v.push(f),{id:k.id,primary:k.primary,presentationTimeOffset:k.presentationTimeOffset||0,contentType:k.type,mimeType:k.mimeType,codecs:k.codecs,frameRate:k.frameRate,kind:k.kind,language:k.language,label:k.label,width:k.width||null,height:k.height||null,initSegmentUri:m,encrypted:k.encrypted,keyId:k.keyId,segments:p,variantIds:v}}function cL(f){if(!f.f){throw new gb(2,9,9002)}}function dI(f){eD.push(f)}function aZ(g){var h=g.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event){var f=new Event(h,g)}else{f=document.createEvent("Event"),f.initEvent(h,g.bubbles,g.cancelable)}g.target.dispatchEvent(f)}function ff(g,h,f){if("input"==g){switch(this.type){case"range":g="change"}}dd.call(this,g,h,f)}function hw(f){this.f=[],this.b=[],this.a=[],(new cz).da("pssh",this.c.bind(this)).parse(f.buffer)}function h9(g,h){try{var f=new dL(g,h);return Promise.resolve(f)}catch(j){return Promise.reject(j)}}function dL(v,m){this.keySystem=v;for(var k=!1,j=0;j<m.length;++j){var f=m[j],p={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:f.initDataTypes,sessionTypes:["temporary"],label:f.label},w=!1;if(f.audioCapabilities){for(var g=0;g<f.audioCapabilities.length;++g){var q=f.audioCapabilities[g];if(q.contentType){w=!0;var l=q.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,l)&&(p.audioCapabilities.push(q),k=!0)}}}if(f.videoCapabilities){for(g=0;g<f.videoCapabilities.length;++g){q=f.videoCapabilities[g],q.contentType&&(w=!0,l=q.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,l)&&(p.videoCapabilities.push(q),k=!0))}}if(w||(k=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==f.persistentState&&(k=!1),k){return void (this.a=p)}}throw f=Error("Unsupported keySystem"),f.name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f}function aL(f){var g=this.mediaKeys;return g&&g!=f&&eb(g,null),delete this.mediaKeys,(this.mediaKeys=f)?eb(f,this):Promise.resolve()}function aS(f){this.a=new MSMediaKeys(f),this.b=new hv}function eb(g,j){function f(){j.msSetMediaKeys(k.a),j.removeEventListener("loadedmetadata",f)}if(gz(g.b),!j){return Promise.resolve()}g6(g.b,j,"msneedkey",hF);var k=g;try{return 1<=j.readyState?j.msSetMediaKeys(g.a):j.addEventListener("loadedmetadata",f),Promise.resolve()}catch(h){return Promise.reject(h)}}function dZ(f){cK.call(this),this.c=null,this.g=f,this.b=this.a=null,this.f=new hv,this.sessionId="",this.expiration=NaN,this.closed=new gO,this.keyStatuses=new ay}function hF(g){var j=document.createEvent("CustomEvent");j.initCustomEvent("encrypted",!1,!1,null),j.initDataType="cenc";var f=g.initData;if(f){var k=new hw(f);if(1>=k.a.length){g=f}else{var h=[];for(g=0;g<k.a.length;g++){h.push(f.subarray(k.a[g].start,k.a[g].end+1))}for(f=g2(h,b3),g=k=0;g<f.length;g++){k+=f[g].length}for(k=new Uint8Array(k),g=h=0;g<f.length;g++){k.set(f[g],h),h+=f[g].length}g=k}}else{g=f}j.initData=g,this.dispatchEvent(j)}function b3(f,g){return eA(f,g)}function au(f,g){f.keyStatuses.Kb(g),f.dispatchEvent(new cZ("keystatuseschange"))}function ay(){this.size=0,this.a=void 0}function eN(){return Promise.reject(Error("The key system specified is not supported."))}function bp(f){return f?Promise.reject(Error("MediaKeys not supported.")):Promise.resolve()}function fj(){throw new TypeError("Illegal constructor.")}function ef(){throw new TypeError("Illegal constructor.")}function fQ(f){hL=f,bI=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=a6,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e2,gf.MediaKeys=ew,gf.MediaKeySystemAccess=dx}function fB(f){var g=hL;return g?g+f.charAt(0).toUpperCase()+f.slice(1):f}function a6(g,h){try{var f=new dx(g,h);return Promise.resolve(f)}catch(j){return Promise.reject(j)}}function e2(f){var g=this.mediaKeys;return g&&g!=f&&bH(g,null),delete this.mediaKeys,(this.mediaKeys=f)&&bH(f,this),Promise.resolve()}function dx(x,m){this.a=this.keySystem=x;var k=!1;"org.w3.clearkey"==x&&(this.a="webkit-org.w3.clearkey",k=!1);for(var j=!1,f=document.getElementsByTagName("video"),v=f.length?f[0]:document.createElement("video"),y=0;y<m.length;++y){f=m[y];var g={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:f.initDataTypes,sessionTypes:["temporary"],label:f.label},w=!1;if(f.audioCapabilities){for(var l=0;l<f.audioCapabilities.length;++l){var q=f.audioCapabilities[l];if(q.contentType){var w=!0,p=q.contentType.split(";")[0];v.canPlayType(p,this.a)&&(g.audioCapabilities.push(q),j=!0)}}}if(f.videoCapabilities){for(l=0;l<f.videoCapabilities.length;++l){q=f.videoCapabilities[l],q.contentType&&(w=!0,v.canPlayType(q.contentType,this.a)&&(g.videoCapabilities.push(q),j=!0))}}if(w||(j=v.canPlayType("video/mp4",this.a)||v.canPlayType("video/webm",this.a)),"required"==f.persistentState&&(k?(g.persistentState="required",g.sessionTypes=["persistent-license"]):j=!1),j){return void (this.b=g)}}throw k="Unsupported keySystem","org.w3.clearkey"!=x&&"com.widevine.alpha"!=x||(k="None of the requested configurations were supported."),k=Error(k),k.name="NotSupportedError",k.code=DOMException.NOT_SUPPORTED_ERR,k}function ew(f){this.g=f,this.b=null,this.a=new hv,this.c=[],this.f={}}function bH(g,h){g.b=h,gz(g.a);var f=hL;h&&(g6(g.a,h,f+"needkey",g.Cd.bind(g)),g6(g.a,h,f+"keymessage",g.Bd.bind(g)),g6(g.a,h,f+"keyadded",g.zd.bind(g)),g6(g.a,h,f+"keyerror",g.Ad.bind(g)))}function aE(g,h){var f=g.f[h];return f?f:(f=g.c.shift())?(f.sessionId=h,g.f[h]=f):null}function h2(g,h,f){cK.call(this),this.f=g,this.h=!1,this.a=this.b=null,this.c=h,this.g=f,this.sessionId="",this.expiration=NaN,this.closed=new gO,this.keyStatuses=new cx}function c6(h,l,g){if(h.h){return Promise.reject(Error("The session is already initialized."))}h.h=!0;try{if("persistent-license"==h.g){if(g){var p=new Uint8Array(gU("LOAD_SESSION|"+g))}else{var k=gU("PERSISTENT|"),f=new Uint8Array(k.byteLength+l.byteLength);f.set(new Uint8Array(k),0),f.set(new Uint8Array(l),k.byteLength),p=f}}else{p=new Uint8Array(l)}}catch(j){return Promise.reject(j)}h.b=new gO;var m=fB("generateKeyRequest");try{h.f[m](h.c,p)}catch(j){if("InvalidStateError"!=j.name){return h.b=null,Promise.reject(j)}setTimeout(function(){try{this.f[m](this.c,p)}catch(i){this.b.reject(i),this.b=null}}.bind(h),10)}return h.b}function f5(f,g){f.keyStatuses.Kb(g),f.dispatchEvent(new cZ("keystatuseschange"))}function cx(){this.size=0,this.a=void 0}function ac(){var f=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var g=f.apply(this,arguments);return g.abort=function(){},g}}function cA(){var f=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var j,h=0,k=0;k<this.sourceBuffers.length;++k){j=this.sourceBuffers[k],j=j.buffered.end(j.buffered.length-1),h=Math.max(h,j)}if(!isNaN(this.duration)&&h<this.duration){for(this.Zb=!0,k=0;k<this.sourceBuffers.length;++k){j=this.sourceBuffers[k],j.Tb=!1}}return f.apply(this,arguments)};var g=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var h=g.apply(this,arguments);return h.N=this,h.addEventListener("updateend",ch,!1),this.a||(this.addEventListener("sourceclose",cO,!1),this.a=!0),h}}function ch(g){var h=g.target,f=h.N;if(f.Zb){for(g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation(),h.Tb=!0,g=0;g<f.sourceBuffers.length;++g){if(0==f.sourceBuffers[g].Tb){return}}f.Zb=!1}}function cO(f){f=f.target;for(var g=0;g<f.sourceBuffers.length;++g){f.sourceBuffers[g].removeEventListener("updateend",ch,!1)}f.removeEventListener("sourceclose",cO,!1)}function hR(f){if(this.c=[],this.b=[],this.Ba=cS,f){try{f(this.fa.bind(this),this.a.bind(this))}catch(g){this.a(g)}}}function dm(f){var g=new hR;return g.fa(void 0),g.then(function(){return f})}function gQ(f){var g=new hR;return g.a(f),g}function ez(h){function l(o,p,n){o.Ba==cS&&(k[p]=n,m++,m==k.length&&o.fa(k))}var g=new hR;if(!h.length){return g.fa([]),g}for(var m=0,k=Array(h.length),f=g.a.bind(g),j=0;j<h.length;++j){h[j]&&h[j].then?h[j].then(l.bind(null,g,j),f):l(g,j,h[j])}return g}function bX(g){for(var j=new hR,f=j.fa.bind(j),k=j.a.bind(j),h=0;h<g.length;++h){g[h]&&g[h].then?g[h].then(f,k):f(g[h])}return j}function bm(g,h,f){eR.push(function(){if(f&&"function"==typeof f){try{var i=f(this.jb)}catch(k){return void h.a(k)}try{var j=i&&i.then}catch(k){return void h.a(k)}i instanceof hR?i==h?h.a(new TypeError("Chaining cycle detected")):i.then(h.fa.bind(h),h.a.bind(h)):j?fD(i,j,h):h.fa(i)}else{1==this.Ba?h.fa(this.jb):h.a(this.jb)}}.bind(g)),null==a7&&(a7=c9(eB))}function fD(g,j,f){try{var k=!1;j.call(g,function(i){if(!k){k=!0;try{var m=i&&i.then}catch(l){return void f.a(l)}m?fD(i,m,f):f.fa(i)}},f.a.bind(f))}catch(h){f.a(h)}}function eB(){for(;eR.length;){null!=a7&&(b1(a7),a7=null);var f=eR;eR=[];for(var g=0;g<f.length;++g){f[g]()}}}function c9(){return 0}function b1(){}function hI(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function bF(g,f,h){return new gf.TextTrackCue(g,f,h)}function cQ(g,f,h){return new gf.TextTrackCue(g+"-"+f+"-"+h,g,f,h)}var a4,eP=this;eP.xe=!0,gg.prototype.setDefaultEstimate=function(f){this.b=f},gg.prototype.getBandwidthEstimate=function(){return 128000>this.a?this.b:Math.min(gN(this.c),gN(this.f))},gH("shaka.util.Error",gb),gb.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},gb.Severity={RECOVERABLE:1,CRITICAL:2},gb.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},gb.Code={UNSUPPORTED_SCHEME:1000,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2000,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3000,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4000,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6000,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7000,CAST_API_UNAVAILABLE:8000,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9000,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008};var gd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;a4=gC.prototype,a4.aa="",a4.Ca="",a4.ca="",a4.Ka=null,a4.W="",a4.ua="",a4.toString=function(){var g=[],h=this.aa;if(h&&g.push(gl(h,fS,!0),":"),h=this.ca){g.push("//");var f=this.Ca;f&&g.push(gl(f,fS,!0),"@"),g.push(encodeURIComponent(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.Ka,null!=h&&g.push(":",String(h))}return(h=this.W)&&(this.ca&&"/"!=h.charAt(0)&&g.push("/"),g.push(gl(h,"/"==h.charAt(0)?fl:dN,!0))),(h=this.a.toString())&&g.push("?",h),(h=this.ua)&&g.push("#",gl(h,dz)),g.join("")},a4.resolve=function(h){var l=new gC(this);"data"===l.aa&&(l=new gC);var g=!!h.aa;g?gJ(l,h.aa):g=!!h.Ca,g?l.Ca=h.Ca:g=!!h.ca,g?l.ca=h.ca:g=null!=h.Ka;var p=h.W;if(g){gI(l,h.Ka)}else{if(g=!!h.W){if("/"!=p.charAt(0)){if(this.ca&&!this.W){p="/"+p}else{var k=l.W.lastIndexOf("/");-1!=k&&(p=l.W.substr(0,k+1)+p)}}if(".."==p||"."==p){p=""}else{if(-1!=p.indexOf("./")||-1!=p.indexOf("/.")){for(var k=!p.lastIndexOf("/",0),p=p.split("/"),f=[],j=0;j<p.length;){var m=p[j++];"."==m?k&&j==p.length&&f.push(""):".."==m?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),k&&j==p.length&&f.push("")):(f.push(m),k=!0)}p=f.join("/")}}}}return g?l.W=p:g=""!==h.a.toString(),g?gw(l,gD(h.a)):g=!!h.ua,g&&(l.ua=h.ua),l};var fS=/[#\/\?@]/g,dN=/[\#\?:]/g,fl=/[\#\?]/g,cC=/[\#\?@]/g,dz=/#/g;f9.prototype.a=null,f9.prototype.c=null,f9.prototype.toString=function(){if(this.b){return this.b}if(!this.a){return""}var h,k=[];for(h in this.a){for(var g=encodeURIComponent(h),l=this.a[h],j=0;j<l.length;j++){var f=g;""!==l[j]&&(f+="="+encodeURIComponent(l[j])),k.push(f)}}return this.b=k.join("&")};var aQ=1/15;gH("shaka.net.NetworkingEngine",g4),g4.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};var e4={};g4.registerScheme=function(f,g){e4[f]=g},g4.unregisterScheme=function(f){delete e4[f]},g4.prototype.Ld=function(f){this.b.push(f)},g4.prototype.registerRequestFilter=g4.prototype.Ld,g4.prototype.pe=function(f){var g=this.b;f=g.indexOf(f),0<=f&&g.splice(f,1)},g4.prototype.unregisterRequestFilter=g4.prototype.pe,g4.prototype.Ic=function(){this.b=[]},g4.prototype.clearAllRequestFilters=g4.prototype.Ic,g4.prototype.Md=function(f){this.c.push(f)},g4.prototype.registerResponseFilter=g4.prototype.Md,g4.prototype.qe=function(f){var g=this.c;f=g.indexOf(f),0<=f&&g.splice(f,1)},g4.prototype.unregisterResponseFilter=g4.prototype.qe,g4.prototype.Jc=function(){this.c=[]},g4.prototype.clearAllResponseFilters=g4.prototype.Jc,g4.prototype.m=function(){this.f=!0,this.b=[],this.c=[];for(var f=[],g=0;g<this.a.length;++g){f.push(this.a[g]["catch"](g0))}return Promise.all(f)},g4.prototype.destroy=g4.prototype.m,g4.prototype.request=function(h,f){if(this.f){return Promise.reject()}f.method=f.method||"GET",f.headers=f.headers||{},f.retryParameters=f.retryParameters?f7(f.retryParameters):hx(),f.uris=f7(f.uris);var j=Date.now(),g=Promise.resolve();return this.b.forEach(function(i){g=g.then(i.bind(null,h,f))}),g=g["catch"](function(i){throw new gb(2,1,1006,i)}),g=g.then(function(){for(var n=Date.now()-j,i=f.retryParameters||{},m=i.maxAttempts||1,p=i.backoffFactor||2,i=null==i.baseDelay?1000:i.baseDelay,k=this.g(h,f,0,n),l=1;l<m;l++){k=k["catch"](function(u,q,r){if(r&&1==r.severity){r=new gO;var t=f.retryParameters||{};return gf.setTimeout(r.resolve,u*(1+(2*Math.random()-1)*(null==t.fuzzFactor?0.5:t.fuzzFactor))),r.then(this.g.bind(this,h,f,q,n))}throw r}.bind(this,i,l%f.uris.length)),i*=p}return k}.bind(this)),this.a.push(g),g.then(function(i){return 0<=this.a.indexOf(g)&&this.a.splice(this.a.indexOf(g),1),this.h&&!i.fromCache&&1==h&&this.h(i.timeMs,i.data.byteLength),i}.bind(this))["catch"](function(i){return i&&(i.severity=2),0<=this.a.indexOf(g)&&this.a.splice(this.a.indexOf(g),1),Promise.reject(i)}.bind(this))},g4.prototype.request=g4.prototype.request,g4.prototype.g=function(h,l,g,m){if(this.f){return Promise.reject()}var k=new gC(l.uris[g]),f=k.aa;if(f||(f=location.protocol,f=f.slice(0,-1),gJ(k,f),l.uris[g]=k.toString()),f=e4[f],!f){return Promise.reject(new gb(2,1,1000,k))}var j=Date.now();return f(l.uris[g],l,h).then(function(p){void 0==p.timeMs&&(p.timeMs=Date.now()-j);var n=Date.now(),o=Promise.resolve();return this.c.forEach(function(q){o=o.then(function(){return Promise.resolve(q(h,p))}.bind(this))}),o=o["catch"](function(i){var q=2;throw i instanceof gb&&(q=i.severity),new gb(q,1,1007,i)}),o.then(function(){return p.timeMs+=Date.now()-n,p.timeMs+=m,p})}.bind(this))},hb.prototype.push=function(f,g){this.a.hasOwnProperty(f)?this.a[f].push(g):this.a[f]=[g]},hb.prototype.get=function(f){return(f=this.a[f])?f.slice():null},hb.prototype.remove=function(g,h){var f=this.a[g];if(f){for(var j=0;j<f.length;++j){f[j]==h&&(f.splice(j,1),--j)}}},hv.prototype.m=function(){return gz(this),this.a=null,Promise.resolve()},hv.prototype.ha=function(g,j){if(this.a){for(var f=this.a.get(j)||[],k=0;k<f.length;++k){var h=f[k];h.target==g&&(h.ha(),this.a.remove(j,h))}}},hz.prototype.ha=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},gH("shaka.util.StringUtils.fromUTF8",hm),gH("shaka.util.StringUtils.fromUTF16",gT),gH("shaka.util.StringUtils.fromBytesAutoDetect",gS),gH("shaka.util.StringUtils.toUTF8",gU),hW.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},gH("shaka.util.Uint8ArrayUtils.toBase64",g3),gH("shaka.util.Uint8ArrayUtils.fromBase64",gR),gH("shaka.util.Uint8ArrayUtils.fromHex",bl),gH("shaka.util.Uint8ArrayUtils.toHex",fC),gH("shaka.util.Uint8ArrayUtils.equal",eA),gH("shaka.util.Uint8ArrayUtils.concat",function(g){for(var h=0,f=0;f<arguments.length;++f){h+=arguments[f].length}for(var h=new Uint8Array(h),j=0,f=0;f<arguments.length;++f){h.set(arguments[f],j),j+=arguments[f].length}return h}),a4=c8.prototype,a4.m=function(){this.c=!0;var f=this.a.map(function(g){return(g.ba.close()||Promise.resolve())["catch"](g0)});return this.i.reject(),this.f&&f.push(this.f.m()),this.l&&f.push(this.l.setMediaKeys(null)["catch"](g0)),this.O&&(clearInterval(this.O),this.O=null),this.B&&this.B.cancel(),this.f=this.l=this.j=this.v=this.b=this.B=null,this.a=[],this.o=[],this.ma=this.g=this.h=this.la=null,Promise.all(f)},a4.configure=function(f){this.h=f},a4.init=function(g,h){var f={},j=[];return this.ka=h,this.o=g.offlineSessionIds,a3(this,g,h||0<g.offlineSessionIds.length,f,j),j.length?eO(this,f,j):(this.J=!0,Promise.resolve())},a4.keySystem=function(){return this.b?this.b.keySystem:""},a4.bb=function(){var f=this.a.map(function(g){return g=g.ba.expiration,isNaN(g)?1/0:g});return Math.min.apply(Math,f)},a4.fd=function(g){for(var h=new Uint8Array(g.initData),f=0;f<this.a.length;++f){if(eA(h,this.a[f].initData)){return}}dy(this,g.initDataType,h)},a4.kc=function(f){this.h.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.ja?this.G.push(f):aP(this,f)},a4.ec=function(g){g=g.target;var h;for(h=0;h<this.a.length&&this.a[h].ba!=g;++h){}if(h!=this.a.length){var f=!1;g.keyStatuses.forEach(function(k,q){if("string"==typeof q){var m=q;q=k,k=m}if("com.microsoft.playready"==this.b.keySystem&&16==q.byteLength){var m=new DataView(q),i=m.getUint32(0,!0),l=m.getUint16(4,!0),p=m.getUint16(6,!0);m.setUint32(0,i,!1),m.setUint16(4,l,!1),m.setUint16(6,p,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==k&&(k="usable"),"status-pending"!=k&&(this.a[h].loaded=!0,this.a.every(function(n){return n.loaded})&&this.i.resolve()),"expired"==k&&(f=!0),m=fC(new Uint8Array(q)),this.A[m]=k}.bind(this));var j=g.expiration-Date.now();(0>j||f&&1000>j)&&!this.a[h].ia&&(this.a.splice(h,1),g.close()),hh(this.B)}},a4.Kd=function(){function f(g,h){return"expired"==h}!hq(this.A)&&hf(this.A,f)&&this.g(new gb(2,6,6014)),this.Da(this.A)},a4.qd=function(){for(var f=0;f<this.G.length;f++){aP(this,this.G[f])}this.ja=!0,this.G=[]},a4.Jd=function(){this.a.forEach(function(g){var h=g.zb,f=g.ba.expiration;isNaN(f)&&(f=1/0),f!=h&&(this.ma(g.ba.sessionId,f),g.zb=f)}.bind(this))};var gX={};gH("shaka.media.TextEngine.registerParser",aI),gH("shaka.media.TextEngine.unregisterParser",function(f){delete gX[f]}),gH("shaka.media.TextEngine.makeCue",d0),aB.prototype.m=function(){return this.c&&g8(this,function(){return !0}),this.c=this.f=null,Promise.resolve()},aB.prototype.remove=function(f,g){return Promise.resolve().then(function(){this.c&&(g8(this,function(h){return !(h.startTime>=g||h.endTime<=f)}),null==this.b||g<=this.b||f>=this.a||(f<=this.b&&g>=this.a?this.b=this.a=null:f<=this.b&&g<this.a?this.b=g:f>this.b&&g>=this.a&&(this.a=f)))}.bind(this))},bQ.prototype.parseInit=function(f){this.Oa(f,0,null,null)},bQ.prototype.parseMedia=function(f,g){return this.Oa(f,g.periodStart,g.segmentStart,g.segmentEnd)},a4=bc.prototype,a4.m=function(){this.h=!0;var g,h=[];for(g in this.b){var f=this.b[g],j=f[0];for(this.b[g]=f.slice(0,1),j&&h.push(j.p["catch"](g0)),j=1;j<f.length;++j){f[j].p["catch"](g0),f[j].p.reject()}}return this.a&&h.push(this.a.m()),Promise.all(h).then(function(){this.g.m(),this.a=this.i=this.N=this.f=this.g=null,this.c={},this.b={}}.bind(this))},a4.init=function(g){for(var h in g){var f=g[h];"text"==h?d4(this,f):(f=this.N.addSourceBuffer(f),g6(this.g,f,"error",this.ke.bind(this,h)),g6(this.g,f,"updateend",this.Ja.bind(this,h)),this.c[h]=f,this.b[h]=[])}},a4.remove=function(g,h,f){return"text"==g?this.a.remove(h,f):eg(this,g,this.qc.bind(this,g,h,f))},a4.endOfStream=function(f){return bx(this,function(){f?this.N.endOfStream(f):this.N.endOfStream()}.bind(this))},a4.qa=function(f){return bx(this,function(){this.N.duration=f}.bind(this))},a4.Y=function(){return this.N.duration},a4.je=function(f,g){this.c[f].appendBuffer(g)},a4.qc=function(g,h,f){f<=h?this.Ja(g):this.c[g].remove(h,f)},a4.Ec=function(f){var g=this.c[f].appendWindowEnd;this.c[f].abort(),this.c[f].appendWindowEnd=g,this.Ja(f)},a4.Oc=function(f){this.f.currentTime-=0.001,this.Ja(f)},a4.$d=function(f,g){this.c[f].timestampOffset=g,this.Ja(f)},a4.Yd=function(f,g){this.c[f].appendWindowEnd=g+0.04,this.Ja(f)},a4.ke=function(f){this.b[f][0].p.reject(new gb(2,3,3014,this.f.error?this.f.error.code:0))},a4.Ja=function(f){var g=this.b[f][0];g&&(g.p.resolve(),am(this,f))};var h0=1,dD=2,aC={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};gH("shaka.abr.SimpleAbrManager",hU),hU.prototype.stop=function(){this.f=null,this.b=!1,this.h=[],this.g=[],this.c=null},hU.prototype.stop=hU.prototype.stop,hU.prototype.init=function(f){this.f=f},hU.prototype.init=hU.prototype.init,hU.prototype.chooseStreams=function(h){var l={};if(-1<h.indexOf("audio")||-1<h.indexOf("video")){var g=this.h,p=bP(this.i,g),k=this.a.getBandwidthEstimate();if(g.length&&!p.length){throw new gb(2,4,4012)}for(var g=p[0],f=0;f<p.length;++f){var j=p[f],m=(p[f+1]||{bandwidth:1/0}).bandwidth/0.85;k>=j.bandwidth/0.95&&k<=m&&(g=j)}(p=g)&&p.video&&(l.video=p.video),p&&p.audio&&(l.audio=p.audio)}return -1<h.indexOf("text")&&(l.text=this.g[0]),this.c=Date.now(),l},hU.prototype.chooseStreams=hU.prototype.chooseStreams,hU.prototype.enable=function(){this.b=!0},hU.prototype.enable=hU.prototype.enable,hU.prototype.disable=function(){this.b=!1},hU.prototype.disable=hU.prototype.disable,hU.prototype.segmentDownloaded=function(h,j){var g=this.a;if(!(16000>j)){var k=8000*j/h,f=h/1000;g.a+=j,gj(g.c,f,k),gj(g.f,f,k)}if(null!=this.c&&this.b){h:{if(this.j){if(8000>Date.now()-this.c){break h}}else{if(!(128000<=this.a.a)){break h}this.j=!0}g=this.chooseStreams(["audio","video"]),this.a.getBandwidthEstimate(),this.f(g)}}},hU.prototype.segmentDownloaded=hU.prototype.segmentDownloaded,hU.prototype.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate()},hU.prototype.getBandwidthEstimate=hU.prototype.getBandwidthEstimate,hU.prototype.setDefaultEstimate=function(f){this.a.setDefaultEstimate(f)},hU.prototype.setDefaultEstimate=hU.prototype.setDefaultEstimate,hU.prototype.setRestrictions=function(f){this.i=f},hU.prototype.setRestrictions=hU.prototype.setRestrictions,hU.prototype.setVariants=function(f){this.h=f},hU.prototype.setVariants=hU.prototype.setVariants,hU.prototype.setTextStreams=function(f){this.g=f},hU.prototype.setTextStreams=hU.prototype.setTextStreams,cZ.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},cZ.prototype.stopImmediatePropagation=function(){this.a=!0},cZ.prototype.stopPropagation=function(){};var aJ="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),d1="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),dR=["loop","playbackRate"],g9=["pause","play"],bR="adaptation buffering emsg error loading unloading texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged".split(" "),ih="drmInfo getAudioLanguages getConfiguration getExpiration getManifestUri getPlaybackRate getPlayheadTimeAsDate getTextLanguages getTextTracks getTracks getStats getVariantTracks isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange".split(" "),ag=[["getConfiguration","configure"]],eF=[["isTextTrackVisible","setTextTrackVisibility"]],bd="addTextTrack cancelTrickPlay configure resetConfiguration selectAudioLanguage selectTextLanguage selectTextTrack selectTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),e8=["load","unload"];a4=f0.prototype,a4.m=function(){return dV(this),this.a&&(this.a.leave(function(){},function(){}),this.a=null),this.G=this.B=this.l=null,this.c=this.j=this.h=!1,this.g=this.f=this.b=this.i=null,Promise.resolve()},a4.V=function(){return this.c},a4.Fb=function(){return this.A},a4.init=function(){if(gf.chrome&&chrome.cast&&chrome.cast.isAvailable){delete gf.__onGCastApiAvailable,this.h=!0,this.l();var f=new chrome.cast.SessionRequest(this.J),f=new chrome.cast.ApiConfig(f,this.gd.bind(this),this.sd.bind(this),"origin_scoped");chrome.cast.initialize(f,function(){},function(){})}else{gf.__onGCastApiAvailable=function(g){g&&this.init()}.bind(this)}},a4.Ib=function(f){this.i=f,this.c&&fx(this,{type:"appData",appData:this.i})},a4.cast=function(f){return this.h?this.j?this.c?Promise.reject(new gb(1,8,8002)):(this.g=new gO,chrome.cast.requestSession(this.Bb.bind(this,f),this.cc.bind(this)),this.g):Promise.reject(new gb(1,8,8001)):Promise.reject(new gb(1,8,8000))},a4.ab=function(){this.c&&(dV(this),this.a&&(this.a.stop(function(){},function(){}),this.a=null))},a4.get=function(f,g){if("video"==f){if(0<=g9.indexOf(g)){return this.pc.bind(this,f,g)}}else{if("player"==f){if(0<=bd.indexOf(g)){return this.pc.bind(this,f,g)}if(0<=e8.indexOf(g)){return this.Pd.bind(this,f,g)}if(0<=ih.indexOf(g)){return this.lc.bind(this,f,g)}}}return this.lc(f,g)},a4.set=function(g,h,f){this.b[g][h]=f,fx(this,{type:"set",targetName:g,property:h,value:f})},a4.Bb=function(f,g){this.a=g,this.a.addUpdateListener(this.dc.bind(this)),this.a.addMessageListener("urn:x-cast:com.google.shaka.v2",this.md.bind(this)),this.dc(),fx(this,{type:"init",initState:f,appData:this.i}),this.g.resolve()},a4.cc=function(f){var g=8003;switch(f.code){case"cancel":g=8004;break;case"timeout":g=8005;break;case"receiver_unavailable":g=8006}this.g.reject(new gb(2,8,g,f))},a4.lc=function(f,g){return this.b[f][g]},a4.pc=function(f,g){fx(this,{type:"call",targetName:f,methodName:g,args:Array.prototype.slice.call(arguments,2)})},a4.Pd=function(g,j){var f=Array.prototype.slice.call(arguments,2),k=new gO,h=this.o.toString();return this.o++,this.f[h]=k,fx(this,{type:"asyncCall",targetName:g,methodName:j,args:f,id:h}),k},a4.gd=function(f){var g=this.v();this.g=new gO,this.Bb(g,f)},a4.sd=function(f){this.j="available"==f,this.l()},a4.dc=function(){var f=!!this.a&&"connected"==this.a.status;if(this.c&&!f){this.G();for(var g in this.b){this.b[g]={}}dV(this)}this.A=(this.c=f)?this.a.receiver.friendlyName:"",this.l()},a4.md=function(h,k){var g=eY(k);switch(g.type){case"event":var l=g.targetName,j=g.event;this.B(l,new cZ(j.type,j));break;case"update":j=g.update;for(l in j){var g=this.b[l]||{};for(f in j[l]){g[f]=j[l][f]}}break;case"asyncComplete":l=g.id;var f=g.error;if(g=this.f[l],delete this.f[l],g){if(f){l=new gb(f.severity,f.category,f.code);for(j in f){l[j]=f[j]}g.reject(l)}else{g.resolve()}}}},cK.prototype.addEventListener=function(f,g){this.nb.push(f,g)},cK.prototype.removeEventListener=function(f,g){this.nb.remove(f,g)},cK.prototype.dispatchEvent=function(g){for(var j=this.nb.get(g.type)||[],f=0;f<j.length;++f){g.target=this.Ua,g.currentTarget=this.Ua;var k=j[f];try{k.handleEvent?k.handleEvent(g):k.call(this,g)}catch(h){}if(g.a){break}}return g.defaultPrevented},gB(dH),gH("shaka.cast.CastProxy",dH),dH.prototype.m=function(f){return f&&this.a&&this.a.ab(),f=[this.h?this.h.m():null,this.b?this.b.m():null,this.a?this.a.m():null],this.a=this.h=this.i=this.j=this.b=this.c=null,Promise.all(f)},dH.prototype.destroy=dH.prototype.m,dH.prototype.Zc=function(){return this.j},dH.prototype.getVideo=dH.prototype.Zc,dH.prototype.Tc=function(){return this.i},dH.prototype.getPlayer=dH.prototype.Tc,dH.prototype.Fc=function(){return !!this.a&&(this.a.h&&this.a.j)},dH.prototype.canCast=dH.prototype.Fc,dH.prototype.V=function(){return !!this.a&&this.a.V()},dH.prototype.isCasting=dH.prototype.V,dH.prototype.Fb=function(){return this.a?this.a.Fb():""},dH.prototype.receiverName=dH.prototype.Fb,dH.prototype.cast=function(){var f=this.Vb();return this.a.cast(f).then(function(){return this.b.ib()}.bind(this))},dH.prototype.cast=dH.prototype.cast,dH.prototype.Ib=function(f){this.a.Ib(f)},dH.prototype.setAppData=dH.prototype.Ib,dH.prototype.ne=function(){var f=this.a;if(f.c){var g=f.v();chrome.cast.requestSession(f.Bb.bind(f,g),f.cc.bind(f))}},dH.prototype.suggestDisconnect=dH.prototype.ne,dH.prototype.ab=function(){this.a.ab()},dH.prototype.forceDisconnect=dH.prototype.ab,a4=dH.prototype,a4.Vb=function(){var f={video:{},player:{},playerAfterLoad:{},manifest:this.b.Za,startTime:null};return this.c.pause(),dR.forEach(function(g){f.video[g]=this.c[g]}.bind(this)),this.c.ended||(f.startTime=this.c.currentTime),ag.forEach(function(h){var g=h[1];h=this.b[h[0]](),f.player[g]=h}.bind(this)),eF.forEach(function(h){var g=h[1];h=this.b[h[0]](),f.playerAfterLoad[g]=h}.bind(this)),f},a4.fe=function(){this.dispatchEvent(new cZ("caststatuschanged"))},a4.he=function(){ag.forEach(function(i){var m=i[1];i=this.a.get("player",i[0])(),this.b[m](i)}.bind(this));var h=this.a.get("player","getManifestUri")(),k=this.a.get("video","ended"),g=Promise.resolve(),l=this.c.autoplay,j=null;k||(j=this.a.get("video","currentTime")),h&&(this.c.autoplay=!1,g=this.b.load(h,j),g["catch"](function(i){this.b.dispatchEvent(new cZ("error",{detail:i}))}.bind(this)));var f={};dR.forEach(function(i){f[i]=this.a.get("video",i)}.bind(this)),g.then(function(){dR.forEach(function(i){this.c[i]=f[i]}.bind(this)),eF.forEach(function(i){var m=i[1];i=this.a.get("player",i[0])(),this.b[m](i)}.bind(this)),this.c.autoplay=l,h&&this.c.play()}.bind(this))},a4.te=function(f){if("addEventListener"==f){return this.g.addEventListener.bind(this.g)}if("removeEventListener"==f){return this.g.removeEventListener.bind(this.g)}if(this.a.V()&&!Object.keys(this.a.b.video).length){var g=this.c[f];if("function"!=typeof g){return g}}return this.a.V()?this.a.get("video",f):(g=this.c[f],"function"==typeof g&&(g=g.bind(this.c)),g)},a4.ve=function(f,g){this.a.V()?this.a.set("video",f,g):this.c[f]=g},a4.ue=function(f){this.a.V()||this.g.dispatchEvent(new cZ(f.type,f))},a4.Hd=function(f){return"addEventListener"==f?this.f.addEventListener.bind(this.f):"removeEventListener"==f?this.f.removeEventListener.bind(this.f):"getNetworkingEngine"==f?this.b.Wb.bind(this.b):this.a.V()&&!Object.keys(this.a.b.video).length&&0<=ih.indexOf(f)||!this.a.V()?(f=this.b[f],f.bind(this.b)):this.a.get("player",f)},a4.Id=function(f){this.a.V()||this.f.dispatchEvent(f)},a4.ge=function(f,g){this.a.V()&&("video"==f?this.g.dispatchEvent(g):"player"==f&&this.f.dispatchEvent(g))},gB(fd),gH("shaka.cast.CastReceiver",fd),fd.prototype.isConnected=function(){return this.i},fd.prototype.isConnected=fd.prototype.isConnected,fd.prototype.ad=function(){return this.f},fd.prototype.isIdle=fd.prototype.ad,fd.prototype.m=function(){var f=this.b?this.b.m():Promise.resolve();return null!=this.h&&gf.clearTimeout(this.h),this.l=this.j=this.b=this.a=null,this.i=!1,this.f=!0,this.h=this.g=this.c=null,f.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},fd.prototype.destroy=fd.prototype.m,a4=fd.prototype,a4.jc=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length,h5(this)},a4.mc=function(f,g){this.Cb(),aH(this,{type:"event",targetName:f,event:g},this.c)},a4.Cb=function(){null!=this.h&&gf.clearTimeout(this.h),this.h=gf.setTimeout(this.Cb.bind(this),500);var g={video:{},player:{}};d1.forEach(function(h){g.video[h]=this.a[h]}.bind(this)),ih.forEach(function(h){g.player[h]=this.b[h]()}.bind(this));var f=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();f&&(g.video.volume=f.level,g.video.muted=f.muted),aH(this,{type:"update",update:g},this.c)},a4.Mc=function(){var f=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();f&&aH(this,{type:"update",update:{video:{volume:f.level,muted:f.muted}}},this.c),aH(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.c)},a4.vd=function(g){var j=eY(g.data);switch(j.type){case"init":dK(this,j.initState,j.appData),this.Cb();break;case"appData":this.l(j.appData);break;case"set":var f=j.targetName,k=j.property,h=j.value;if("video"==f){if(j=cast.receiver.CastReceiverManager.getInstance(),"volume"==k){j.setSystemVolumeLevel(h);break}if("muted"==k){j.setSystemVolumeMuted(h);break}}this.j[f][k]=h;break;case"call":f=j.targetName,k=j.methodName,h=j.args,f=this.j[f],f[k].apply(f,h);break;case"asyncCall":f=j.targetName,k=j.methodName,h=j.args,j=j.id,g=g.senderId,f=this.j[f],f[k].apply(f,h).then(this.vc.bind(this,g,j,null),this.vc.bind(this,g,j))}},a4.hd=function(h){var k=eY(h.data);switch(k.type){case"PLAY":this.a.play(),aO(this,0);break;case"PAUSE":this.a.pause(),aO(this,0);break;case"SEEK":h=k.currentTime;var g=k.resumeState;null!=h&&(this.a.currentTime=Number(h)),g&&"PLAYBACK_START"==g?(this.a.play(),aO(this,0)):g&&"PLAYBACK_PAUSE"==g&&(this.a.pause(),aO(this,0));break;case"STOP":this.b.ib().then(function(){aO(this,0)}.bind(this));break;case"GET_STATUS":aO(this,Number(k.requestId));break;case"VOLUME":g=k.volume,h=g.level;var g=g.muted,l=this.a.volume,j=this.a.muted;null!=h&&(this.a.volume=Number(h)),null!=g&&(this.a.muted=g),l==this.a.volume&&j==this.a.muted||aO(this,0);break;case"LOAD":g=k.media.contentId,h=k.currentTime;var f=this.o(g);this.a.autoplay=!0,this.b.load(f,h).then(function(){aO(this,0,{contentId:f,streamType:this.b.$()?"LIVE":"BUFFERED",contentType:""})}.bind(this))["catch"](function(n){var m="LOAD_FAILED";7==n.category&&7000==n.code&&(m="LOAD_CANCELLED"),aH(this,{requestId:Number(k.requestId),type:m},this.g)}.bind(this));break;default:aH(this,{requestId:Number(k.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.g)}},a4.vc=function(g,h,f){aH(this,{type:"asyncComplete",id:h,error:f},this.c,g)};var d5={IDLE:"IDLE",Cc:"PLAYING",Ac:"BUFFERING",Bc:"PAUSED"},fI={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};gH("shaka.media.InitSegmentReference",c2),gH("shaka.media.SegmentReference",f3),gH("shaka.util.DataViewReader",cw);var fq=1;cw.Endianness={we:0,ye:fq},cw.prototype.Z=function(){return this.u<this.H.byteLength},cw.prototype.hasMoreData=cw.prototype.Z,cw.prototype.Vc=function(){return this.u},cw.prototype.getPosition=cw.prototype.Vc,cw.prototype.Qc=function(){return this.H.byteLength},cw.prototype.getLength=cw.prototype.Qc,cw.prototype.Eb=function(){try{var f=this.H.getUint8(this.u)}catch(g){id()}return this.u+=1,f},cw.prototype.readUint8=cw.prototype.Eb,cw.prototype.oc=function(){try{var f=this.H.getUint16(this.u,this.a)}catch(g){id()}return this.u+=2,f},cw.prototype.readUint16=cw.prototype.oc,cw.prototype.D=function(){try{var f=this.H.getUint32(this.u,this.a)}catch(g){id()}return this.u+=4,f},cw.prototype.readUint32=cw.prototype.D,cw.prototype.nc=function(){try{var f=this.H.getInt32(this.u,this.a)}catch(g){id()}return this.u+=4,f},cw.prototype.readInt32=cw.prototype.nc,cw.prototype.Qa=function(){try{if(this.a){var g=this.H.getUint32(this.u,!0),h=this.H.getUint32(this.u+4,!0)}else{h=this.H.getUint32(this.u,!1),g=this.H.getUint32(this.u+4,!1)}}catch(f){id()}if(2097151<h){throw new gb(2,3,3001)}return this.u+=8,h*Math.pow(2,32)+g},cw.prototype.readUint64=cw.prototype.Qa,cw.prototype.La=function(f){this.u+f>this.H.byteLength&&id();var g=this.H.buffer.slice(this.u,this.u+f);return this.u+=f,new Uint8Array(g)},cw.prototype.readBytes=cw.prototype.La,cw.prototype.I=function(f){this.u+f>this.H.byteLength&&id(),this.u+=f},cw.prototype.skip=cw.prototype.I,cw.prototype.Db=function(){for(var f=this.u;this.Z()&&this.H.getUint8(this.u);){this.u+=1}return f=this.H.buffer.slice(f,this.u),this.u+=1,hm(f)},cw.prototype.readTerminatedString=cw.prototype.Db,gH("shaka.util.Mp4Parser",cz),cz.prototype.C=function(g,h){var f=dg(g);return this.b[f]=0,this.a[f]=h,this},cz.prototype.box=cz.prototype.C,cz.prototype.da=function(g,h){var f=dg(g);return this.b[f]=1,this.a[f]=h,this},cz.prototype.fullBox=cz.prototype.da,cz.prototype.parse=function(f){for(f=new cw(new DataView(f),0);f.Z();){this.fb(0,f)}},cz.prototype.parse=cz.prototype.parse,cz.prototype.fb=function(h,l){var g=l.u,p=l.D(),k=l.D();switch(p){case 0:p=l.H.byteLength-g;break;case 1:p=l.Qa()}var f=this.a[k];if(f){var j=null,m=null;1==this.b[k]&&(m=l.D(),j=m>>>24,m&=16777215),k=g+p-l.u,k=0<k?l.La(k).buffer:new ArrayBuffer(0),k=new cw(new DataView(k),0),f({Oa:this,version:j,Nc:m,s:k,size:p,start:g+h})}else{l.I(g+p-l.u)}},cz.prototype.parseNext=cz.prototype.fb,cz.children=cg,cz.sampleDescription=cN,cz.allData=hN,gH("shaka.media.SegmentIndex",bW),bW.prototype.m=function(){return this.a=null,Promise.resolve()},bW.prototype.destroy=bW.prototype.m,bW.prototype.find=function(g){for(var h=this.a.length-1;0<=h;--h){var f=this.a[h];if(g>=f.startTime&&g<f.endTime){return f.position}}return this.a.length&&g<this.a[0].startTime?this.a[0].position:null},bW.prototype.find=bW.prototype.find,bW.prototype.get=function(f){return this.a.length?(f-=this.a[0].position,0>f||f>=this.a.length?null:this.a[f]):null},bW.prototype.get=bW.prototype.get,bW.prototype.xb=function(h){for(var k,g,l=[],j=g=0;g<this.a.length&&j<h.length;){var f=this.a[g];k=h[j],f.startTime<k.startTime?(l.push(f),g++):(f.startTime>k.startTime||(0.1<Math.abs(f.endTime-k.endTime)?l.push(k):l.push(f),g++),j++)}for(;g<this.a.length;){l.push(this.a[g++])}if(l.length){for(g=l[l.length-1].position+1;j<h.length;){k=h[j++],k=new f3((g++),k.startTime,k.endTime,k.a,k.X,k.M),l.push(k)}}else{l=h}this.a=l},bW.prototype.merge=bW.prototype.xb,bW.prototype.qb=function(f){for(var g=0;g<this.a.length&&!(this.a[g].endTime>f);++g){}this.a.splice(0,g)},bW.prototype.evict=bW.prototype.qb;var aX;fK.prototype.Z=function(){return this.a.Z()},bN.prototype.parse=function(h,l,g,p){var k;if(l=new fK(new DataView(l)),440786851!=eH(l).id){throw new gb(2,3,3008)}var f=eH(l);if(408125543!=f.id){throw new gb(2,3,3009)}for(l=f.a.byteOffset,f=new fK(f.a),k=null;f.Z();){var j=eH(f);if(357149030==j.id){k=j;break}}if(!k){throw new gb(2,3,3010)}for(f=new fK(k.a),k=1000000,j=null;f.Z();){var m=eH(f);if(2807729==m.id){k=hS(m)}else{if(17545==m.id){if(j=m,4==j.a.byteLength){j=j.a.getFloat32(0)}else{if(8!=j.a.byteLength){throw new gb(2,3,3003)}j=j.a.getFloat64(0)}}}}if(null==j){throw new gb(2,3,3011)}if(f=k/1000000000,k=j*f,h=eH(new fK(new DataView(h))),475249515!=h.id){throw new gb(2,3,3007)}return cX(h,l,f,k,g,p)};var eU={},dj={};gH("shaka.media.ManifestParser.registerParserByExtension",function(f,g){dj[f]=g}),gH("shaka.media.ManifestParser.registerParserByMime",function(f,g){eU[f]=g}),gH("shaka.media.PresentationTimeline",dX),dX.prototype.Y=function(){return this.a},dX.prototype.getDuration=dX.prototype.Y,dX.prototype.qa=function(f){this.a=f},dX.prototype.setDuration=dX.prototype.qa,dX.prototype.Wc=function(){return this.f},dX.prototype.getPresentationStartTime=dX.prototype.Wc,dX.prototype.wc=function(f){this.h=f},dX.prototype.setClockOffset=dX.prototype.wc,dX.prototype.yc=function(f){this.g=f},dX.prototype.setStatic=dX.prototype.yc,dX.prototype.Xc=function(){return this.c},dX.prototype.getSegmentAvailabilityDuration=dX.prototype.Xc,dX.prototype.xc=function(f){this.c=f},dX.prototype.setSegmentAvailabilityDuration=dX.prototype.xc,dX.prototype.Ia=function(f,g){g.length&&(this.b=g.reduce(function(h,i){return Math.max(h,i.endTime-i.startTime)},this.b))},dX.prototype.notifySegments=dX.prototype.Ia,dX.prototype.yb=function(f){this.b=Math.max(this.b,f)},dX.prototype.notifyMaxSegmentDuration=dX.prototype.yb,dX.prototype.$=function(){return 1/0==this.a&&!this.g},dX.prototype.isLive=dX.prototype.$,dX.prototype.wa=function(){return 1/0!=this.a&&!this.g},dX.prototype.isInProgress=dX.prototype.wa,dX.prototype.na=function(){return this.Fa(0)},dX.prototype.getSegmentAvailabilityStart=dX.prototype.na,dX.prototype.Fa=function(f){if(1/0==this.c){return 0}var g=this.va();return Math.max(0,Math.min(g-this.c+f,g))},dX.prototype.getSafeAvailabilityStart=dX.prototype.Fa,dX.prototype.va=function(){return this.$()||this.wa()?Math.min(Math.max(0,(Date.now()+this.h)/1000-this.b-this.f),this.a):this.a},dX.prototype.getSegmentAvailabilityEnd=dX.prototype.va,dX.prototype.cb=function(){return Math.max(0,this.va()-(this.$()||this.wa()?this.i:0))},dX.prototype.getSeekRangeEnd=dX.prototype.cb,gH("shaka.dash.DashParser",hy),a4=hy.prototype,a4.configure=function(f){this.b=f},a4.start=function(f,g){return this.g=[f],this.a=g,bY(this).then(function(){return this.a&&ec(this,0),this.c}.bind(this))},a4.stop=function(){return this.b=this.a=null,this.g=[],this.c=null,this.i=[],this.j={},null!=this.f&&(gf.clearTimeout(this.f),this.f=null),Promise.resolve()},a4.update=function(){bY(this)["catch"](function(f){this.a&&this.a.onError(f)}.bind(this))},a4.onExpirationUpdated=function(){},a4.Dd=function(v,m){v.S=fO(m,v.T,null);var k=!1,j=dY(m,"Role"),f=j.map(function(h){return h.getAttribute("value")}).filter(f8),u=void 0;"text"==v.S.contentType&&(u="subtitle");for(var w=0;w<j.length;w++){var g=j[w].getAttribute("schemeIdUri");if(null==g||"urn:mpeg:dash:role:2011"==g){switch(g=j[w].getAttribute("value")){case"main":k=!0;break;case"caption":case"subtitle":u=g}}}var l=null,q=!1;if(dY(m,"EssentialProperty").forEach(function(h){"http://dashif.org/guidelines/trickmode"==h.getAttribute("schemeIdUri")?l=h.getAttribute("value"):q=!0}),q){return null}var j=dY(m,"ContentProtection"),p=fA(j,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo),j=cU(m.getAttribute("lang")||"und"),g=m.getAttribute("label"),w=dY(m,"Representation"),f=w.map(this.Gd.bind(this,v,p,u,j,g,k,f)).filter(function(h){return !!h});if(!f.length){throw new gb(2,4,4003)}return v.S.contentType&&"application"!=v.S.contentType||(v.S.contentType=dv(f[0].mimeType,f[0].codecs),f.forEach(function(h){h.type=v.S.contentType})),f.forEach(function(h){p.drmInfos.forEach(function(i){h.keyId&&i.keyIds.push(h.keyId)})}),u=w.map(function(h){return h.getAttribute("id")}).filter(f8),{id:v.S.id||"__fake__"+this.h++,contentType:v.S.contentType,language:j,vb:k,streams:f,drmInfos:p.drmInfos,Ob:l,Qd:u}},a4.Gd=function(w,m,k,j,f,q,x,g){if(w.w=fO(g,w.S,null),!fz(w.w)){return null}w.bandwidth=bZ(g,"bandwidth",fh)||void 0;var v=this.Rd.bind(this);if(w.w.Ra){v=gA(w,v)}else{if(w.w.pa){v=fv(w,this.j)}else{if(w.w.Sa){v=fb(w,v,this.j,!!this.c)}else{var l=w.w.U,p=w.R.duration||0;v={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(h){return 0<=h&&h<p?1:null},getSegmentReference:function(h){return 1!=h?null:new f3(1,0,p,function(){return l},0,null)},initSegmentReference:null,presentationTimeOffset:0}}}}return g=dY(g,"ContentProtection"),g=a2(g,this.b.dash.customScheme,m,this.b.dash.ignoreDrmInfo),{id:this.h++,createSegmentIndex:v.createSegmentIndex,findSegmentPosition:v.findSegmentPosition,getSegmentReference:v.getSegmentReference,initSegmentReference:v.initSegmentReference,presentationTimeOffset:v.presentationTimeOffset,mimeType:w.w.mimeType,codecs:w.w.codecs,frameRate:w.w.frameRate,bandwidth:w.bandwidth,width:w.w.width,height:w.w.height,kind:k,encrypted:0<m.drmInfos.length,keyId:g,language:j,label:f,type:w.S.contentType,primary:q,trickModeVideo:null,containsEmsgBoxes:w.w.containsEmsgBoxes,roles:x}},a4.ie=function(){this.f=null;var f=Date.now();bY(this).then(function(){this.a&&ec(this,(Date.now()-f)/1000)}.bind(this))["catch"](function(g){this.a&&(g.severity=1,this.a.onError(g),ec(this,0))}.bind(this))},a4.Fd=function(h,k,g){var l=g.getAttribute("schemeIdUri")||"",j=g.getAttribute("value")||"",f=bZ(g,"timescale",ed)||1;dY(g,"Event").forEach(function(m){var n=bZ(m,"presentationTime",ed)||0,p=bZ(m,"duration",ed)||0,n=n/f+h,p=n+p/f;null!=k&&(n=Math.min(n,h+k),p=Math.min(p,h+k)),m={schemeIdUri:l,value:j,startTime:n,endTime:p,id:m.getAttribute("id")||"",eventElement:m},this.a.onTimelineRegionAdded(m)}.bind(this))},a4.Rd=function(g,h,f){return g=g7(g,this.b.retryParameters),null!=h&&(g.headers.Range="bytes="+h+"-"+(null!=f?f:"")),this.a.networkingEngine.request(1,g).then(function(i){return i.data})},dj.mpd=hy,eU["application/dash+xml"]=hy,bC.prototype.toString=function(){function f(g){return g.name+'="'+g.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(f).join(","):"#"+this.name},bC.prototype.getAttribute=function(f){var g=this.a.filter(function(h){return h.name==f});return g.length?g[0]:null};var eh="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY".split(" "),by="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");gH("shaka.net.DataUriPlugin",bU),bU.parse=function(h){var f=h.split(":");if(2>f.length||"data"!=f[0]){throw new gb(2,1,1004,h)}if(f=f.slice(1).join(":").split(","),2>f.length){throw new gb(2,1,1004,h)}var j=f[0],f=gf.decodeURIComponent(f.slice(1).join(",")),j=j.split(";"),g=null;if(1<j.length&&(g=j[1]),"base64"==g){h=gR(f).buffer}else{if(g){throw new gb(2,1,1005,h)}h=gU(f)}return{data:h,contentType:j[0]}},e4.data=bU,gH("shaka.hls.HlsParser",bu),a4=bu.prototype,a4.configure=function(f){this.b=f},a4.start=function(f,g){return this.c=g,this.j=f,this.c.networkingEngine.request(0,g7([f],this.b.retryParameters)).then(function(h){return fG(this,h.data,f)}.bind(this))},a4.stop=function(){return this.b=this.c=null,this.g={},Promise.resolve()},a4.update=function(){},a4.onExpirationUpdated=function(){};var ap=[/^(avc)/,/^(hvc)/,/^(vp[8-9])$/,/^(av1)$/,/^(mp4v)/],hP=[/^(vorbis)/,/^(opus)/,/^(mp4a)/,/^(ac-3)$/,/^(ec-3)$/],cV={mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},fW={mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},ck={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(f){if("SAMPLE-AES-CENC"!=aT(f,"METHOD")){return null}var g=aT(f,"URI"),g=bU.parse(g),g=new Uint8Array(g.data),g=hj("com.widevine.alpha",[{initDataType:"cenc",initData:g}]);return(f=hX(f,"KEYID"))&&(g.keyIds=[f.substr(2).toLowerCase()]),g}};dj.m3u8=bu,eU["application/x-mpegurl"]=bu,eU["application/vnd.apple.mpegurl"]=bu,g5.prototype.parseInit=function(){},g5.prototype.parseMedia=function(k,F){var B=hm(k),y=[],u=new DOMParser,J=null;try{J=u.parseFromString(B,"text/xml")}catch(q){throw new gb(2,2,2005)}if(J){var x=J.getElementsByTagName("tt")[0];if(!x){throw new gb(2,2,2005)}u=x.getAttribute("ttp:frameRate"),J=x.getAttribute("ttp:subFrameRate");var C=x.getAttribute("ttp:frameRateMultiplier"),H=x.getAttribute("ttp:tickRate");if(B=x.getAttribute("xml:space")||"default","default"!=B&&"preserve"!=B){throw new gb(2,2,2005)}for(B="default"==B,u=new hl(u,J,C,H),J=h3(x.getElementsByTagName("styling")[0]),C=h3(x.getElementsByTagName("layout")[0]),x=h3(x.getElementsByTagName("body")[0]),H=0;H<x.length;H++){var G=x[H],A=F.periodStart,E=u,w=J,z=C,j=B;if(G.hasAttribute("begin")||G.hasAttribute("end")||!/^\s*$/.test(G.textContent)){dG(G,j);var j=d3(G.getAttribute("begin"),E),D=d3(G.getAttribute("end"),E),E=d3(G.getAttribute("dur"),E),I=G.textContent;if(null==D&&null!=E&&(D=j+E),null==j||null==D){throw new gb(2,2,2001)}(A=d0(j+A,D+A,I))?(j=aM(G,"region",z),z=A,(D=aF(G,j,w,"tts:extent"))&&(E=gv.exec(D))&&(z.size=Number(E[1])),E=aF(G,j,w,"tts:writingMode"),D=!0,"tb"==E||"tblr"==E?z.vertical="lr":"tbrl"==E?z.vertical="rl":D=!1,(E=aF(G,j,w,"tts:origin"))&&(E=gv.exec(E))&&(D?(z.position=Number(E[2]),z.line=Number(E[1])):(z.position=Number(E[1]),z.line=Number(E[2])),z.snapToLines=!1),(w=aF(G,j,w,"tts:textAlign"))&&(z.align=w,"center"==w&&("center"!=z.align&&(z.align="middle"),z.position="auto"),z.positionAlign=bL[w],z.lineAlign=em[w]),w=A):w=null}else{w=null}w&&y.push(w)}}return y};var h7=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,cp=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,b7=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,cG=/^(\d*\.?\d*)f$/,hD=/^(\d*\.?\d*)t$/,c4=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,gv=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,em={left:"start",center:"center",right:"end",start:"start",end:"end"},bL={left:"line-left",center:"center",right:"line-right"};aI("application/ttml+xml",g5),bV.prototype.parseInit=function(f){var g=!1;if((new cz).C("moov",cg).C("trak",cg).C("mdia",cg).C("minf",cg).C("stbl",cg).da("stsd",cN).C("stpp",function(){g=!0}).parse(f),!g){throw new gb(2,2,2007)}},bV.prototype.parseMedia=function(g,h){var f=!1,j=[];if((new cz).C("mdat",hN(function(i){f=!0,j=this.a.parseMedia(i.buffer,h)}.bind(this))).parse(g),!f){throw new gb(2,2,2007)}return j},aI('application/mp4; codecs="stpp"',bV),ad.prototype.parseInit=function(){},ad.prototype.parseMedia=function(z,v){var p=hm(z),p=p.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),p=p.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(p[0])){throw new gb(2,2,2000)}var k=v.segmentStart;if(0<=p[0].indexOf("X-TIMESTAMP-MAP")){var g=p[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),y=p[0].match(/MPEGTS:(\d+)/m);g&&y&&(k=eI(new cy(g[1])),k=v.periodStart+(Number(y[1])/90000-k))}for(y=[],g=1;g<p.length;g++){var A=p[g].split("\n"),j=k;if(1==A.length&&!A[0]||/^NOTE($|[ \t])/.test(A[0])){var q=null}else{q=null,0>A[0].indexOf("-->")&&(q=A[0],A.splice(0,1));var x=new cy(A[0]),w=eI(x),m=cf(x,/[ \t]+--\x3e[ \t]+/g),u=eI(x);if(null==w||!m||null==u){throw new gb(2,2,2001)}if(A=d0(w+j,u+j,A.slice(1).join("\n").trim())){for(cf(x,/[ \t]+/gm),j=cM(x);j;){ak(A,j),cf(x,/[ \t]+/gm),j=cM(x)}null!=q&&(A.id=q),q=A}else{q=null}}q&&y.push(q)}return y},aI("text/vtt",ad),aI('text/vtt; codecs="vtt"',ad),bh.prototype.parseInit=function(f){var g=!1;if((new cz).C("moov",cg).C("trak",cg).C("mdia",cg).da("mdhd",function(h){0==h.version?(h.s.I(4),h.s.I(4),this.a=h.s.D(),h.s.I(4)):(h.s.I(8),h.s.I(8),this.a=h.s.D(),h.s.I(8)),h.s.I(4)}.bind(this)).C("minf",cg).C("stbl",cg).da("stsd",cN).C("wvtt",function(){g=!0}).parse(f),!this.a){throw new gb(2,2,2008)}if(!g){throw new gb(2,2,2008)}},bh.prototype.parseMedia=function(B,x){var u=0,m=[],g=[],A=[],C=!1,k=!1,v=!1;if((new cz).C("moof",cg).C("traf",cg).da("tfdt",function(f){C=!0,u=f.version?f.s.Qa():f.s.D()}).da("trun",function(n){k=!0;var D=n.version,l=n.Nc;n=n.s;var p=n.D();1&l&&n.I(4),4&l&&n.I(4);for(var f=[],o=0;o<p;o++){var h={duration:null,Nb:null};256&l&&(h.duration=n.D()),512&l&&n.I(4),1024&l&&n.I(4),2048&l&&(h.Nb=D?n.nc():n.D()),f.push(h)}m=f}).C("vtte",function(){g.push(null)}).C("vttc",hN(function(f){g.push(f.buffer)})).C("mdat",function(f){v=!0,cg(f)}).parse(B),!v&&!C&&!k){throw new gb(2,2,2008)}for(var z=u,y=0;y<m.length;y++){var q=m[y],w=g[y];if(q.duration){var j=q.Nb?u+q.Nb:z,z=j+q.duration;w&&A.push(fc(w,x.periodStart+j/this.a,x.periodStart+z/this.a))}}return A.filter(f8)},aI('application/mp4; codecs="wvtt"',bh),a4=fL.prototype,a4.m=function(){var f=this.b.m();return this.b=null,null!=this.f&&(gf.clearInterval(this.f),this.f=null),null!=this.j&&(gf.clearInterval(this.j),this.j=null),this.J=this.O=this.l=this.c=this.a=null,f},a4.rb=function(){return this.g},a4.Ab=function(){this.o=!0,this.hc()},a4.rd=function(){this.a.playbackRate!=(this.h||0>this.g?0:this.g)&&dp(this,this.a.playbackRate)},a4.fc=function(){var f=eX(this);0.001>Math.abs(this.a.currentTime-f)?(g6(this.b,this.a,"seeking",this.ic.bind(this)),g6(this.b,this.a,"playing",this.gc.bind(this))):(gY(this.b,this.a,"seeking",this.td.bind(this)),this.a.currentTime=f)},a4.td=function(){g6(this.b,this.a,"seeking",this.ic.bind(this)),g6(this.b,this.a,"playing",this.gc.bind(this))},a4.hc=function(){if(this.a.readyState){this.a.readyState!=this.G&&(this.i=!1,this.G=this.a.readyState);var h=this.l.smallGapLimit,l=this.a.currentTime,g=this.a.buffered;h:{if(g&&g.length&&!(1==g.length&&0.000001>g.end(0)-g.start(0))){var m=0.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(m=0.5);for(var k=0;k<g.length;k++){if(g.start(k)>l&&(!k||g.end(k-1)-l<=m)){m=k;break h}}}m=null}if(null==m){if(3>this.a.readyState&&0<this.a.playbackRate){if(this.v!=l){this.v=l,this.A=Date.now()}else{if(this.A<Date.now()-1000){for(this.A=Date.now()+5000,m=0;m<g.length;m++){if(l>=g.start(m)&&l<g.end(m)-0.5){this.a.currentTime+=0.1,this.v=this.a.currentTime;break}}}}}}else{if((m||this.o)&&(k=g.start(m),!(k>=this.c.presentationTimeline.cb()))){var f=k-l,h=f<=h,j=!1;h||this.i||(this.i=!0,f=new cZ("largegap",{currentTime:l,gapSize:f}),f.cancelable=!0,this.J(f),this.l.jumpLargeGaps&&!f.defaultPrevented&&(j=!0)),(h||j)&&(m&&g.end(m-1),bB(this,l,k))}}}},a4.ic=function(){this.o=!1;var f=this.a.currentTime,g=ek(this,f);0.001<Math.abs(g-f)?bB(this,f,g):(this.i=!1,this.O())},a4.gc=function(){var f=this.a.currentTime,g=ek(this,f);0.001<Math.abs(g-f)&&bB(this,f,g)},hT.prototype.m=function(){var f=this.j?this.j.m():Promise.resolve();return this.j=null,cm(this),this.B=this.h=this.l=this.A=this.g=this.a=null,this.c=[],f},hT.prototype.v=function(g){if(!this.c.some(function(i){return i.info.schemeIdUri==g.schemeIdUri&&i.info.startTime==g.startTime&&i.info.endTime==g.endTime})){var h={info:g,status:1};this.c.push(h);var f=new cZ("timelineregionadded",{detail:cY(g)});this.h(f),this.o(!0,h)}},hT.prototype.o=function(g,j){var f=j.info.startTime>this.a.currentTime?1:j.info.endTime<this.a.currentTime?3:2,k=2==j.status,h=2==f;f!=j.status&&((!g||k||h)&&(k||this.h(new cZ("timelineregionenter",{detail:cY(j.info)})),h||this.h(new cZ("timelineregionexit",{detail:cY(j.info)}))),j.status=f)},hT.prototype.G=function(){this.f=null,fZ(this);var g=dq(this.g,this.a.currentTime);g!=this.i&&(-1!=this.i&&this.B(),this.i=g);var g=eE(this.a.buffered,this.a.currentTime),h=ig(this.a.buffered)>=this.g.presentationTimeline.va()-0.1||this.a.ended;if(this.b){var f=1*Math.max(this.g.minBufferTime||0,this.A.rebufferingGoal);(h||g>=f)&&0!=this.b&&(this.b=!1,this.l(!1))}else{!h&&0.5>g&&1!=this.b&&(this.b=!0,this.l(!0))}this.c.forEach(this.o.bind(this,!1))},a4=ib.prototype,a4.m=function(){for(var f in this.c){aR(this.c[f])}return this.g=this.c=this.j=this.h=this.o=this.b=this.a=null,this.f=!0,Promise.resolve()},a4.configure=function(f){this.g=f},a4.init=function(){var f=this.a.bc(this.b.periods[dq(this.b,a0(this.a.Pa))]);return hq(f)?Promise.reject(new gb(2,5,5005)):bO(this,f).then(function(){this.a&&this.a.jd&&this.a.jd()}.bind(this))},a4.le=function(g){if(!this.f&&!g.ya&&null!=g.ra&&!g.ta){if(g.ra=null,g.sa){cD(this,g,g.kb)}else{try{var h=db(this,g);null!=h&&(dA(this,g,h),g.tb=!1)}catch(f){return void this.a.onError(f)}h=hk(this.c),fT(this,g),h.every(function(i){return i.endOfStream})&&this.a.K.endOfStream().then(function(){this.b.presentationTimeline.qa(this.a.K.Y())}.bind(this))}}},a4.Ed=function(p,k,j){var h=j.s.Db(),f=j.s.Db(),l=j.s.D(),q=j.s.D(),g=j.s.D(),m=j.s.D();j=j.s.La(j.s.H.byteLength-j.s.u),p=p.startTime+k.startTime+q/l,"urn:mpeg:dash:event:2012"==h?this.a.kd():this.a.onEvent(new cZ("emsg",{detail:{startTime:p,endTime:p+g/l,schemeIdUri:h,value:f,timescale:l,presentationTimeDelta:q,eventDuration:g,id:m,messageData:j}}))},gH("shaka.net.HttpPlugin",e5),e4.http=e5,e4.https=e5,a4=gZ.prototype,a4.init=function(f,g){return d2(this,f,g).then(function(){var h=Object.keys(f);return Promise.all(h.map(function(i){return aD(this,i).then(function(j){this.c[i]=j}.bind(this))}.bind(this)))}.bind(this))},a4.m=function(){return Promise.all(this.b.map(function(f){try{f.transaction.abort()}catch(g){}return f.L["catch"](g0)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))},a4.get=function(g,h){var f;return aK(this,g,"readonly",function(i){f=i.get(h)}).then(function(){return f.result})},a4.forEach=function(f,g){return aK(this,f,"readonly",function(h){h.openCursor().onsuccess=function(i){(i=i.target.result)&&(g(i.value),i["continue"]())}})},a4.remove=function(f,g){return aK(this,f,"readwrite",function(h){h["delete"](g)})};var bq={manifest:"key",segment:"key"};d6.prototype.m=function(){var g=this.j,h=this.l,f=this.i||Promise.resolve();return h.length&&(f=f.then(function(){return dE(g,h)})),this.b={},this.l=[],this.i=this.a=this.A=this.v=this.j=this.o=null,f},a4=eV.prototype,a4.configure=function(){},a4.start=function(g){var h=/^offline:([0-9]+)$/.exec(g);if(!h){return Promise.reject(new gb(2,1,9004,g))}var f=Number(h[1]),j=e9();return this.a=f,j?j.init(bq).then(function(){return j.get("manifest",f)}).then(function(i){if(!i){throw new gb(2,9,9003,f)}return dk(i)}).then(function(i){return j.m().then(function(){return i})},function(i){return j.m().then(function(){throw i})}):Promise.reject(new gb(2,9,9000))},a4.stop=function(){return Promise.resolve()},a4.update=function(){},a4.onExpirationUpdated=function(g,h){var f=e9();f.init(bq).then(function(){return f.get("manifest",this.a)}.bind(this)).then(function(i){if(i&&!(0>i.sessionIds.indexOf(g))&&(void 0==i.expiration||i.expiration>h)){return i.expiration=h,h1(f,"manifest",i)}})["catch"](function(){}).then(function(){return f.m()})},eU["application/x-offline-manifest"]=eV,gH("shaka.offline.OfflineScheme",ej),e4.offline=ej,bz.prototype.then=function(f){return this.a=this.a.then(f).then(function(g){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(g)}.bind(this)),this},bz.prototype.cancel=function(f){return this.c?Promise.resolve():(this.b=!0,this.h=f,this.i)},gB(hQ),gH("shaka.Player",hQ),hQ.prototype.m=function(){this.O=!0;var f=Promise.resolve();return this.J&&(f=this.J.cancel(new gb(2,7,7000))),f.then(function(){var g=Promise.all([this.ma,b8(this),this.l?this.l.m():null,this.o?this.o.m():null]);return this.b=this.o=this.Qb=this.l=this.A=this.f=null,g}.bind(this))},hQ.prototype.destroy=hQ.prototype.m,hQ.version="v2.1.5";var fF={};hQ.registerSupportPlugin=function(f,g){fF[f]=g},hQ.isBrowserSupported=function(){return !!(gf.Promise&&gf.Uint8Array&&Array.prototype.forEach&&gf.MediaSource&&gf.MediaSource.isTypeSupported&&gf.MediaKeys&&gf.navigator&&gf.navigator.requestMediaKeySystemAccess&&gf.MediaKeySystemAccess&&gf.MediaKeySystemAccess.prototype.getConfiguration)},hQ.probeSupport=function(){return gW().then(function(g){var h=aN(),f=e7();g={manifest:h,media:f,drm:g};for(var j in fF){g[j]=fF[j]()}return g})},hQ.prototype.load=function(h,k,g){var l=this.ib(),j=new bz;this.J=j,this.dispatchEvent(new cZ("loading"));var f=Date.now();return aq(j.then(function(){return l}).then(function(){return this.i=gx(),g6(this.l,this.f,"playing",this.Ta.bind(this)),g6(this.l,this.f,"pause",this.Ta.bind(this)),g6(this.l,this.f,"ended",this.Ta.bind(this)),d7(h,this.o,this.b.manifest.retryParameters,g)}.bind(this)).then(function(i){return this.h=new i,this.h.configure(this.b.manifest),i={networkingEngine:this.o,filterPeriod:this.gb.bind(this),onTimelineRegionAdded:this.xd.bind(this),onEvent:this.hb.bind(this),onError:this.za.bind(this)},2<this.h.start.length?this.h.start(h,this.o,i.filterPeriod,i.onError,i.onEvent):this.h.start(h,i)}.bind(this)).then(function(i){if(i.periods.some(function(m){return m.variants.some(function(n){return n.video&&n.audio})})&&i.periods.forEach(function(m){m.variants=m.variants.filter(function(n){return n.video&&n.audio})}),0==i.periods.length){throw new gb(2,4,4014)}return this.c=i,this.Za=h,this.j=new c8(this.o,this.za.bind(this),this.ce.bind(this),this.be.bind(this)),this.j.configure(this.b.drm),this.j.init(i,!1)}.bind(this)).then(function(){return this.c.periods.forEach(this.gb.bind(this)),this.Va=Date.now()/1000,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,Promise.all([b0(this.j,this.f),this.Xa])}.bind(this)).then(function(){return this.b.abr.manager.init(this.Lb.bind(this)),this.g=new fL(this.f,this.c,this.b.streaming,k||null,this.de.bind(this),this.hb.bind(this)),this.v=new hT(this.f,this.c,this.b.streaming,this.zc.bind(this),this.hb.bind(this),this.ae.bind(this)),this.ka=new bc(this.f,this.N,this.A),this.a=new ib(this.c,{Pa:this.g,K:this.ka,dd:this.o,bc:this.ed.bind(this),ac:this.Gc.bind(this),onError:this.za.bind(this),onEvent:this.hb.bind(this),kd:this.ld.bind(this),Ab:this.ud.bind(this)}),this.a.configure(this.b.streaming),cW(this),this.a.init()}.bind(this)).then(function(){if(this.b.streaming.startAtSegmentBoundary){var i=bA(this,a0(this.g));fw(this.g,i)}this.c.periods.forEach(this.gb.bind(this)),cd(this),du(this);var i=cv(this.a),m=el(i,this.ja);this.b.abr.manager.setVariants(m),i.variants.some(function(n){return n.primary}),this.Ya.forEach(this.v.v.bind(this.v)),this.Ya=[],gY(this.l,this.f,"loadeddata",function(){this.i.loadLatency=(Date.now()-f)/1000}.bind(this)),this.J=null}.bind(this)))["catch"](function(i){return this.J==j&&(this.J=null,this.dispatchEvent(new cZ("unloading"))),Promise.reject(i)}.bind(this))},hQ.prototype.load=hQ.prototype.load,hQ.prototype.configure=function(f){f.abr&&f.abr.manager&&f.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),f.abr.manager.init(this.Lb.bind(this))),hA(this.b,f,c5(this),hE(),""),cl(this)},hQ.prototype.configure=hQ.prototype.configure,hQ.prototype.getConfiguration=function(){var f=c5(this);return hA(f,this.b,c5(this),hE(),""),f},hQ.prototype.getConfiguration=hQ.prototype.getConfiguration,hQ.prototype.Sd=function(){var f=c5(this);f.abr&&f.abr.manager&&f.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),f.abr.manager.init(this.Lb.bind(this))),this.b=c5(this),cl(this)},hQ.prototype.resetConfiguration=hQ.prototype.Sd,hQ.prototype.Sc=function(){return this.f},hQ.prototype.getMediaElement=hQ.prototype.Sc,hQ.prototype.Wb=function(){return this.o},hQ.prototype.getNetworkingEngine=hQ.prototype.Wb,hQ.prototype.Rc=function(){return this.Za},hQ.prototype.getManifestUri=hQ.prototype.Rc,hQ.prototype.$=function(){return !!this.c&&this.c.presentationTimeline.$()},hQ.prototype.isLive=hQ.prototype.$,hQ.prototype.wa=function(){return !!this.c&&this.c.presentationTimeline.wa()},hQ.prototype.isInProgress=hQ.prototype.wa,hQ.prototype.Ud=function(){var f=0,g=0;return this.c&&(g=this.c.presentationTimeline,f=g.na(),g=g.cb()),{start:f,end:g}},hQ.prototype.seekRange=hQ.prototype.Ud,hQ.prototype.keySystem=function(){return this.j?this.j.keySystem():""},hQ.prototype.keySystem=hQ.prototype.keySystem,hQ.prototype.drmInfo=function(){return this.j?this.j.b:null},hQ.prototype.drmInfo=hQ.prototype.drmInfo,hQ.prototype.bb=function(){return this.j?this.j.bb():1/0},hQ.prototype.getExpiration=hQ.prototype.bb,hQ.prototype.$c=function(){return this.la},hQ.prototype.isBuffering=hQ.prototype.$c,hQ.prototype.ib=function(){if(this.O){return Promise.resolve()}this.dispatchEvent(new cZ("unloading"));var f=Promise.resolve();return this.J&&(f=this.J.cancel(new gb(2,7,7000))),f.then(function(){return this.ma||(this.ma=cH(this).then(function(){this.ma=null}.bind(this))),this.ma}.bind(this))},hQ.prototype.unload=hQ.prototype.ib,hQ.prototype.rb=function(){return this.g?this.g.rb():0},hQ.prototype.getPlaybackRate=hQ.prototype.rb,hQ.prototype.oe=function(f){this.g&&dp(this.g,f),this.a&&hG(this.a,1!=f)},hQ.prototype.trickPlay=hQ.prototype.oe,hQ.prototype.Hc=function(){this.g&&dp(this.g,1),this.a&&hG(this.a,!1)},hQ.prototype.cancelTrickPlay=hQ.prototype.Hc,hQ.prototype.getTracks=function(){return this.Yb().concat(this.Xb())},hQ.prototype.getTracks=hQ.prototype.getTracks,hQ.prototype.Xd=function(f,g){"text"==f.type?this.tc(f):(this.configure({abr:{enabled:!1}}),this.uc(f,g))},hQ.prototype.selectTrack=hQ.prototype.Xd,hQ.prototype.Yb=function(){if(!this.c){return[]}var f=dq(this.c,a0(this.g)),g=this.B[f]||{};return b6(this.c.periods[f],g.audio,g.video)},hQ.prototype.getVariantTracks=hQ.prototype.Yb,hQ.prototype.Xb=function(){if(!this.c){return[]}var f=dq(this.c,a0(this.g));return cF(this.c.periods[f],(this.B[f]||{}).text).filter(function(g){return 0>this.Wa.indexOf(g.id)}.bind(this))},hQ.prototype.getTextTracks=hQ.prototype.Xb,hQ.prototype.tc=function(f){if(this.a&&(f=c3(cv(this.a),f))){h8(this,f,!1);var g={};g.text=f,ep(this,g,!0)}},hQ.prototype.selectTextTrack=hQ.prototype.tc,hQ.prototype.uc=function(g,j){if(this.a){var f={},k=hC(cv(this.a),g),h=cb(this.a);if(k){if(!k.allowedByApplication||!k.allowedByKeySystem){return}k.audio&&(cq(this,k.audio),k.audio!=h.audio&&(f.audio=k.audio)),k.video&&(cq(this,k.video),k.video!=h.video&&(f.video=k.video))}hk(f).forEach(function(i){h8(this,i,!1)}.bind(this)),(k=h.text)&&(f.text=k),ep(this,f,j)}},hQ.prototype.selectVariantTrack=hQ.prototype.uc,hQ.prototype.Pc=function(){return this.a?gu(cv(this.a).variants).map(function(f){return f.language}).filter(gy):[]},hQ.prototype.getAudioLanguages=hQ.prototype.Pc,hQ.prototype.Yc=function(){return this.a?cv(this.a).textStreams.map(function(f){return f.language}).filter(gy):[]},hQ.prototype.getTextLanguages=hQ.prototype.Yc,hQ.prototype.Vd=function(g,h){if(this.a){var f=cv(this.a);this.ja=g,this.mb=h||"",eK(this,f)}},hQ.prototype.selectAudioLanguage=hQ.prototype.Vd,hQ.prototype.Wd=function(g,h){if(this.a){var f=cv(this.a);this.Da=g,this.lb=h||"",eK(this,f)}},hQ.prototype.selectTextLanguage=hQ.prototype.Wd,hQ.prototype.bd=function(){return"showing"==this.A.mode},hQ.prototype.isTextTrackVisible=hQ.prototype.bd,hQ.prototype.Zd=function(f){this.A.mode=f?"showing":"hidden",hV(this)},hQ.prototype.setTextTrackVisibility=hQ.prototype.Zd,hQ.prototype.Uc=function(){return this.c?new Date(1000*this.c.presentationTimeline.f+1000*this.f.currentTime):null},hQ.prototype.getPlayheadTimeAsDate=hQ.prototype.Uc,hQ.prototype.getStats=function(){bM(this),this.Ta();var g=null,h=null,f=this.f&&this.f.getVideoPlaybackQuality?this.f.getVideoPlaybackQuality():{};return this.g&&this.c&&(g=dq(this.c,a0(this.g)),h=this.B[g],h=fM(h.audio,h.video,this.c.periods[g].variants),g=h.video||{}),g||(g={}),h||(h={}),{width:g.width||0,height:g.height||0,streamBandwidth:h.bandwidth||0,decodedFrames:Number(f.totalVideoFrames),droppedFrames:Number(f.droppedVideoFrames),estimatedBandwidth:this.b.abr.manager.getBandwidthEstimate(),loadLatency:this.i.loadLatency,playTime:this.i.playTime,bufferingTime:this.i.bufferingTime,switchHistory:f7(this.i.switchHistory),stateHistory:f7(this.i.stateHistory)}},hQ.prototype.getStats=hQ.prototype.getStats,hQ.prototype.addTextTrack=function(v,m,k,j,f,p){if(!this.a){return Promise.reject()}for(var w,g=cv(this.a),q=0;q<this.c.periods.length;q++){if(this.c.periods[q]==g){if(q==this.c.periods.length-1){if(w=this.c.presentationTimeline.Y()-g.startTime,1/0==w){return Promise.reject()}}else{w=this.c.periods[q+1].startTime-g.startTime}break}}var l={id:this.Dc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(h){return 1!=h?null:new f3(1,0,w,function(){return[v]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:j,codecs:f||"",kind:k,encrypted:!1,keyId:null,language:m,label:p||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]};return this.Wa.push(l.id),g.textStreams.push(l),cJ(this.a,l).then(function(){if(!this.O){var h=this.c.periods.indexOf(g),i=cb(this.a);return i.text&&(this.B[h].text=i.text.id),this.Wa.splice(this.Wa.indexOf(l.id),1),eK(this,g),cd(this),{id:l.id,active:!1,type:"text",bandwidth:0,language:m,label:p||null,kind:k,width:null,height:null}}}.bind(this))},hQ.prototype.addTextTrack=hQ.prototype.addTextTrack,hQ.prototype.Jb=function(f,g){this.ob.width=f,this.ob.height=g},hQ.prototype.setMaxHardwareResolution=hQ.prototype.Jb,a4=hQ.prototype,a4.gb=function(f){var g=this.a?cb(this.a):{};if(h6(this.j,g,f),g=0<gu(f.variants).length,cj(f,this.b.restrictions,this.ob)&&this.a&&cv(this.a)==f&&cd(this),f=1>gu(f.variants).length,!g){throw new gb(2,4,4011)}if(f){throw new gb(2,4,4012)}},a4.ee=function(f,g){this.b.abr.manager.segmentDownloaded(f,g)},a4.zc=function(f){if(bM(this),this.la=f,this.Ta(),this.g){var g=this.g;f!=g.h&&(g.h=f,dp(g,g.g))}this.dispatchEvent(new cZ("buffering",{buffering:f}))},a4.ae=function(){cd(this)},a4.Ta=function(){if(!this.O){var g=this.la?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",h=Date.now()/1000;if(this.i.stateHistory.length){var f=this.i.stateHistory[this.i.stateHistory.length-1];if(f.duration=h-f.timestamp,g==f.state){return}}this.i.stateHistory.push({timestamp:h,state:g,duration:0})}},a4.de=function(){if(this.v){var f=this.v;f.c.forEach(f.o.bind(f,!0))}this.a&&gE(this.a)},a4.ed=function(g){this.$a=!0,this.b.abr.manager.disable();var h=el(g,this.ja,void 0,this.mb),f=bK(g,this.Da,void 0,this.lb);g=fN(this,g,h,f,!0);for(var j in this.G){g[j]=this.G[j].stream}this.G={};for(j in g){h8(this,g[j],!0)}return g},a4.Gc=function(){this.$a=!1,this.b.abr.enabled&&this.b.abr.manager.enable();for(var f in this.G){var g=this.G[f];c7(this.a,f,g.stream,g.Kc)}this.G={}},a4.ld=function(){this.h&&this.h.update&&this.h.update()},a4.ud=function(){this.g&&this.g.Ab()},a4.Lb=function(g,j){var f,k=cb(this.a);for(f in g){var h=g[f];k[f]!=h?h8(this,h,!0):delete g[f]}if(!hq(g)&&this.a){for(f in g){c7(this.a,f,g[f],j||!1)}du(this)}},a4.za=function(f){this.O||this.dispatchEvent(new cZ("error",{detail:f}))},a4.xd=function(f){this.v?this.v.v(f):this.Ya.push(f)},a4.hb=function(f){this.dispatchEvent(f)},a4.yd=function(){if(this.f.error){var f=this.f.error.code;if(1!=f){var g=this.f.error.msExtendedCode;g&&(0>g&&(g+=Math.pow(2,32)),g=g.toString(16)),this.za(new gb(2,3,3016,f,g,this.f.error.message))}}},a4.ce=function(h){var k=["output-restricted","internal-error"],g=cv(this.a),l=!1,j=1==Object.keys(h).length&&"00"==Object.keys(h)[0];g.variants.forEach(function(n){var m=[];n.audio&&m.push(n.audio),n.video&&m.push(n.video),m.forEach(function(i){var o=n.allowedByKeySystem;i.keyId&&(i=h[j?"00":i.keyId],n.allowedByKeySystem=!!i&&0>k.indexOf(i)),o!=n.allowedByKeySystem&&(l=!0)})});var f=cb(this.a);(f=bw(f.audio,f.video,g.variants))&&!f.allowedByKeySystem&&eK(this,g),l&&cd(this)},a4.be=function(f,g){this.h&&this.h.onExpirationUpdated&&this.h.onExpirationUpdated(f,g),this.dispatchEvent(new cZ("expirationupdated"))},gH("shaka.offline.Storage",bT),bT.support=c0,bT.prototype.m=function(){var f=this.a,g=this.h?this.h.m()["catch"](function(){}).then(function(){if(f){return f.m()}}):Promise.resolve();return this.i=this.f=this.h=this.a=null,g},bT.prototype.destroy=bT.prototype.m,bT.prototype.configure=function(f){hA(this.i,f,eZ(this),{},"")},bT.prototype.configure=bT.prototype.configure,bT.prototype.me=function(h,k,g){function l(i){f=i}if(this.v){return Promise.reject(new gb(2,9,9006))}this.v=!0;var j,f=null;return gK(this).then(function(){return cL(this),bg(this,h,l,g)}.bind(this)).then(function(o){if(cL(this),this.c=o.manifest,this.b=o.Lc,this.c.presentationTimeline.$()||this.c.presentationTimeline.wa()){throw new gb(2,9,9005,h)}this.c.periods.forEach(this.o.bind(this)),this.g=this.a.c.manifest++,this.l=0,o=this.c.periods.map(this.B.bind(this));var p=this.b.b,m=cP(this.b);if(p){if(!m.length){throw new gb(2,9,9007,h)}p.initData=[]}return j={key:this.g,originalManifestUri:h,duration:this.l,size:0,expiration:this.b.bb(),periods:o,sessionIds:m,drmInfo:p,appMetadata:k},fu(this.h,j)}.bind(this)).then(function(){if(cL(this),f){throw f}return f1(this)}.bind(this)).then(function(){return hc(j)}.bind(this))["catch"](function(i){return f1(this)["catch"](g0).then(function(){throw i})}.bind(this))},bT.prototype.store=bT.prototype.me,bT.prototype.remove=function(h){function l(i){6013!=i.code&&(j=i)}var g=h.offlineUri,p=/^offline:([0-9]+)$/.exec(g);if(!p){return Promise.reject(new gb(2,9,9004,g))}var k,f,j=null,m=Number(p[1]);return gK(this).then(function(){return cL(this),this.a.get("manifest",m)}.bind(this)).then(function(i){if(cL(this),!i){throw new gb(2,9,9003,g)}return k=i,i=dk(k),f=new c8(this.f.o,l,function(){},function(){}),f.configure(this.f.getConfiguration().drm),f.init(i,!0)}.bind(this)).then(function(){return hH(f,k.sessionIds)}.bind(this)).then(function(){return f.m()}.bind(this)).then(function(){if(cL(this),j){throw j}var r=k.periods.map(function(i){return i.streams.map(function(n){var u=n.segments.map(function(v){return v=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(v.uri),Number(v[1])});return n.initSegmentUri&&(n=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(n.initSegmentUri),u.push(Number(n[1]))),u}).reduce(f6,[])}).reduce(f6,[]),q=0,s=r.length,o=this.i.progressCallback;return dE(this.a,r,function(){q++,o(h,q/s)})}.bind(this)).then(function(){return cL(this),this.i.progressCallback(h,1),this.a.remove("manifest",m)}.bind(this))},bT.prototype.remove=bT.prototype.remove,bT.prototype.list=function(){var f=[];return gK(this).then(function(){return cL(this),this.a.forEach("manifest",function(g){f.push(hc(g))})}.bind(this)).then(function(){return f})},bT.prototype.list=bT.prototype.list,bT.prototype.A=function(h){for(var l,g=[],p=cU(this.f.getConfiguration().preferredAudioLanguage),k=[0,h0,dD],f=h.filter(function(i){return"variant"==i.type}),k=k.map(function(i){return f.filter(function(n){return n=cU(n.language),hO(i,p,n)})}),j=0;j<k.length;j++){if(k[j].length){l=k[j];break}}l||(k=f.filter(function(i){return i.primary}),k.length&&(l=k)),l||(l=f,f.map(function(i){return i.language}).filter(gy));var m=l.filter(function(i){return i.height&&480>=i.height});return m.length&&(m.sort(function(i,n){return n.height-i.height}),l=m.filter(function(i){return i.height==m[0].height})),l.sort(function(i,n){return i.bandwidth-n.bandwidth}),l.length&&g.push(l[Math.floor(l.length/2)]),g.push.apply(g,h.filter(function(i){return"text"==i.type})),g},bT.prototype.o=function(g){var h={};if(this.j){var f=this.j.filter(function(i){return"variant"==i.type}),j=null;f.length&&(j=hC(g,f[0])),j&&(j.video&&(h.video=j.video),j.audio&&(h.audio=j.audio))}h6(this.b,h,g),cj(g,this.f.getConfiguration().restrictions,{width:1/0,height:1/0})},bT.prototype.B=function(h){var k,g,l=b6(h,null,null),j=cF(h,null),l=this.i.trackSelectionCallback(l.concat(j));for(this.j||(this.j=l,this.c.periods.forEach(this.o.bind(this))),j=l.length-1;0<j;--j){var f=!1;for(g=j-1;0<=g;--g){if(l[j].type==l[g].type&&l[j].kind==l[g].kind&&l[j].language==l[g].language){f=!0;break}}if(f){break}}for(f=[],j=0;j<l.length;j++){(k=hC(h,l[j]))?(k.audio&&((g=f.filter(function(i){return i.id==k.audio.id})[0])?g.variantIds.push(k.id):(g=k.video?k.bandwidth/2:k.bandwidth,f.push(fy(this,h,k.audio,g,k.id)))),k.video&&((g=f.filter(function(i){return i.id==k.video.id})[0])?g.variantIds.push(k.id):(g=k.audio?k.bandwidth/2:k.bandwidth,f.push(fy(this,h,k.video,g,k.id))))):f.push(fy(this,h,c3(h,l[j]),0))}return{startTime:h.startTime,streams:f}},fF.offline=c0,gH("shaka.polyfill.installAll",function(){for(var f=0;f<eD.length;++f){eD[f]()}});var eD=[];gH("shaka.polyfill.register",dI),dI(function(){if(gf.Document){var f=Element.prototype;f.requestFullscreen=f.requestFullscreen||f.mozRequestFullScreen||f.msRequestFullscreen||f.webkitRequestFullscreen,f=Document.prototype,f.exitFullscreen=f.exitFullscreen||f.mozCancelFullScreen||f.msExitFullscreen||f.webkitExitFullscreen,"fullscreenElement" in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",aZ),document.addEventListener("webkitfullscreenerror",aZ),document.addEventListener("mozfullscreenchange",aZ),document.addEventListener("mozfullscreenerror",aZ),document.addEventListener("MSFullscreenChange",aZ),document.addEventListener("MSFullscreenError",aZ)}}),dI(function(){var f=navigator.userAgent;f&&0<=f.indexOf("CrKey")&&delete gf.indexedDB});var dd;dI(function(){0>navigator.userAgent.indexOf("Trident/")||(dd=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=ff)}),dI(function(){if(4503599627370497!=Math.round(4503599627370497)){var f=Math.round;Math.round=function(h){var g=h;return 4503599627370496>=h&&(g=f(h)),g}}}),hw.prototype.c=function(h){if(!(1<h.version)){var k=fC(h.s.La(16)),g=[];if(0<h.version){for(var l=h.s.D(),j=0;j<l;++j){var f=fC(h.s.La(16));g.push(f)}}l=h.s.D(),h.s.I(l),this.b.push.apply(this.b,g),this.f.push(k),this.a.push({start:h.start,end:h.start+h.size-1})}},dL.prototype.createMediaKeys=function(){var f=new aS(this.keySystem);return Promise.resolve(f)},dL.prototype.getConfiguration=function(){return this.a},aS.prototype.createSession=function(f){if("temporary"!=(f||"temporary")){throw new TypeError("Session type "+f+" is unsupported on this platform.")}return new dZ(this.a)},aS.prototype.setServerCertificate=function(){return Promise.resolve(!1)},gB(dZ),a4=dZ.prototype,a4.generateRequest=function(g,h){this.a=new gO;try{this.c=this.g.createSession("video/mp4",new Uint8Array(h),null),g6(this.f,this.c,"mskeymessage",this.pd.bind(this)),g6(this.f,this.c,"mskeyadded",this.nd.bind(this)),g6(this.f,this.c,"mskeyerror",this.od.bind(this)),au(this,"status-pending")}catch(f){this.a.reject(f)}return this.a},a4.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},a4.update=function(f){this.b=new gO;try{this.c.update(new Uint8Array(f))}catch(g){this.b.reject(g)}return this.b},a4.close=function(){try{this.c.close(),this.closed.resolve(),gz(this.f)}catch(f){this.closed.reject(f)}return this.closed},a4.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},a4.pd=function(f){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new cZ("message",{messageType:void 0==this.keyStatuses.sb()?"licenserequest":"licenserenewal",message:f.message.buffer}))},a4.nd=function(){this.a?(au(this,"usable"),this.a.resolve(),this.a=null):this.b&&(au(this,"usable"),this.b.resolve(),this.b=null)},a4.od=function(){var f=Error("EME PatchedMediaKeysMs key error");if(f.errorCode=this.c.error,this.a){this.a.reject(f),this.a=null}else{if(this.b){this.b.reject(f),this.b=null}else{switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:au(this,"output-not-allowed");default:au(this,"internal-error")}}}};var b4;a4=ay.prototype,a4.Kb=function(f){this.size=void 0==f?0:1,this.a=f},a4.sb=function(){return this.a},a4.forEach=function(f){this.a&&f(this.a,b4)},a4.get=function(f){if(this.has(f)){return this.a}},a4.has=function(f){var g=b4;return !(!this.a||!eA(new Uint8Array(f),new Uint8Array(g)))},a4.entries=function(){},a4.keys=function(){},a4.values=function(){},fj.prototype.createSession=function(){},fj.prototype.setServerCertificate=function(){},ef.prototype.getConfiguration=function(){},ef.prototype.createMediaKeys=function(){};var hL="";dx.prototype.createMediaKeys=function(){var f=new ew(this.a);return Promise.resolve(f)},dx.prototype.getConfiguration=function(){return this.b},a4=ew.prototype,a4.createSession=function(f){var g=f||"temporary";if("temporary"!=g&&"persistent-license"!=g){throw new TypeError("Session type "+f+" is unsupported on this platform.")}return f=this.b||document.createElement("video"),f.src||(f.src="about:blank"),g=new h2(f,this.g,g),this.c.push(g),g},a4.setServerCertificate=function(){return Promise.resolve(!1)},a4.Cd=function(f){var g=document.createEvent("CustomEvent");g.initCustomEvent("encrypted",!1,!1,null),g.initDataType="webm",g.initData=f.initData,this.b.dispatchEvent(g)},a4.Bd=function(f){var g=aE(this,f.sessionId);g&&(f=new cZ("message",{messageType:void 0==g.keyStatuses.sb()?"licenserequest":"licenserenewal",message:f.message}),g.b&&(g.b.resolve(),g.b=null),g.dispatchEvent(f))},a4.zd=function(f){(f=aE(this,f.sessionId))&&(f5(f,"usable"),f.a&&f.a.resolve(),f.a=null)},a4.Ad=function(g){var h=aE(this,g.sessionId);if(h){var f=Error("EME v0.1b key error");f.errorCode=g.errorCode,f.errorCode.systemCode=g.systemCode,!g.sessionId&&h.b?(f.method="generateRequest",45==g.systemCode&&(f.message="Unsupported session type."),h.b.reject(f),h.b=null):g.sessionId&&h.a?(f.method="update",h.a.reject(f),h.a=null):(f=g.systemCode,g.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?f5(h,"output-restricted"):1==f?f5(h,"expired"):f5(h,"internal-error"))}},gB(h2),a4=h2.prototype,a4.Mb=function(h,k){if(this.a){this.a.then(this.Mb.bind(this,h,k))["catch"](this.Mb.bind(this,h,k))}else{if(this.a=h,"webkit-org.w3.clearkey"==this.c){var g=hm(k),l=JSON.parse(g);"oct"!=l.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),g=gR(l.keys[0].k),l=gR(l.keys[0].kid)}else{g=new Uint8Array(k),l=null}var j=fB("addKey");try{this.f[j](this.c,g,l,this.sessionId)}catch(f){this.a.reject(f),this.a=null}}},a4.generateRequest=function(f,g){return c6(this,g,null)},a4.load=function(f){return"persistent-license"==this.g?c6(this,null,f):Promise.reject(Error("Not a persistent session."))},a4.update=function(f){var g=new gO;return this.Mb(g,f),g},a4.close=function(){if("persistent-license"!=this.g){if(!this.sessionId){return this.closed.reject(Error("The session is not callable.")),this.closed}var f=fB("cancelKeyRequest");try{this.f[f](this.c,this.sessionId)}catch(g){}}return this.closed.resolve(),this.closed},a4.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var bI;a4=cx.prototype,a4.Kb=function(f){this.size=void 0==f?0:1,this.a=f},a4.sb=function(){return this.a},a4.forEach=function(f){this.a&&f(this.a,bI)},a4.get=function(f){if(this.has(f)){return this.a}},a4.has=function(f){var g=bI;return !(!this.a||!eA(new Uint8Array(f),new Uint8Array(g)))},a4.entries=function(){},a4.keys=function(){},a4.values=function(){},dI(function(){!gf.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?fQ("webkit"):HTMLMediaElement.prototype.generateKeyRequest?fQ(""):gf.MSMediaKeys?(b4=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=aL,gf.MediaKeys=aS,gf.MediaKeySystemAccess=dL,navigator.requestMediaKeySystemAccess=h9):(navigator.requestMediaKeySystemAccess=eN,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=bp,gf.MediaKeys=fj,gf.MediaKeySystemAccess=ef))}),dI(function(){if(gf.MediaSource){var g=navigator.vendor,f=navigator.appVersion;!g||!f||0>g.indexOf("Apple")||(0<=f.indexOf("Version/8")?gf.MediaSource=null:0<=f.indexOf("Version/9")?ac():0<=f.indexOf("Version/10")&&(ac(),cA()))}});var cS=0;hR.prototype.then=function(g,h){var f=new hR;switch(this.Ba){case 1:bm(this,f,g);break;case 2:bm(this,f,h);break;case cS:this.c.push({L:f,pb:g}),this.b.push({L:f,pb:h})}return f},hR.prototype["catch"]=function(f){return this.then(void 0,f)},hR.prototype.fa=function(f){if(this.Ba==cS){for(this.jb=f,this.Ba=1,f=0;f<this.c.length;++f){bm(this,this.c[f].L,this.c[f].pb)}this.c=[],this.b=[]}},hR.prototype.a=function(f){if(this.Ba==cS){for(this.jb=f,this.Ba=2,f=0;f<this.b.length;++f){bm(this,this.b[f].L,this.b[f].pb)}this.c=[],this.b=[]}};var a7=null,eR=[];dI(function(f){gf.setImmediate?(c9=function(g){return gf.setImmediate(g)},b1=function(g){return gf.clearImmediate(g)}):(c9=function(g){return gf.setTimeout(g,0)},b1=function(g){return gf.clearTimeout(g)}),gf.Promise&&!f||(gf.Promise=hR,gf.Promise.resolve=dm,gf.Promise.reject=gQ,gf.Promise.all=ez,gf.Promise.race=bX,gf.Promise.prototype.then=hR.prototype.then,gf.Promise.prototype["catch"]=hR.prototype["catch"])}),dI(function(){if(gf.HTMLMediaElement){var f=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var g=f.apply(this,arguments);return g&&g["catch"](function(){}),g}}}),dI(function(){if(gf.HTMLVideoElement){var f=HTMLVideoElement.prototype;!f.getVideoPlaybackQuality&&"webkitDroppedFrameCount" in f&&(f.getVideoPlaybackQuality=hI)}}),dI(function(){if(!gf.VTTCue&&gf.TextTrackCue){var g=TextTrackCue.length;if(3==g){gf.VTTCue=bF}else{if(6==g){gf.VTTCue=cQ}else{try{var f=!!bF(1,2,"")}catch(h){f=!1}f&&(gf.VTTCue=bF)}}}})}).call(e,this),"undefined"!=typeof b&&b.exports?b.exports=e.shaka:(d=function(){return e.shaka}.call(c,a,c,b),!(void 0!==d&&(b.exports=d)))}()}});